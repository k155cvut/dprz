{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Charakterisika p\u0159edm\u011btu","text":""},{"location":"#charakteristika-predmetu","title":"Charakteristika p\u0159edm\u011btu","text":"<p>Cvi\u010den\u00ed z p\u0159edm\u011btu 155DPRZ v\u00e1s sezn\u00e1m\u00ed ze z\u00e1klady d\u00e1lkov\u00e9ho pr\u016fzkumu Zem\u011b. </p> <p>Nau\u010d\u00edte se:</p> <ul> <li>zpracov\u00e1vat a analyzovat dru\u017eicov\u00e1 rastrov\u00e1 data</li> <li>porozum\u011bt spektr\u00e1ln\u00edm k\u0159ivk\u00e1m</li> <li>filtrovat rastrov\u00e1 data pomoc\u00ed p\u0159eddefinovan\u00fdch filtr\u016f</li> <li>po\u010d\u00edtat a vyu\u017e\u00edvat vegeta\u010dn\u00ed indexy</li> <li>klasifikovat obrazov\u00e1 data pomoc\u00ed \u0159\u00edzen\u00e9 i ne\u0159\u00edzen\u00e9 klasifikace</li> <li>analyzovat tepeln\u00e9 ostrovy </li> <li>pou\u017e\u00edvat cloudov\u00e9 n\u00e1stroje pro zpracov\u00e1n\u00ed dat DPZ</li> </ul> <p>B\u011bhem v\u00fduky bude pou\u017e\u00edv\u00e1n p\u0159ev\u00e1\u017en\u011b open source software SNAP. \u010c\u00e1st cvi\u010den\u00ed bude prob\u00edhat v softwaru ArcGIS Pro. Na konci kurzu je pak jedno cvi\u010den\u00ed v\u011bnov\u00e1no pr\u00e1ci v cloudov\u00e9m prost\u0159ed\u00ed Google Earth Engine.</p> <p> </p>"},{"location":"#snap-tutorialy","title":"SNAP tutori\u00e1ly","text":"<p> step.esa.intTutorials \u2013 STEP  youtube.comESA SNAP Tutorials  youtube.comIntroductory Remote Sensing  youtube.comSentinel-1 Complete Tutorials in SNAP</p>"},{"location":"#dpz-v-arcgis-pro","title":"DPZ v ArcGIS Pro","text":"<p> pro.arcgis.comImagery and remote sensing in ArcGIS Pro  youtube.comRemote Sensing in ArcGIS Pro  youtube.comArcGIS Pro Image Processing  youtube.comImagery and Remote Sensing  youtube.comRemote Sensing with ArcGIS Pro</p>"},{"location":"#doporucena-literatura","title":"Doporu\u010den\u00e1 literatura","text":"<ol> <li>Halounov\u00e1 L., Pavelka K.: D\u00e1lkov\u00fd pr\u016fzkum Zem\u011b. Vydavatelstv\u00ed \u010cVUT, Praha 2007. ISBN: 80-01-03124-1</li> <li>Dobrovoln\u00fd, P.: D\u00e1lkov\u00fd pr\u016fzkum Zem\u011b. Brno 1998. ISBN: 80-210-1812-7</li> <li>Halounov\u00e1, L.: Zpracov\u00e1n\u00ed obrazov\u00fdch dat. \u010cVUT v Praze, 2008. ISBN: 978-80-01-04253-3</li> <li>Lillesand, T.M., Kiefer, R.W., Chipman, J.W.: Remote Sensing and Image Interpretation, 7th Ed., Wiley, 2007. ISBN: 978-1-118-34328-9</li> <li>Canty, M.J.: Image Analysis, Clasification and Change Detection in Remote Sensing. CRC Taylor &amp; Francis. 2007. ISBN: 0-8493-7251-8</li> </ol>"},{"location":"#prednasky","title":"P\u0159edn\u00e1\u0161ky","text":"<p>\u00da\u010dast doporu\u010den\u00e1.</p> <p>P\u0159edn\u00e1\u0161ej\u00edc\u00ed: Prof. Dr. Ing. Karel Pavelka</p> <ol> <li>Co je DPZ, historie DPZ a jeho ko\u0159en\u016f</li> <li>Elektromagnetick\u00e9 z\u00e1\u0159en\u00ed - vznik a popis</li> <li>Veli\u010diny pou\u017e\u00edvan\u00e9 v DPZ a jejich jednotky, druhy z\u00e1\u0159en\u00ed</li> <li>Zdroje z\u00e1\u0159en\u00ed, interakce z\u00e1\u0159en\u00ed</li> <li>Odrazivost, propustnost, absorpce</li> <li>Atmosf\u00e9ra, interakce atmosf\u00e9ry s elektromagnetick\u00fdm z\u00e1\u0159en\u00edm</li> <li>Interakce atmosf\u00e9ry s elektromagnetick\u00fdm z\u00e1\u0159en\u00edm - rozptyl, absorpce, propustnost</li> <li>P\u0159enosov\u00e1 funkce atmosf\u00e9ry</li> <li>Z\u00e1\u0159iv\u00e9 vlastnosti krajinn\u00fdch objekt\u016f - obecn\u00fd rozbor</li> <li>Z\u00e1\u0159iv\u00e9 vlastnosti krajinn\u00fdch objekt\u016f - dle jednotliv\u00fdch druh\u016f povrch\u016f</li> <li>Po\u0159izov\u00e1n\u00ed dat - analogov\u00e1 a digit\u00e1ln\u00ed data</li> <li>Dru\u017eicov\u00e9 nosi\u010de</li> <li>\u00davod do zpracov\u00e1n\u00ed obrazu</li> </ol>"},{"location":"cviceni/cviceni1/","title":"\u00davod do DPZ, uk\u00e1zka webov\u00fdch port\u00e1l\u016f pro prohl\u00ed\u017een\u00ed a stahov\u00e1n\u00ed dru\u017eicov\u00fdch dat","text":""},{"location":"cviceni/cviceni1/#uvod-do-dpz-ukazka-webovych-portalu-pro-prohlizeni-a-stahovani-druzicovych-dat","title":"\u00davod do DPZ, uk\u00e1zka webov\u00fdch port\u00e1l\u016f pro prohl\u00ed\u017een\u00ed a stahov\u00e1n\u00ed dru\u017eicov\u00fdch dat","text":""},{"location":"cviceni/cviceni1/#cil-cviceni","title":"C\u00edl cvi\u010den\u00ed","text":"<ul> <li>Stru\u010dn\u00e9 sezn\u00e1men\u00ed s d\u00e1lkov\u00fdm pr\u016fzkumem Zem\u011b (\u00favodn\u00ed prezentace dostupn\u00e1 zde:  PDF)</li> <li>Sezn\u00e1men\u00ed se s webov\u00fdmi port\u00e1ly poskytuj\u00edc\u00ed dru\u017eicov\u00e1 data</li> <li>Sta\u017een\u00ed dru\u017eicov\u00fdch dat pro pr\u00e1ci v n\u00e1sleduj\u00edc\u00edch cvi\u010den\u00edch</li> </ul>"},{"location":"cviceni/cviceni1/#zakladni-pojmy","title":"Z\u00e1kladn\u00ed pojmy","text":"<ul> <li>Pixel: Z\u00e1kladn\u00ed obrazov\u00fd prvek. M\u00edsto, kter\u00e9mu odpov\u00edd\u00e1 jeden m\u011b\u0159en\u00fd \u00fadaj. V rastru m\u00e1 jasn\u011b dan\u00e9 sou\u0159adnice.</li> <li>P\u00e1smo: \u010c\u00e1st elektromagnetick\u00e9ho spektra vymezen\u00e1 krajn\u00edmi vlnov\u00fdmi d\u00e9lkami. Mno\u017estv\u00ed p\u00e1sem a jejich \u0161\u00ed\u0159ka ur\u010duje vlastnosti dat.</li> </ul>"},{"location":"cviceni/cviceni1/#druhy-rozliseni-u-druzicovych-dat","title":"Druhy rozli\u0161en\u00ed u dru\u017eicov\u00fdch dat","text":"<ul> <li>Prostorov\u00e9: Ud\u00e1v\u00e1 velikost jednoho pixelu. D\u011bl\u00edme na n\u00edzk\u00e9, st\u0159edn\u00ed, vysok\u00e9 a velmi vysok\u00e9.</li> <li>Spektr\u00e1ln\u00ed: Po\u010det dostupn\u00fdch p\u00e1sem. Data m\u016f\u017eeme d\u011blit na panchromatick\u00e1 (1 p\u00e1smo), multispektr\u00e1ln\u00ed a hyperspektr\u00e1ln\u00ed (des\u00edtky a\u017e stovky p\u00e1sem)</li> <li>\u010casov\u00e9 (tempor\u00e1ln\u00ed): Frekvence s jakou je dru\u017eice schopna sn\u00edmat stejn\u00e9 \u00fazem\u00ed na Zemi dvakr\u00e1t po sob\u011b.</li> <li>Radiometrick\u00e9: Ud\u00e1v\u00e1 hloubku pixelu, tj. jakou nejmen\u0161\u00ed zm\u011bnu v intenzit\u011b z\u00e1\u0159en\u00ed dok\u00e1\u017eeme rozli\u0161it (ud\u00e1v\u00e1no v bitech).</li> </ul>"},{"location":"cviceni/cviceni1/#pasivni-vs-aktivni-senzory","title":"Pasivn\u00ed vs. aktivn\u00ed senzory","text":"<p>Pasivn\u00ed senzory zaznamen\u00e1vaj\u00ed z\u00e1\u0159en\u00ed z jin\u00fdch zdroj\u016f, ne\u017e je senzor. Nej\u010dast\u011bji se jedn\u00e1 o slune\u010dn\u00ed sv\u011btlo odra\u017een\u00e9 od zemsk\u00e9ho povrchu \u010di o tepeln\u00e9 z\u00e1\u0159en\u00ed, kter\u00e9 vyd\u00e1v\u00e1 samotn\u00e1 Zem\u011b (p\u0159\u00edpadn\u011b objekty na n\u00ed). Nev\u00fdhodou pasivn\u00edch senzor\u016f je, \u017ee pokud pracuj\u00ed na optick\u00e9m principu, tak nemohou pracovat v noci a nedok\u00e1\u017eou proniknout skrz obla\u010dnost. Oproti tomu aktivn\u00ed senzory vyu\u017e\u00edvaj\u00ed sv\u016fj vlastn\u00ed zdroj z\u00e1\u0159en\u00ed, kter\u00e9 vys\u00edlaj\u00ed ke zkouman\u00e9mu objektu (nap\u0159. Zem\u011b), a m\u011b\u0159\u00ed mno\u017estv\u00ed z\u00e1\u0159en\u00ed, kter\u00e9 se odraz\u00ed zp\u011bt. Narozd\u00edl od od pasivn\u00edch senzor\u016f dok\u00e1\u017eou aktivn\u00ed senzory z\u00edsk\u00e1vat informace jak ve dne, tak i v noci. Pokud se nav\u00edc jedn\u00e1 radarov\u00e1 data, tak je mo\u017en\u00e9 prov\u00e1d\u011bt m\u011b\u0159en\u00ed i p\u0159es obla\u010dnost.</p>"},{"location":"cviceni/cviceni1/#zpracovana-vs-nezpracovana-data","title":"Zpracovan\u00e1 vs. nezpracovan\u00e1 data","text":"<p>Zpracovan\u00e1 data jsou takov\u00e1 data, u nich\u017e byly provedeny z\u00e1kladn\u00ed radiometrick\u00e9 (kalibrace senzoru), geometrick\u00e9 (polohov\u00e9) a atmosferick\u00e9 korekce. Nezpracovan\u00e1 (raw) data jsou pak data bez zm\u00edn\u011bn\u00fdch korekc\u00ed.</p>"},{"location":"cviceni/cviceni1/#obezne-drahy-druzic","title":"Ob\u011b\u017en\u00e9 dr\u00e1hy dru\u017eic","text":"<p>Zpravidla se vyu\u017e\u00edvaj\u00ed dva druhy ob\u011b\u017en\u00fdch drah: slune\u010dn\u011b synchronn\u00ed pol\u00e1rn\u00ed ob\u011b\u017en\u00e9 dr\u00e1hy a geostacion\u00e1rn\u00ed ob\u011b\u017en\u00e9 dr\u00e1hy.</p> <ul> <li>Geostacion\u00e1rn\u00ed ob\u011b\u017en\u00e9 dr\u00e1hy jsou kruhov\u00e9 dr\u00e1hy ve v\u00fd\u0161ce p\u0159ibli\u017en\u011b 36 000 km nad rovn\u00edkem. Dru\u017eice na t\u011bchto ob\u011b\u017en\u00fdch drah\u00e1ch ob\u00edhaj\u00ed kolem Zem\u011b stejnou \u00fahlovou rychlost\u00ed jako je rotace zem\u011b, a tud\u00ed\u017e sn\u00edmaj\u00ed neust\u00e1le to sam\u00e9 m\u00edsto na Zemi. Mezi dru\u017eice vyu\u017e\u00edvaj\u00edc\u00ed tyto ob\u011b\u017en\u00e9 dr\u00e1hy pat\u0159\u00ed napr. meteorologick\u00e9 dru\u017eice.</li> <li>Slune\u010dn\u011b synchronn\u00ed (helio-synchronn\u00ed) pol\u00e1rn\u00ed ob\u011b\u017en\u00e9 dr\u00e1hy jsou p\u0159ibli\u017en\u011b kruhov\u00e9 dr\u00e1hy ve v\u00fd\u0161ce zhruba 800 km nad Zem\u00ed. Dru\u017eice na t\u011bchto drah\u00e1ch p\u0159el\u00e9taj\u00ed v bl\u00edzkosti p\u00f3l\u016f planety, a jak se Zem\u011b ot\u00e1\u010d\u00ed, tak sleduj\u00ed zemsk\u00fd povrch ka\u017ed\u00fd den ve stejn\u00fd m\u00edstn\u00ed \u010das a za stejn\u00e9ho slune\u010dn\u00edho osv\u011btlen\u00ed. Na tyto dr\u00e1hy se umis\u0165uj\u00ed dru\u017eice, kter\u00e9 maj\u00ed sledovat cel\u00fd povrch planety.</li> </ul>"},{"location":"cviceni/cviceni1/#program-copernicus","title":"Program Copernicus","text":"<p>Jedn\u00e1 se o program EU pro pozorov\u00e1n\u00ed Zem\u011b. Je koordinov\u00e1n a spravov\u00e1n Evropskou komis\u00ed. Zam\u011b\u0159uje se na sledov\u00e1n\u00ed atmosf\u00e9ry, pevniny, mo\u0159\u00ed a klimatu. Data poskytovan\u00e1 programem Copernicus jsou p\u0159\u00edstupn\u00e1 bez poplatk\u016f. V r\u00e1mci v\u011bt\u0161iny cvi\u010den\u00ed budou vyu\u017e\u00edv\u00e1na pr\u00e1v\u011b data z programu Copernicus.</p> <p>V r\u00e1mci programu Copernicus byla vypu\u0161t\u011bna \u0159ada dru\u017eic. Tyto dru\u017eice spadaj\u00ed pod tzv. mise Sentinel. Jedn\u00e1 se o dru\u017eice Sentinel-1, Sentinel-2, Sentinel-3, Sentinel-5 Precursor (Sentinel-5P) a Sentinel-6. D\u00e1le je pl\u00e1nov\u00e1no vypu\u0161t\u011bn\u00ed dru\u017eic Sentinel-4 a Sentinel-5.</p> <p> The Sentinel missions</p>"},{"location":"cviceni/cviceni1/#webove-portaly","title":"Webov\u00e9 port\u00e1ly","text":"<p>Existuje \u0159ada webov\u00fdch port\u00e1l\u016f nab\u00edzej\u00edc\u00ed prohl\u00ed\u017een\u00ed a stahov\u00e1n\u00ed dru\u017eicov\u00fdch dat. Tyto webov\u00e9 port\u00e1ly lze rozd\u011blit na port\u00e1ly nab\u00edzej\u00edc\u00ed voln\u011b dostupn\u00e1 data a port\u00e1ly nab\u00edzej\u00edc\u00ed komer\u010dn\u00ed data. Komer\u010dn\u00ed data nab\u00edzej\u00ed oproti voln\u011b dostupn\u00fdm dat\u016fm \u010dasto v\u00fdhodu \u0159\u00e1dov\u011b vy\u0161\u0161\u00edho prostorov\u00e9ho rozli\u0161en\u00ed, nicm\u00e9n\u011b je pot\u0159eba si za n\u011b zaplatit. V r\u00e1mci tohoto cvi\u010den\u00ed se pod\u00edv\u00e1me na webov\u00e9 port\u00e1ly s voln\u011b dostupn\u00fdmi daty.</p>"},{"location":"cviceni/cviceni1/#sentinel-hub-eo-browser","title":"Sentinel Hub EO Browser","text":"<ul> <li> https://apps.sentinel-hub.com/eo-browser </li> </ul> <p>Tento webov\u00fd port\u00e1l slou\u017e\u00ed p\u0159edev\u0161\u00edm k prohl\u00ed\u017een\u00ed, vizualizaci a porovn\u00e1v\u00e1n\u00ed dat z dru\u017eic Sentinel, Landsat a dal\u0161\u00edch. Je zde mo\u017en\u00e9 prov\u00e1d\u011bt i z\u00e1kladn\u00ed anal\u00fdzy, tvo\u0159it \u010dasosb\u011brn\u00e1 videa \u010di stahovat obr\u00e1zky s vytvo\u0159enou vizualizac\u00ed. Nicm\u00e9n\u011b samotn\u00e1 dru\u017eicov\u00e1 data odtud stahovat nelze.</p> <p> About EO Browser</p>"},{"location":"cviceni/cviceni1/#copernicus-browser","title":"Copernicus Browser","text":"<ul> <li> https://dataspace.copernicus.eu/browser </li> </ul> <p>Copernicus Browser je nov\u011b vznikl\u00fd webov\u00fd port\u00e1l pro stahov\u00e1n\u00ed dat Sentinel a je sou\u010d\u00e1st\u00ed tzv.  Copernicus Data Space Ecostystem. Navazuje na webov\u00fd port\u00e1l Copernicus Open Access Hub, jeho\u017e \u010dinnost byla ukon\u010dena na konci \u0159\u00edjna 2023. Na rozd\u00edl od sv\u00e9ho p\u0159edch\u016fdce, kde p\u0159edev\u0161\u00edm star\u0161\u00ed data byla v tzv. offline m\u00f3du, a u\u017eivatel si o n\u011b nejprve musel za\u017e\u00e1dat, by m\u011bl poskytovat ve\u0161ker\u00e1 data okam\u017eit\u011b. Krom\u011b stahov\u00e1n\u00ed umo\u017e\u0148uje data i r\u016fzn\u011b vyzualizovat a prov\u00e1d\u011bt z\u00e1kladn\u00ed anal\u00fdzy.</p>"},{"location":"cviceni/cviceni1/#collaborative-ground-segment-czech-republic","title":"Collaborative Ground Segment - Czech Republic","text":"<ul> <li> https://dhr1.cesnet.cz/#/homeh </li> </ul> <p>Jedn\u00e1 se o webov\u00fd port\u00e1l, kter\u00fd je vizu\u00e1ln\u011b i funkcion\u00e1ln\u011b stejn\u00fd d\u0159\u00edv\u011bj\u0161\u00edmu Copernicus Open Access Hub. Rozd\u00edlem ale je, \u017ee poskytuje data pouze pro \u010ceskou republiku, kter\u00e1 jsou ov\u0161em v\u017edy v online m\u00f3du, a tud\u00ed\u017e se o n\u011b nemus\u00ed \u017e\u00e1dat. Postup, jak stahovat data z tohoto port\u00e1lu, je dostupn\u00fd zde:  PDF.</p>"},{"location":"cviceni/cviceni1/#usgs-earthexplorer","title":"USGS EarthExplorer","text":"<ul> <li> https://earthexplorer.usgs.gov/ </li> </ul> <p>Webov\u00fd port\u00e1l vytvo\u0159en\u00fd agenturou United States Geological Survey. Poskytuje \u0159adu satelitn\u00edch dat v\u010detn\u011b dat z dru\u017eic Landsat. Jak stahovat data Landsat z tohoto port\u00e1lu bude uk\u00e1z\u00e1no v jednom z pozd\u011bj\u0161\u00edch cvi\u010den\u00ed.</p>"},{"location":"cviceni/cviceni1/#asf-data-search","title":"ASF Data Search","text":"<ul> <li> https://search.asf.alaska.edu/#/ </li> </ul> <p>Webov\u00fd port\u00e1l od  Alaska Satellite Facility. Jedn\u00e1 se o u\u017eite\u010dn\u00fd n\u00e1stroj pro pr\u00e1ci s radarov\u00fdmi daty. V\u00edce o n\u011bm bude zm\u00ed\u0148eno v jednom z n\u00e1sleduj\u00edc\u00edch cvi\u010den\u00ed.</p>"},{"location":"cviceni/cviceni1/#stazeni-dat-sentinel-2","title":"Sta\u017een\u00ed dat Sentinel-2","text":"<p>V n\u00e1sleduj\u00edc\u00edch cvi\u010den\u00ed budeme pracovat s daty Sentinel-2. Proto si te\u010f uk\u00e1\u017eeme, jak tato data stahovat. Pokud n\u00e1m sta\u010d\u00ed data jen z \u010cesk\u00e9 republiky, je mo\u017en\u00e9 postupovat ji\u017e podle zm\u00edn\u011bn\u00e9ho n\u00e1vodu (PDF) pro sta\u017een\u00ed dat z  https://dhr1.cesnet.cz/#/home. Pokud ale chceme data mimo \u010cR, pou\u017eijeme  Copernicus Browser. Postup by byl pak n\u00e1sleduj\u00edc\u00ed:</p> <p>1. Registrace</p> <p>Pro sta\u017een\u00ed dat je pot\u0159eba b\u00fdt nejprve zaregistrov\u00e1n a p\u0159ihl\u00e1\u0161en. To se provede p\u0159es tla\u010d\u00edtko Login v l\u00e9v\u00e9 horn\u00ed \u010d\u00e1sti webov\u00fdch str\u00e1nek.</p> <p></p> Copernicus Browser <p>2. Vyzna\u010den\u00ed z\u00e1jmov\u00e9ho \u00fazem\u00ed</p> <p>D\u00e1le pomoc\u00ed n\u00e1stroje Create an area of interest, kter\u00fd se nach\u00e1z\u00ed v prav\u00e9 \u010d\u00e1sti, vyzna\u010d\u00edme v mapov\u00e9m okn\u011b z\u00e1jmov\u00e9 \u00fazem\u00ed, ze kter\u00e9ho bychom cht\u011bli data st\u00e1hnout. Pro \u00fa\u010dely cvi\u010den\u00ed vybereme m\u00edsto s r\u016fzn\u00fdm krajin\u00fdm pokryvem, tj. aby se na sc\u00e9n\u011b vyskytovala alespo\u0148 vodn\u00ed plocha, zem\u011bd\u011blsk\u00e9 oblasti, lesy a z\u00e1stavba (nen\u00ed \u017e\u00e1douc\u00ed vybrat si homogenn\u00ed oblast nap\u0159\u00edklad pouze s pou\u0161t\u00ed, de\u0161tn\u00fdm pralesem \u010di mo\u0159em).</p> <p> </p> <p>3. Nastaven\u00ed vyhled\u00e1vac\u00edch parametr\u016f</p> <p>V lev\u00e9 \u010d\u00e1sti webov\u00e9ho port\u00e1lu se p\u0159epneme do z\u00e1lo\u017eky SEARCH. Ta se zkl\u00e1d\u00e1 ze t\u0159\u00ed \u010d\u00e1st\u00ed: SEARCH CRITERIA, DATA SOURCES a TIME RANGE. Prv\u00ed \u010d\u00e1st vyu\u017eijeme, pokud zn\u00e1me n\u00e1zev hledan\u00e9ho produktu (v tom p\u0159\u00edpad\u011b nemus\u00edme vyzna\u010dovat z\u00e1jmov\u00e9 \u00fazem\u00ed). Ve druh\u00e9 \u010d\u00e1sti nastav\u00edme, z jak\u00e9 dru\u017eice Sentinel po\u017eadovan\u00e1 data chceme, a ur\u010d\u00edme dopl\u0148uj\u00edc\u00ed parametry. V na\u0161em p\u0159\u00edpad\u011b chceme data z dru\u017eice Sentinel-2 s \u00farovn\u00ed p\u0159edzpracov\u00e1n\u00ed L2A. D\u00e1le zvol\u00edme maxim\u00e1ln\u00ed procento pokryt\u00ed sc\u00e9ny obla\u010dnost\u00ed (ide\u00e1ln\u011b chceme data bez obla\u010dnosti). V posledn\u00ed \u010d\u00e1sti zad\u00e1me \u010dasov\u00e9 obdob\u00ed, v jak\u00e9m byla dan\u00e1 sc\u00e9na po\u0159\u00edzena (pro \u00fa\u010dely cvi\u010den\u00ed zvol\u00edme sc\u00e9nu z vegeta\u010dn\u00edho obdob\u00ed). Sc\u00e9nu pot\u00e9 vyhled\u00e1me tla\u010d\u00edtkem Search.</p> <p> </p> <p>4. Sta\u017een\u00ed vybran\u00e9 sc\u00e9ny</p> <p>Pokud vyhled\u00e1n\u00ed sc\u00e9n prob\u011bhlo \u00fasp\u011b\u0161n\u011b, zobraz\u00ed se lev\u00e9 \u010d\u00e1sti jejich seznam. Z\u00e1rove\u0148 se v mapov\u00e9m okn\u011b zobraz\u00ed, kde p\u0159esn\u011b se dan\u00e9 sc\u00e9ny nach\u00e1zej\u00ed. P\u0159i najet\u00ed kurzorem my\u0161i na sc\u00e9nu v seznamu se v mapov\u00e9m okn\u011b zv\u00fdrazn\u00ed i p\u0159\u00edslu\u0161n\u00e1 koresponduj\u00edc\u00ed oblast sc\u00e9ny.</p> <p></p> <p>Vyhledanou sc\u00e9nu si m\u016f\u017eeme v mapov\u00e9m okn\u011b vizualizovat \u010di si o n\u00ed zobrazit informace pomoc\u00ed ikony Product info. Pokud nechceme stahovat celou sc\u00e9nu, v PRODUCT INFO je mo\u017en\u00e9 st\u00e1hnout i jednotliv\u00e9 soubory (nap\u0159. jedno konkr\u00e9tn\u00ed p\u00e1smo).</p> <p> </p> <p>Pokud jsme s vybranou sc\u00e9nou spokojeni, pomoc\u00ed ikony Download product sc\u00e9nu st\u00e1hneme (p\u0159\u00edpadn\u011b pou\u017eijem tla\u010d\u00edtko Download v PRODUCT INFO). Produkt se st\u00e1hne ve form\u00e1tu ZIP a pro pr\u00e1ci v softwaru SNAP jej nen\u00ed t\u0159eba rozbalovat.</p> <p></p> <p>N\u011bkdy se m\u016f\u017ee st\u00e1t, \u017ee pro na\u0161e zadan\u00e9 parametry nebude nalezen \u017e\u00e1dn\u00fd produkt. V takov\u00e9m p\u0159\u00edpad\u011b je pot\u0159eba vyhled\u00e1vac\u00ed parametry pozm\u011bnit.</p> <p></p>"},{"location":"cviceni/cviceni10/","title":"Uk\u00e1zka pr\u00e1ce v Google Earth Engine","text":""},{"location":"cviceni/cviceni10/#ukazka-prace-v-google-earth-engine","title":"Uk\u00e1zka pr\u00e1ce v Google Earth Engine","text":""},{"location":"cviceni/cviceni10/#cil-cviceni","title":"C\u00edl cvi\u010den\u00ed","text":"<ul> <li>Sezn\u00e1mit se cloudov\u00fdm n\u00e1strojem Google Earth Engine</li> <li>Um\u011bt detekovat sp\u00e1leni\u0161t\u011b pomoc\u00ed dat DPZ</li> </ul>"},{"location":"cviceni/cviceni10/#zakladni-prehled","title":"Z\u00e1kladn\u00ed p\u0159ehled","text":"<p> Google Earth Engine je cloudov\u00e1 platforma pro geoprostorovou anal\u00fdzu, kter\u00e1 u\u017eivatel\u016fm umo\u017e\u0148uje vizualizovat a analyzovat satelitn\u00ed sn\u00edmky na\u0161\u00ed planety.</p> <ul> <li>Code Editor:  https://code.earthengine.google.com/</li> <li>Dokumentace:  https://developers.google.com/earth-engine/</li> <li>Dostupn\u00e1 data:  https://developers.google.com/earth-engine/datasets/</li> <li>Uk\u00e1zky:  https://earthengine.google.com/timelapse/</li> <li>Tutori\u00e1ly:  https://developers.google.com/earth-engine/guides</li> </ul>"},{"location":"cviceni/cviceni10/#code-editor","title":"Code Editor","text":"<p>Code Editor je webov\u00e9 v\u00fdvojov\u00e9 prost\u0159ed\u00ed Google Earth Engine vyu\u017e\u00edvaj\u00edc\u00ed programovac\u00ed jazyk JavaScript.</p> <p></p>"},{"location":"cviceni/cviceni10/#ukazky-javascript-kodu","title":"Uk\u00e1zky JavaScript k\u00f3du","text":"<pre><code>print('Hello world!');\n</code></pre> <p>Zobrazen\u00ed dat MODIS:</p> <pre><code>var dataset = ee.ImageCollection('MODIS/061/MOD09GA')\n  // filter by dates\n  .filterDate('2023-04-01', '2023-06-01');\n\n// Select the bands you want to visualize\nvar visParams = {\n  bands: ['sur_refl_b01', 'sur_refl_b04', 'sur_refl_b03'],\n  min: 0,\n  max: 5000,\n  gamma: 1.4,\n};\n\n// add to the map window\nMap.addLayer(dataset, visParams, 'MODIS');\n</code></pre> <p>Zobrazen\u00ed dat Landsat 9 s obla\u010dnost\u00ed men\u0161\u00ed ne\u017e 10 % a s p\u0159e\u0161k\u00e1lov\u00e1n\u00edm:</p> <pre><code>var dataset = ee.ImageCollection('LANDSAT/LC09/C02/T1_L2')\n  // filter by dates\n  .filterDate('2023-07-01', '2023-08-31')\n  // filter by cloud cover\n  .filter(ee.Filter.lessThan('CLOUD_COVER', 10));\n\n// Applies scaling factors\nfunction applyScaleFactors(image) {\n  var opticalBands = image.select('SR_B.').multiply(0.0000275).add(-0.2);\n  var thermalBands = image.select('ST_B.*').multiply(0.00341802).add(149.0);\n  return image.addBands(opticalBands, null, true)\n              .addBands(thermalBands, null, true);\n}\n\ndataset = dataset.map(applyScaleFactors);\n\n// Select the bands you want to visualize\nvar visParams = {\n  bands: ['SR_B4', 'SR_B3', 'SR_B2'],\n  min: 0.0,\n  max: 0.3,\n};\n\n// add to the map window\nMap.addLayer(dataset, visParams, 'Landsat 9');\n</code></pre> <p>Zobrazen\u00ed dat Sentinel-2 s obla\u010dnost\u00ed men\u0161\u00ed ne\u017e 10 % a jejich o\u0159\u00edznut\u00ed na z\u00e1jmov\u00e9 \u00fazem\u00ed:</p> <pre><code>var sentinel_col = ee.ImageCollection(\"COPERNICUS/S2_SR_HARMONIZED\")\n  // filter by dates\n  .filterDate('2023-05-01', '2023-06-30')\n  // filter for the drawn rectangle\n  .filterBounds(geometry)\n  // filter by cloud cover\n  .filter(ee.Filter.lt('CLOUDY_PIXEL_PERCENTAGE', 10));\n\n// Define a function to clip each image in the collection to the geometry\nvar clipToGeometry = function(image) {\n  return image.clip(geometry);\n};\n\n// Use the map function to apply the clip function to each image in the collection\nvar clipped_col = sentinel_col.map(clipToGeometry);\n\n// Select the bands you want to visualize\nvar visParams = {\n  bands: ['B4', 'B3', 'B2'],\n  min: 0.0,\n  max: 3000,\n};\n\n// add to the map window\nMap.addLayer(clipped_col, visParams, 'Sentinel-2');\n</code></pre> <p>Spoustu dal\u0161\u00edch p\u0159\u00edklad\u016f lze nal\u00e9zt p\u0159\u00edmo v prost\u0159ed\u00ed Google Earth Engine v \u010d\u00e1sti Scripts \u2192 Examples.</p> <p></p>"},{"location":"cviceni/cviceni10/#detekce-spalenist-pomoci-google-earth-engine","title":"Detekce sp\u00e1leni\u0161\u0165 pomoc\u00ed Google Earth Engine","text":"<p>V r\u00e1mci tohoto cvi\u010den\u00ed vyu\u017eijeme Google Earth Engine pro detekov\u00e1n\u00ed oblast\u00ed zasa\u017een\u00fdch po\u017e\u00e1rem. Konkr\u00e9tn\u00ed oblast\u00ed na\u0161eho z\u00e1jmu bude n\u00e1rodn\u00ed park \u010cesk\u00e9 \u0160v\u00fdcarsko, kde do\u0161lo k po\u017e\u00e1ru v obdob\u00ed 23. 7. 2022 - 12. 8. 2022 (v n\u011bmeck\u00e9 \u010d\u00e1sti po\u017e\u00e1r trval od 25. 7. 2022 - 19. 8. 2022). Pr\u00e1ci za\u010dneme t\u00edm, \u017ee si vytvo\u0159\u00edme nov\u00fd soubor, do kter\u00e9ho budeme n\u00e1\u0161 k\u00f3d ps\u00e1t. Nov\u00fd soubor vytvo\u0159\u00edme v \u010d\u00e1sti Scripts \u2192 NEW \u2192 File. Proto\u017ee jsme si ale nevytvo\u0159ili repozit\u00e1\u0159, do kter\u00e9ho se soubor ulo\u017e\u00ed, Google Earth Engine n\u00e1s nejprve vyzve k vytvo\u0159en\u00ed pr\u00e1v\u011b nov\u00e9ho repozit\u00e1\u0159e. Teprve pot\u00e9 m\u016f\u017eeme vytvo\u0159it nov\u00fd soubor.</p> <p> </p> <p>Vytvo\u0159en\u00fd soubor najdeme ve Scripts \u2192 Owner, kde si ho i m\u016f\u017eeme otev\u0159\u00edt.</p> <p></p>"},{"location":"cviceni/cviceni10/#vyber-zajmove-oblasti-a-ziskani-dat","title":"V\u00fdb\u011br z\u00e1jmov\u00e9 oblasti a z\u00edsk\u00e1n\u00ed dat","text":"<p>Z\u00e1jmov\u00e9 \u00fazem\u00ed si ozna\u010d\u00edme p\u0159id\u00e1n\u00edm bodu do mapy. Bod p\u0159id\u00e1me pomoc\u00ed funkce P\u0159idat zna\u010dku, kter\u00e1 se nach\u00e1z\u00ed v lev\u00e9 horn\u00ed \u010d\u00e1sti mapov\u00e9ho okna. Bod um\u00edst\u00edme p\u0159ibli\u017en\u011b mezi obce H\u0159ensko a Mezn\u00e1, tedy na m\u00edsto, kde po\u017e\u00e1r zhruba vypukl.</p> <p> </p> <p>Pomoc\u00ed funkce Edit layer properties si m\u016f\u017eeme vytvo\u0159en\u00fd bod p\u0159ejmenovat z geometry nap\u0159. na point.</p> <p> </p> <p>Nyn\u00ed si m\u016f\u017eeme vyhledat pot\u0159ebn\u00e1 data. Konkr\u00e9tn\u011b budeme pracovat s daty Sentinel-2. Bohu\u017eel v roce 2022 nebylo v dan\u00e9m m\u00edst\u011b mnoho bezobla\u010dn\u00fdch sc\u00e9n, proto nastav\u00edme datum na obdom\u00ed mezi 1. 4. 2022 - 31. 10. 2022. Jako limit pro obla\u010dnost nastav\u00edme 30\u00a0%.</p> <pre><code>// Filter the Sentinel-2 image collection\nvar S2 = ee.ImageCollection('COPERNICUS/S2_SR_HARMONIZED') // import data\n                  .filterBounds(point) // spatial filter\n                  .filterDate('2022-04-01', '2022-10-31') // temporal filter\n                  .filter(ee.Filter.lt('CLOUDY_PIXEL_PERCENTAGE', 30)); // metadata filter\n\n// Print data to the Console\nprint(\"Scenes:\", S2);\n\n// Add True color RGB composite to the map\nMap.addLayer(S2.first(),\n            {min:0,max:3000,bands:\"B4,B3,B2\"}, \n            \"RGB\");\n</code></pre> <p>Pokud bychom si cht\u011bli zobrazit jin\u00fd ne\u017e prvn\u00ed prvek z ImageCollection, je pot\u0159eba si ImageCollection p\u0159ev\u00e9st na List. To m\u016f\u017eeme ud\u011blat p\u0159id\u00e1n\u00edm n\u00e1sleduj\u00edc\u00edho k\u00f3du.</p> <pre><code>// Convert ImageCollection to List\nvar S2List = S2.toList(S2.size());\nprint(S2List);\n\n// Get second image from the list\nMap.addLayer(ee.Image(S2List.get(1)),\n            {min:0,max:3000,bands:\"B4,B3,B2\"}, \n            \"RGB 2\");\n</code></pre> <p>Mezi vrstvami v mapov\u00e9m okn\u011b lze jednodu\u0161e p\u0159ep\u00ednat pomoc\u00ed n\u00e1stroje Layers v prav\u00e9 \u010d\u00e1sti mapov\u00e9ho okna.</p> <p></p> <p>P\u0159i zav\u0159en\u00ed a op\u011btovn\u00e9m otev\u0159en\u00ed Google Earth Engine nen\u00ed mapa vycentrov\u00e1na na na\u0161e \u00fazem\u00ed. P\u0159id\u00e1n\u00edm n\u00e1sleduj\u00edc\u00edho k\u00f3du do skriptu se mapa vycentruje na zobrazenou sc\u00e9nu.</p> <pre><code>// Center the map to the image\nMap.centerObject(S2.first());\n</code></pre>"},{"location":"cviceni/cviceni10/#maskovani-oblacnosti","title":"Maskov\u00e1n\u00ed obla\u010dnosti","text":"<p>Mohli jsme si v\u0161imnout, \u017ee na n\u011bkter\u00fdch sc\u00e9n\u00e1ch je obla\u010dnosti pom\u011brn\u011b dost. To pro jak\u00e9koliv anal\u00fdzy nen\u00ed zrovna nejlep\u0161\u00ed, a je proto pot\u0159eba obla\u010dnost zamaskovat. Existuje v\u00edce mo\u017enost\u00ed, jak sc\u00e9ny maskovat, a lze k tomu pou\u017e\u00edt i r\u016fzn\u00e9 vrstvy obsa\u017een\u00e9 v produktech Sentinel-2.  Zde je nap\u0159. uk\u00e1zka maskov\u00e1n\u00ed obla\u010dnosti pomoc\u00ed vrstvy QA60, co\u017e je maska obla\u010dnosti s rozli\u0161en\u00edm 60 m. Bohu\u017eel pro data od ledna 2022 nen\u00ed tato vrstva st\u00e1le k dispozici. Lze ale vyu\u017e\u00edt i jin\u00e9 vrstvy, jako nap\u0159. MSK_CLDPRB, co\u017e je pravd\u011bpodobnost v\u00fdskytu obla\u010dnosti v pixelu s rozli\u0161en\u00edm 20 m. P\u0159id\u00e1me si tedy do k\u00f3du funkci, kter\u00e1 zamaskuje obla\u010dnost pomoc\u00ed vrstvy MSK_CLDPRB, zvol\u00edme n\u011bjak\u00fd threshold ur\u010duj\u00edc\u00ed, kolikaprocentn\u00ed pravd\u011bpodobnost obla\u010dnosti budeme br\u00e1t v potaz, a aplikujeme masku obla\u010dnosti na na\u0161e data. M\u016f\u017eeme pot\u00e9 porovnat zamaskovan\u00e1 a nezamaskovan\u00e1 data.</p> <pre><code>// Filter the Sentinel-2 image collection\nvar S2 = ee.ImageCollection('COPERNICUS/S2_SR_HARMONIZED') // import data\n                  .filterBounds(point) // spatial filter\n                  .filterDate('2022-04-01', '2022-10-31') // temporal filter\n                  .filter(ee.Filter.lt('CLOUDY_PIXEL_PERCENTAGE', 30)); // metadata filter\n\n// Cloud mask based on MSK_CLDPRB layer\nfunction mask_clouds(image) {\n  // Select the MSK_CLDPRB band.\n  var cloudProbability = image.select('MSK_CLDPRB');\n\n  // Create a mask for clouds using a threshold.\n  var cloudMask = cloudProbability.lt(50);\n\n  // Update the image mask using the cloud mask.\n  return image.updateMask(cloudMask);\n}\n\n// Apply on image collection\nvar S2_masked = S2.map(mask_clouds);\n\n// Add True color RGB composites to the map\nMap.addLayer(S2.first(),\n            {min:0,max:3000,bands:\"B4,B3,B2\"}, \n            \"RGB\");\nMap.addLayer(S2_masked.first(),\n            {min:0,max:3000,bands:\"B4,B3,B2\"}, \n            \"RGB masked\");\n</code></pre> <p> </p> Porovn\u00e1n\u00ed dat p\u0159ed a po pou\u017eit\u00ed masky obla\u010dnosti <p>Kdybychom se cht\u011bli pod\u00edvat znovu i na jin\u00e9 sc\u00e9ny, p\u0159evedeme jako v p\u0159edchoz\u00edm p\u0159\u00edkladu ImageCollection na List. Spr\u00e1vn\u011b by se m\u011bly maskovat i st\u00edny tvo\u0159en\u00e9 obla\u010dnost\u00ed, ale to si kdy\u017e tak zkuste pozd\u011bji samostatn\u011b.</p>"},{"location":"cviceni/cviceni10/#vypocet-nbr-indexu","title":"V\u00fdpo\u010det NBR indexu","text":"<p>Index  NBR, neboli Normalized Burned Ratio, je index ur\u010den\u00fd ke zv\u00fdrazn\u011bn\u00ed sp\u00e1leni\u0161\u0165 v rozs\u00e1hl\u00fdch po\u017e\u00e1rn\u00edch oblastech. Vzore\u010dek pro NBR je n\u00e1sleduj\u00edc\u00ed:</p> <p>NBR = (NIR - SWIR)/(NIR + SWIR)</p> <p>NBR index pro celou ImageCollection spo\u010d\u00edt\u00e1me p\u0159id\u00e1n\u00edm n\u00e1sleduj\u00edc\u00edho k\u00f3du.</p> <pre><code>// Compute NBR index\nfunction add_NBR(image) {\n  return image.addBands(image.normalizedDifference(['B8', 'B12']).rename('NBR'));\n}\nvar S2_nbr = S2_masked.map(add_NBR);\nprint(S2_nbr);\n</code></pre> <p>N\u00e1sledn\u011b si ho m\u016f\u017eeme p\u0159idat i do mapov\u00e9ho okna. Co se t\u00fd\u010de obla\u010dnosti, tak p\u0159ed po\u017e\u00e1rem nejl\u00e9pe vych\u00e1z\u00ed sc\u00e9na z 23. 4. 2022 (tj. druh\u00e1 sc\u00e9na v ImageCollection), a po po\u017e\u00e1ru pak nejsp\u00ed\u0161e sc\u00e9na z 25. 9. 2022 (tj. p\u00e1t\u00e1 sc\u00e9na v ImageCollection). Proto si budeme zn\u00e1zor\u0148ovat tyto dv\u011b.</p> <pre><code>// Convert ImageCollection to List\nvar S2_nbr_list = S2_nbr.toList(S2_nbr.size());\n\n// Add layers to map\nMap.addLayer(ee.Image(S2_nbr_list.get(1)),\n            {min:0,max:3000,bands:\"B4,B3,B2\"}, \n            \"RGB pre-fire\");\nMap.addLayer(ee.Image(S2_nbr_list.get(4)),\n            {min:0,max:3000,bands:\"B4,B3,B2\"}, \n            \"RGB post-fire\");\nMap.addLayer(ee.Image(S2_nbr_list.get(1)),\n            {min: -1, max: 1, bands: [\"NBR\"]}, \n            \"NBR pre-fire\");\nMap.addLayer(ee.Image(S2_nbr_list.get(4)),\n            {min: -1, max: 1, bands: [\"NBR\"]}, \n            \"NBR post-fire\");\n</code></pre> <p>Na obr\u00e1zku n\u00ed\u017ee m\u016f\u017eeme porovnat NBR index p\u0159ed a po po\u017e\u00e1ru. Tmav\u00e9 plochy zn\u00e1zor\u0148uj\u00ed m\u00edsta, kde k po\u017e\u00e1ru do\u0161lo.</p> <p> </p> Porovn\u00e1n\u00ed NBR indexu p\u0159ed a po po\u017e\u00e1ru <p>D\u00e1le si vytvo\u0159\u00edme graf zn\u00e1zor\u0148uj\u00edc\u00ed \u010dasovou \u0159adu NBR. \u010casovou \u0159adu budeme ale zn\u00e1zor\u0148ovat jen pro \u00fazem\u00ed, kde k po\u017e\u00e1ru opravdu do\u0161lo. Proto si toto \u00fazem\u00ed nebo jeho \u010d\u00e1st vyzna\u010d\u00edme polygonem, kter\u00fd vytvo\u0159\u00edme pomoc\u00ed n\u00e1stroje Nakreslit tvar.</p> <p> </p> <p>Nyn\u00ed pomoc\u00ed n\u00e1sleduj\u00edc\u00edho k\u00f3du vytvo\u0159\u00edme graf.</p> <pre><code>// Create Time series chart\nvar TSChart = ui.Chart.image.series({\n    imageCollection: S2_nbr.select(['NBR']),\n    region: polygon,\n    reducer: ee.Reducer.mean(),\n    scale: 10,\n}).setOptions({\n    title: 'NBR time-series of the burned areas'\n});\n\nprint(TSChart);\n</code></pre> <p></p>"},{"location":"cviceni/cviceni10/#vizualizace-spalenist","title":"Vizualizace sp\u00e1leni\u0161\u0165","text":"<p>D\u00e1le si sp\u00e1leni\u0161t\u011b n\u011bjak vhodn\u011b vizualizujeme. L\u00e9pe ne\u017e kombinace B4-B3-B2 se pro sp\u00e1leni\u0161t\u011b jev\u00ed kombinace B12-B11-B9 (tedy kombinace SWIR p\u00e1sem a p\u00e1sma Water vapour). Z\u00e1rove\u0148 si vyselektujeme druhou a p\u00e1tou sc\u00e9nu z ImageCollection do vlastn\u00edch prom\u011bnn\u00fdch.</p> <pre><code>// Select pre-fire and post-fire images\nvar pre_fire_image = ee.Image(S2_nbr_list.get(1));\nvar post_fire_image = ee.Image(S2_nbr_list.get(4));\n\nMap.addLayer(pre_fire_image,\n            {min:0,max:3000,bands:\"B12,B11,B9\"}, \n            \"pre_fire_image\");\nMap.addLayer(pre_fire_image,\n            {min:-1,max:1,bands:\"NBR\"}, \n            \"pre_fire_NBR\");\nMap.addLayer(post_fire_image,\n            {min:0,max:3000,bands:\"B12,B11,B9\"}, \n            \"post_fire_image\");\nMap.addLayer(post_fire_image,\n            {min:-1,max:1,bands:\"NBR\"}, \n            \"post_fire_NBR\");\n</code></pre> <p></p> Zv\u00fdrazn\u011bn\u00ed sp\u00e1leni\u0161t\u011b pomoc\u00ed RGB kombinace B12-B11-B9 <p>D\u00e1le si spo\u010d\u00edt\u00e1me tzv. Burn severity, co\u017e je veli\u010dina ud\u00e1vaj\u00edc\u00ed z\u00e1va\u017enost po\u0161kozen\u00ed po\u017e\u00e1rem, a vypo\u010d\u00edt\u00e1 se podle n\u00e1sleduj\u00edc\u00edho vzorce:</p> <p>dNBR = NBR<sub>Prefire</sub> - NBR<sub>Postfire</sub></p> <p>\u010c\u00edm vy\u0161\u0161\u00ed hodnota, t\u00edm v\u011bt\u0161\u00ed po\u0161kozen\u00ed po\u017e\u00e1rem.</p> <p></p> <p>dNBR vypo\u010d\u00edt\u00e1me v Google Earth Engine pomoc\u00ed n\u00e1sleduj\u00edc\u00ed k\u00f3du. Z\u00e1rove\u0148 si i vyzna\u010d\u00edme m\u00edsta se st\u0159edn\u00ed a\u017e vysokou hodnotou po\u0161kozen\u00ed.</p> <pre><code>// Calculate the dNBR\nvar dNBR = pre_fire_image.select('NBR').subtract(post_fire_image.select('NBR')).rename('dNBR');\n\n// High and very high burned severity\nvar modAndHighBS = dNBR.gt(0.27);\n\nMap.addLayer(dNBR,\n            {min:-1,max:1,bands:\"dNBR\"}, \n            \"dNBR Image\");\nMap.addLayer(modAndHighBS,\n            {min:-1,max:1,bands:\"dNBR\"}, \n            \"Moderate and high burned severity\");\n</code></pre> <p>Na z\u00e1v\u011br si m\u016f\u017eeme vytvo\u0159it jednoduchou Swipe aplikaci pro p\u0159ehledn\u00e9 zn\u00e1zor\u0148ov\u00e1n\u00ed stavu p\u0159ed a po po\u017e\u00e1ru.</p> <pre><code>// Application\n// Create two map windows\nvar MapLeft = ui.Map();\nvar MapRight = ui.Map();\n\nMapLeft.addLayer(pre_fire_image,\n            {min:0,max:3000,bands:\"B12,B11,B9\"}, \n            \"pre_fire_image\");\n\nMapLeft.addLayer(pre_fire_image,\n            {min:-1,max:1,bands:\"NBR\"}, \n            \"pre_fire_NBR\");\n\nMapRight.addLayer(post_fire_image,\n            {min:0,max:3000,bands:\"B12,B11,B9\"}, \n            \"post_fire_image\");\n\nMapRight.addLayer(post_fire_image,\n            {min:-1,max:1,bands:\"NBR\"}, \n            \"post_fire_NBR\");\n\n// Create a swipe option\nvar splitPanel = ui.SplitPanel({\n  firstPanel: MapLeft,\n  secondPanel: MapRight,\n  orientation: \"horizontal\",\n  wipe: true\n})\n\n// Clear map and add the swipe\nui.root.clear()\nui.root.add(splitPanel)\n\n// Link the map windows\nui.Map.Linker([MapLeft,MapRight]);\n\n// Center it around our selected point\nMapRight.centerObject(point, 10)\n\nMapLeft.setControlVisibility({all: true});\n// MapRight.setControlVisibility({all: true});\n\n// Add map description\nvar leftDescription = ui.Panel({\n  widgets: [  \n    ui.Label({value: \"Pre-fire\",\nstyle: {textAlign:'centasdsadered',fontSize: '15px', color: '484848', fontWeight: 'bold'}})],\n  style: {position: 'bottom-left'},\n  layout: null,\n});\nMapLeft.add(leftDescription);\n\nvar rightDescription = ui.Panel({\n  widgets: [  \n    ui.Label({value: \"Post-fire\",\nstyle: {textAlign:'centasdsadered',fontSize: '15px', color: '484848', fontWeight: 'bold'}})],\n  style: {position: 'bottom-right'},\n  layout: null,\n});\nMapRight.add(rightDescription);\n\n// Create the panel widget\nvar panel = ui.Panel()\npanel.style().set({ width: '350px',position: \"middle-left\"});\nui.root.insert(1,panel)\n\nvar title = ui.Label({value: \"Detekce sp\u00e1leni\u0161\u0165 pomoc\u00ed GEE\",\nstyle: {textAlign:'centasdsadered',fontSize: '21px', color: '484848', fontWeight: 'bold'}});\n\npanel.add(title)\n\nvar infotext1 = ui.Label({value:\n\"Aplikace zn\u00e1zor\u0148uj\u00edc\u00ed stav \u010cesk\u00e9ho \u0160v\u00fdcarska p\u0159ed a po po\u017e\u00e1ru v l\u00e9te 2022.\" \n,style: {fontSize: '13px', color: '484848',textAlign:'justify'}});\npanel.add(infotext1)\n</code></pre> <p></p> <p>Inspirace pro toto cvi\u010den\u00ed \u010derp\u00e1na z:  GEE Workshop at Copernicus Forum 2022</p>"},{"location":"cviceni/cviceni11/","title":"Radarov\u00e1 interferometrie, tvorba DEM","text":""},{"location":"cviceni/cviceni11/#radarova-interferometrie-tvorba-dem","title":"Radarov\u00e1 interferometrie, tvorba DEM","text":""},{"location":"cviceni/cviceni11/#cil-cviceni","title":"C\u00edl cvi\u010den\u00ed","text":"<ul> <li>Sezn\u00e1mit se s radarov\u00fdmi daty</li> <li>Vyzkou\u0161et si vytvo\u0159en\u00ed DMT pomoc\u00ed radarov\u00fdch dat</li> </ul>"},{"location":"cviceni/cviceni11/#zakladni-pojmy","title":"Z\u00e1kladn\u00ed pojmy","text":"<ul> <li>Radarov\u00e1 interferometrie (InSAR - Interferometric Synthetic Aperture Radar) - jedn\u00e1 se o radarovou metodu, kter\u00e1 vyu\u017e\u00edv\u00e1 dvou nebo v\u00edce radarov\u00fdch sn\u00edmk\u016f ke sledov\u00e1n\u00ed deformac\u00ed povrchu nebo pro tvorbu digit\u00e1ln\u00edho v\u00fd\u0161kov\u00e9ho modelu pomoc\u00ed rozd\u00edl\u016f ve f\u00e1zi vln vracej\u00edc\u00edch se zp\u011bt do senzoru.</li> </ul> <p>V\u00fdhodou radarov\u00fdch dat je mo\u017enost sn\u00edm\u00e1n\u00ed zemsk\u00e9ho povrchu i za obla\u010dn\u00e9ho po\u010das\u00ed bez ohledu na denn\u00ed dobu. Princip aktivn\u00edho radarov\u00e9ho sn\u00edm\u00e1n\u00ed je zalo\u017een na vys\u00edl\u00e1n\u00ed mikrovlnn\u00e9ho z\u00e1\u0159en\u00ed k povrchu Zem\u011b, kde se z\u00e1\u0159en\u00ed odr\u00e1\u017e\u00ed zp\u011bt k senzoru, kter\u00fd n\u00e1sledn\u011b m\u011b\u0159\u00ed fyzik\u00e1ln\u00ed charakteristiky zp\u011btn\u00e9ho odrazu z\u00e1\u0159en\u00ed. R\u016fzn\u00e9 zm\u011bny na zemsk\u00e9m povrchu se projev\u00ed v charakteru odra\u017een\u00e9ho z\u00e1\u0159en\u00ed, proto je mo\u017en\u00e9 radarov\u00e9 sn\u00edm\u00e1n\u00ed vyu\u017e\u00edt nap\u0159. p\u0159i povodn\u00edch \u010di sesuvech p\u016fdy t\u00e9m\u011b\u0159 v re\u00e1ln\u00e9m \u010dase. V oboru zem\u011bd\u011blstv\u00ed a lesnictv\u00ed je vhodn\u00fd pro monitoring zm\u011bn lesn\u00edch porost\u016f a detekce n\u011bkter\u00fdch zem\u011bd\u011blsk\u00fdch operac\u00ed [https://www.szif.cz/cs/ams-sentinel]. V r\u00e1mci tohoto cvi\u010den\u00ed budeme pracovat s daty z dru\u017eice Sentinel-1. V\u00edce o radarov\u00fdch datech se m\u016f\u017eete do\u010d\u00edst nap\u0159\u00edklad v  t\u00e9to p\u0159\u00edru\u010dce.</p>"},{"location":"cviceni/cviceni11/#tvorba-dem-z-radarovych-dat","title":"Tvorba DEM z radarov\u00fdch dat","text":"<p>Asi nejv\u011bt\u0161\u00ed slabinou pro interferometick\u00e1 data z dru\u017eice Sentinel-1 p\u0159edstavuje vegetace \u2013 \u010d\u00edm vy\u0161\u0161\u00ed, t\u00edm vznik\u00e1 v\u011bt\u0161\u00ed dekorelace a n\u00e1sledn\u00fd \u0161um v interferogramu. Pokud se z\u00e1jmov\u00e1 lokalita nach\u00e1z\u00ed v oblasti s v\u00fdrazn\u00fdmi zm\u011bnami v jednotliv\u00fdch obdob\u00edch \u2013 tedy l\u00e9to-zima, je rozumn\u00e9 vyu\u017e\u00edt data ze zimn\u00edho obdob\u00ed, tedy z obdob\u00ed, kdy alespo\u0148 \u010d\u00e1st porostu je zbavena vegetativn\u00edch \u010d\u00e1st\u00ed. InSARu vad\u00ed i travnat\u00fd porost, nicm\u00e9n\u011b nejv\u011bt\u0161\u00ed probl\u00e9my d\u011blaj\u00ed tropick\u00e9 de\u0161tn\u00e9 pralesy, a touto metodou je nemo\u017en\u00e9 pro tuto oblast vytvo\u0159it digit\u00e1ln\u00ed v\u00fd\u0161kov\u00fd model. Pro vytvo\u0159en\u00ed v\u00fd\u0161kov\u00e9ho modelu je zapot\u0159eb\u00ed dvou sc\u00e9n.</p> <p>B\u011bhem cvi\u010den\u00ed m\u016f\u017eete zpracov\u00e1vat bu\u010f data z oblasti, kterou si sami vyberete (v takov\u00e9m p\u0159\u00edpad\u011b je nutn\u00e9 za\u010d\u00edt od prvn\u00edho z n\u00e1sleduj\u00edc\u00edch krok\u016f, kde se dozv\u00edte, jak vybrat vhodn\u00e1 data), nebo m\u016f\u017eete pracovat s ji\u017e vyhledan\u00fdmi a sta\u017een\u00fdmi daty, kter\u00e9 jsou k dispozici  Zde. V p\u0159\u00edpad\u011b druh\u00e9 varianty je mo\u017en\u00e9 prvn\u00ed dva kroky p\u0159esko\u010dit.</p> <p>Pro za\u010d\u00e1tek je dobr\u00e9 zn\u00e1t n\u00e1sleduj\u00edc\u00ed n\u00e1stroj v prost\u0159ed\u00ed webov\u00e9ho prohl\u00ed\u017ee\u010de od organizace  Alaska Satellite Facility. Konkr\u00e9tn\u011b se jedn\u00e1 o n\u00e1stroj  Vertex.</p> <p></p>"},{"location":"cviceni/cviceni11/#1-vyhledani-dat","title":"1) Vyhled\u00e1n\u00ed dat","text":"<p>Neprve si pomoc\u00ed n\u00e1stroje Draw a box vyzna\u010d\u00edme z\u00e1jmov\u00e9 \u00fazem\u00ed. Z\u00e1rove\u0148 se v menu Dataset ujist\u00edme, \u017ee vyhled\u00e1v\u00e1me data Sentinel-1.</p> <p> </p> <p>D\u00e1le je dobr\u00e9 si pomoc\u00ed filtr\u016f vyfiltrovat pouze ta data, kter\u00e1 chceme. Ve filtrech je jedna z prvn\u00edch mo\u017enost\u00ed Seasonal Search, kter\u00e1 je u\u017eite\u010dn\u00e1 v p\u0159\u00edpad\u011b obdob\u00ed vegeta\u010dn\u00ed a bezvegeta\u010dn\u00ed doby.</p> <p></p> <p>Radarov\u00e1 data maj\u00ed v\u00edce \u00farovn\u00ed p\u0159edzpracov\u00e1n\u00ed, my pot\u0159eboujeme L1 Single Look Complex (SLC). Pro snadn\u011bj\u0161\u00ed v\u00fdb\u011br sn\u00edmk\u016f, kter\u00e9 zahrnuj\u00ed celou oblast, m\u016f\u017eeme vydefinovat i Path and Frame.</p> <p></p> <p>Hodnoty Path a Frame zad\u00e1v\u00e1me samoz\u0159ejm\u011b pouze tehdy, pokud je zn\u00e1me, a pokud hled\u00e1me konkr\u00e9tn\u00ed data. N\u00e1sleduj\u00edc\u00ed obr\u00e1zky zn\u00e1zor\u0148uj\u00ed v\u00fdsledky vyhled\u00e1n\u00ed se zadan\u00fdmi hodnotami Path a Frame a v\u00fdsledky bez nich.</p> <p> </p> Vlevo - vyhledan\u00e1 data bez zadan\u00fdch hodnot Path a Frame, vpravo - vyhledan\u00e1 data se zadan\u00fdmi hodnotami Path a Frame <p>Z vyhledan\u00fdch v\u00fdsledk\u016f si jeden zvol\u00edme a zkop\u00edrujeme n\u00e1zev dan\u00e9 sc\u00e9ny (n\u011bkam si to poznamen\u00e1me). Po kliknut\u00ed na sc\u00e9nu se v detailech m\u016f\u017eeme dozv\u011bd\u011bt i hodnoty Path a Frame.</p> <p></p> <p></p>"},{"location":"cviceni/cviceni11/#2-vyhledani-parove-sceny","title":"2) Vyhled\u00e1n\u00ed p\u00e1rov\u00e9 sc\u00e9ny","text":"<p>Jak ji\u017e bylo \u0159e\u010deno, pro tvorbu DEM pot\u0159ebujeme dv\u011b sc\u00e9ny. K tomu op\u011bt vyu\u017eijeme n\u00e1stroj  Vertex. Doporu\u010duji si ho ale otev\u0159\u00edt v nov\u00e9 kart\u011b, abychom nep\u0159i\u0161li o na\u0161e vyhledan\u00e1 data. V menu Search Type se p\u0159epneme na Baseline Search a zad\u00e1me d\u0159\u00edve zkop\u00edrovan\u00fd n\u00e1zev vyhledan\u00e9 sc\u00e9ny.</p> <p> </p> <p>C\u00edlem bude sna\u017eit se nal\u00e9zt p\u00e1rovou sc\u00e9nu s co nejv\u011bt\u0161\u00ed kolmou z\u00e1kladnou (Perpendicular Baseline) a s co nejmen\u0161\u00ed \u010dasovou z\u00e1kladnou (Temporal Baseline) - zjednodu\u0161en\u011b co nejv\u00edce vzd\u00e1len\u00e9 m\u00edsto sn\u00edmkov\u00e1n\u00ed a nejkrat\u0161\u00ed doba mezi jednotliv\u00fdmi sc\u00e9nami. V prav\u00e9 \u010d\u00e1sti vid\u00edme graf, kter\u00fd vizualizuje jednotliv\u00e9 sn\u00edmky na vertik\u00e1ln\u00ed ose s kolmou z\u00e1kladnou a horizont\u00e1ln\u00ed ose s \u010dasovou z\u00e1kladnou. Pro tvorbu digit\u00e1ln\u00edho v\u00fd\u0161kov\u00e9ho modelu z radarov\u00fdch dat je doporu\u010den\u00e1 hodnota pro kolmou z\u00e1kladnu alespo\u0148 120 metr\u016f a \u010dasovou z\u00e1kladnu maxim\u00e1ln\u011b 6 dn\u016f \u2013 aby byla vypozorov\u00e1na co nejmen\u0161\u00ed zm\u011bna na dan\u00e9m \u00fazem\u00ed. Nicm\u00e9n\u011b jak sami uvid\u00edte, nen\u00ed \u00fapln\u011b jednoduch\u00e9 takov\u00e1 data nal\u00e9zt. Tomu nepom\u00e1h\u00e1 ani fakt, \u017ee od 23. 12. 2021 je na ob\u011b\u017en\u00e9 dr\u00e1ze v provozu pouze jedna z p\u016fvodn\u011b dvou dru\u017eic Sentinel-1, a tud\u00ed\u017e od tohoto data ani nen\u00ed mo\u017en\u00e9 naj\u00edt p\u00e1rov\u00e9 sc\u00e9ny s \u010dasovou z\u00e1kladnou 6 dn\u016f (doba kdy dru\u017eice Sentinel-1 sn\u00edm\u00e1 podruh\u00e9 stejn\u00e9 m\u00edsto na Zemi je 12 dn\u016f - ve dvojici to bylo 6 dn\u016f). Doporu\u010duji tedy pracovat se star\u0161\u00edmi daty.</p> <p>Po vyhled\u00e1n\u00ed p\u00e1rov\u00fdch sc\u00e9n je d\u00e1le dobr\u00e9 upravit tzv. Baseline Criteria, aby se n\u00e1m zobrazovaly pouze sc\u00e9ny s vhodn\u00fdmi hodnotami Perpendicular Baseline a Temporal Baseline. V opa\u010dn\u00e9m p\u0159\u00edpad\u011b se n\u00e1m zobraz\u00ed v\u0161echny dostupn\u00e9 sc\u00e9ny a nen\u00ed jednoduch\u00e9 se v tom zorientovat.</p> <p> </p> <p>Po upraven\u00ed parametr\u016f se n\u00e1m zobraz\u00ed pouze potenci\u00e1ln\u011b vhodn\u00e9 sc\u00e9ny. Pokud jedna z nich spl\u0148uje po\u017eadovan\u00e9 parametry (nebo se k nim aspo\u0148 p\u0159ibli\u017euje), poznamen\u00e1me si znovu jej\u00ed n\u00e1zev. V opa\u010dn\u00e9m p\u0159\u00edpad\u011b je pot\u0159eba zvolit jinou sc\u00e9nu z p\u016fvodn\u00edho vyhled\u00e1v\u00e1n\u00ed a pokusit se naj\u00edt vhodnou p\u00e1rovnou sc\u00e9nu k n\u00ed.</p> <p></p> <p>V p\u0159\u00edpad\u011b nalezen\u00ed vhodn\u00fdch sc\u00e9n si ob\u011b sc\u00e9ny pomoc\u00ed jejich n\u00e1zvu vyhled\u00e1me a st\u00e1hneme na  Copernicus Browser, kde jsme ji\u017e d\u0159\u00edve stahovali data Sentinel-2. (Stahovat lze i p\u0159\u00edmo z n\u00e1stroje Vertex, ale je pot\u0159eba b\u00fdt zaregistrov\u00e1n.)</p>"},{"location":"cviceni/cviceni11/#3-instalace-pluginu-ve-snap","title":"3) Instalace pluginu ve SNAP","text":"<p>Data budeme zpracov\u00e1vat v softwaru SNAP. Je\u0161t\u011b p\u0159ed samotn\u00fdm zpracov\u00e1n\u00edm mus\u00edme ale do softwaru nainstalovat z\u00e1suvn\u00fd modul (plugin) SNAPHU Unwrapping. To ud\u011bl\u00e1me v menu p\u0159es z\u00e1lo\u017eku Tools \u2192 Plugins. V nov\u011b otev\u0159en\u00e9m okn\u011b se pot\u00e9 p\u0159eklikneme do z\u00e1lo\u017eky Available Plugins, kde najdeme plugin SNAPHU Unwrapping a nainstalujeme ho. B\u011bhem instalace n\u00e1s SNAP vyzve k restartov\u00e1n\u00ed, co\u017e tedy i u\u010din\u00edme.</p> <p> </p> <p>Plugin je d\u00e1le nutn\u00e9 aktivovat. To se provede v z\u00e1lo\u017ece Tools \u2192 Manage External Tools \u2013 tedy pokud je zde vyk\u0159i\u010dn\u00edk. Rozklikneme plugin SNAPHU Unwrapping a v z\u00e1lo\u017ece Bundled Binaries klikneme na tla\u010d\u00edtko Download and Install Now. Po t\u011bchto kroc\u00edch je SNAP p\u0159ipraven ke zpracov\u00e1n\u00ed interferometick\u00fdch dat.</p> <p> </p>"},{"location":"cviceni/cviceni11/#4-koregistrace","title":"4) Koregistrace","text":"<p>Stejn\u011b jako v p\u0159\u00edpad\u011b dat Sentinel-2, tak ani data Sentinel-1 nebudeme rozzipov\u00e1vat a nahrajeme je do SNAP tak, jak jsou. Prvn\u00edm ze z\u00e1kladn\u00edch krok\u016f pro \u00fasp\u011b\u0161n\u00e9 vytvo\u0159en\u00ed interferogramu je pou\u017e\u00edt dvojici SLC sn\u00edmk\u016f a spojit je do jedn\u00e9 b\u00e1ze. Tato b\u00e1ze slou\u017e\u00ed ke koregistraci jednoho bodu na zemi pro oba dva sn\u00edmky. Dvojici sn\u00edmk\u016f d\u011bl\u00edme na hlavn\u00ed (master) a vedlej\u0161\u00ed (slave). Pokud pracujeme s daty, kter\u00e9 jsme si st\u00e1hli ze str\u00e1nek tohoto cvi\u010den\u00ed, tak jako master pou\u017eijeme sc\u00e9nu s koncovkou _8796, a jako slave sc\u00e9nu s koncovkou _07DD. Koregistraci provedeme pomoc\u00ed n\u00e1stroje Radar \u2192 Coregistration \u2192 S1 TOPS Coregistration \u2192 S1 TOPS Coregistration with ESD.</p> <p></p> <p>V z\u00e1lo\u017ece Read vlo\u017e\u00edme n\u00e1\u0161 prvn\u00ed sn\u00edmek (master) s koncovkou _8796, v druh\u00e9 z\u00e1lo\u017ece Read(2) vlo\u017e\u00edme p\u00e1rov\u00fd sn\u00edmek s koncovkou _07DD (p\u0159ep\u00edn\u00e1n\u00ed mezi z\u00e1lo\u017ekami m\u016f\u017ee m\u00edt n\u011bjakou prodlevu). V z\u00e1lo\u017ece TOPSAR-Split zmen\u0161\u00edme oblast zpracov\u00e1n\u00ed \u2013 pokud V\u00e1m SNAP hl\u00e1s\u00ed chybu a nejde vybrat Subswath, zkuste znovu otev\u0159\u00edt n\u00e1stroj, p\u0159\u00edpadn\u011b restartovat software. Pokud SNAP chybu nehl\u00e1s\u00ed, za Subswath zvol\u00edme IW2, Polarisations VV a pomoc\u00ed posuvn\u00edk\u016f uprav\u00edme Burst na d\u00edlky 3 a\u017e 5. Stejn\u00e9 nastaven\u00ed vybereme i pro druh\u00fd sn\u00edmek v z\u00e1lo\u017ece TOPSAR-Split(2). Z\u00e1lo\u017eky Apply-Orbit-File a Apply-Orbit-File(2) nech\u00e1me ve v\u00fdchoz\u00edm stavu(Sentinel Precise, Polynomial Degree 3).</p> <p></p> <p>V z\u00e1lo\u017ece Back-Geocoding zvol\u00edme Digital Elevation Model SRTM 1Sec HGT (Auto Download). Dal\u0161\u00ed z\u00e1lo\u017eku neupravujeme a zvol\u00edme rovnou posledn\u00ed z\u00e1lo\u017eku Write, kde p\u0159ep\u00ed\u0161eme n\u00e1zev nap\u0159. na S1A_S1B_IW_SLC_VV_8796_07DD_Orb_Stack (pro p\u0159ehlednost) a zvol\u00edme um\u00edst\u011bn\u00ed.</p> <p></p>"},{"location":"cviceni/cviceni11/#5-interferogram","title":"5) Interferogram","text":"<p>N\u00e1sledn\u011b vytvo\u0159\u00edme interferogram pomoc\u00ed n\u00e1stroje v menu Radar \u2192 Interferometric \u2192 Products \u2192 Interferogram Formation. Do vstupn\u00edch dat vlo\u017e\u00edme vytvo\u0159en\u00fd Orb_Stack z minul\u00e9ho kroku. N\u00e1zev upravovat nemus\u00edme, SNAP dopsal k n\u00e1zvu _ifg. Jeliko\u017e chceme z dat vytvo\u0159it DEM, zkontrolujeme, jestli je v z\u00e1lo\u017ece Processing Prameters ozna\u010den\u00e9 Subtract flat-earth phase. Subtract topographic phase se pou\u017e\u00edv\u00e1 pro tvorbu modelu deformac\u00ed, a mus\u00ed b\u00fdt tedy v na\u0161em p\u0159\u00edpad\u011b neozna\u010den\u00e9.</p> <p> </p> <p>V prost\u0159ed\u00ed softwaru SNAP lze zobrazit histogram interferogramu. Po vytvo\u0159en\u00ed obrazu koherence se v lev\u00e9 \u010d\u00e1sti rozhran\u00ed softwaru zp\u0159\u00edstupn\u00ed z\u00e1lo\u017eka Colour Manipulation (pokud ne, tak zkus\u00edme View \u2192 Tool Windows \u2192 Colour Manipulation). Aby se n\u00e1m histogram spr\u00e1vn\u011b zobrazil, mus\u00edme m\u00edt v mapov\u00e9m okn\u011b otev\u0159enou koherenci histogramu! (Rozbalit pomoc\u00ed plus vytvo\u0159en\u00fd interferogram, rozkliknout Bands a dvakr\u00e1t kliknout na coh_IW2_VV_........._.........).</p> <p></p> <p>Koherence nab\u00fdv\u00e1 hodnot od 0 do 1, s t\u00edm \u017ee pokud se hodnota bl\u00ed\u017e\u00ed k 1, je sn\u00edmek v\u00edce kvalitn\u00ed a nach\u00e1z\u00ed se na n\u011bm m\u00e9n\u011b \u0161umu. Naopak, pokud je interferogram bl\u00ed\u017ee k 0, sn\u00edmky obsahuj\u00ed v\u00edce \u0161umu a t\u00edm p\u00e1dem jsou m\u00e9n\u011b kvalitn\u00ed.</p>"},{"location":"cviceni/cviceni11/#6-odstraneni-cernych-linii","title":"6) Odstran\u011bn\u00ed \u010dern\u00fdch lini\u00ed","text":"<p>Na sn\u00edmku jsou patrn\u00e9 \u010dern\u00e9 linie, kter\u00e9 zp\u016fsobilo sn\u00edmkov\u00e1n\u00ed v jednotliv\u00fdch pruz\u00edch. N\u00e1sleduj\u00edc\u00edm krokem je mo\u017en\u00e9 tyto linie odebrat a vytvo\u0159it tak souvisl\u00fd sn\u00edmek. Pou\u017eijeme funkci Radar \u2192 Sentinel-1 TOPS \u2192 S-1 TOPS Deburst. Zde je nutn\u00e9 vlo\u017eit vytvo\u0159en\u00fd interferogram s ozna\u010denou polarizac\u00ed VV v z\u00e1lo\u017ece Processing Parameters.</p> <p> </p> <p>Op\u011bt zkus\u00edme otev\u0159\u00edt v Bands coh_IW2_VV_........._........., ale nyn\u00ed ve vytvo\u0159en\u00e9m interferogramu s _deb na konci n\u00e1zvu. Vid\u00edme, \u017ee \u010dern\u00e9 linie se ji\u017e na sn\u00edmku nenach\u00e1zej\u00ed.</p> <p></p>"},{"location":"cviceni/cviceni11/#7-filtrace-sumu","title":"7) Filtrace \u0161umu","text":"<p>F\u00e1ze (p\u00e1smo za\u010d\u00ednaj\u00edc\u00ed na Phase_) obsahuje mno\u017estv\u00ed \u0161umu, kter\u00e9 je mo\u017en\u00e9 odstranit pomoc\u00ed Radar \u2192 Interferometric \u2192 Filtering \u2192 Goldstein Phase Filtering. Jako vstupn\u00ed data vlo\u017e\u00edme soubor z p\u0159edchoz\u00edho kroku a zbytek nech\u00e1me ve v\u00fdchoz\u00edm nastaven\u00ed.</p> <p> </p> <p>Efekt filtrace m\u016f\u017eeme ov\u011b\u0159it porovn\u00e1n\u00edm f\u00e1ze p\u0159ed filtrac\u00ed a po filtraci.</p> <p></p> Vlevo - f\u00e1ze p\u0159ed filtrac\u00ed, vpravo - f\u00e1ze po filtraci"},{"location":"cviceni/cviceni11/#8-definice-zajmove-lokality","title":"8) Definice z\u00e1jmov\u00e9 lokality","text":"<p>P\u0159ed rozbalen\u00edm f\u00e1ze si o\u0159\u00edzneme v\u00fdpo\u010detn\u00ed oblast pomoc\u00ed funkce Subset (Raster \u2192 Subset), kterou aplikujeme na posledn\u00ed krok, \u010dili na soubor s _flt na konci n\u00e1zvu (je pot\u0159eba m\u00edt otev\u0159enou f\u00e1zy v mapov\u00e9m okn\u011b). Abychom m\u011bli zam\u011b\u0159enou lokalitu hory Jabal Toubkal (pokud tedy pracujeme s poskytnut\u00fdmi daty a ne s n\u011bjak\u00fdmi vlastn\u00edmi), zad\u00e1me do Pixel Coordinates n\u00e1sleduj\u00edc\u00ed hodnoty:</p> <p> </p> <p>Subset se s\u00e1m neulo\u017e\u00ed, SNAP vytvo\u0159il pouze do\u010dasn\u00fd soubor. Ulo\u017e\u00edme jej pomoc\u00ed kliknut\u00ed prav\u00e9ho tla\u010d\u00edtka my\u0161i na vytvo\u0159en\u00fd subset v Product Explorer a d\u00e1le na mo\u017enost Save Product.</p>"},{"location":"cviceni/cviceni11/#9-rozbaleni-faze","title":"9) Rozbalen\u00ed f\u00e1ze","text":"<p>Nejn\u00e1ro\u010dn\u011bj\u0161\u00ed \u010d\u00e1st\u00ed jak \u010dasov\u011b tak hardwarov\u011b je rozbalen\u00ed f\u00e1ze, ke kter\u00e9 je kl\u00ed\u010dov\u00fd d\u0159\u00edve nainstalovan\u00fd z\u00e1suvn\u00fd modul SNAPHU Unwrapping. F\u00e1zov\u00fd rozd\u00edl vych\u00e1z\u00ed pouze v intervalu [-\u03c0, \u03c0] a jeden cyklus je roven polovin\u011b vlnov\u00e9 d\u00e9lky radaru. Tento krok m\u00e1 celkem t\u0159i \u010d\u00e1sti. Prvn\u00ed - export vytvo\u0159en\u00e9ho produktu pomoc\u00ed funkce Snaphu Export (Radar \u2192 Interferometric \u2192 Unwrapping \u2192 Snaphu Export). Jako vstupn\u00ed data poslou\u017e\u00ed vytvo\u0159en\u00fd Subset.</p> <p></p> <p>V z\u00e1lo\u017ece SnaphuExport zvol\u00edme spr\u00e1vnou slo\u017eku ulo\u017een\u00ed a n\u00e1zev zvol\u00edme snaphu_export. K odvozen\u00ed v\u00fd\u0161kov\u00fdch hodnot ter\u00e9nu pou\u017eijeme statistick\u00fd model (Statistical-cost mode) SMOOTH, ale pou\u017e\u00edv\u00e1 se i TOPO. Model DEFO se zab\u00fdv\u00e1 v\u00fdpo\u010dtem deformac\u00ed. Dal\u0161\u00edm polem je Initial method, kter\u00e1 nab\u00edz\u00ed dv\u011b statistick\u00e9 metody v\u00fdpo\u010dtu - MCF (minimal cost flow) a MST (minimum spanning tree). My pou\u017eijeme metodu MCF. D\u00e1le je mo\u017en\u00e9 nastavit po\u010det \u0159\u00e1dk\u016f a sloupc\u016f (nicm\u00e9n\u011b nav\u00fd\u0161en\u00ed hodnot nevyk\u00e1zalo urychlen\u00ed procesu, tak\u017ee m\u016f\u017eeme ponechat defaultn\u00ed hodnoty). Urychlen\u00ed procesu lze doc\u00edlit nav\u00fd\u0161en\u00edm aktivn\u00edch jader v procesoru (dle hardwarov\u00fdch mo\u017enost\u00ed). N\u00e1sledn\u011b nastav\u00edme p\u0159ekryt \u0159\u00e1dk\u016f a sloupc\u016f (Row Overlap, Column Overlap) na hodnotou 500.</p> <p> </p> <p>Druhou \u010d\u00e1st\u00ed rozbalen\u00ed f\u00e1ze je samotn\u00e9 rozbalen\u00ed exportovan\u00e9 slo\u017eky (Radar \u2192 Interferometric \u2192 Unwrapping \u2192 Snaphu-unwrapping). Vlo\u017e\u00edme f\u00e1zov\u00e1 data z exportovan\u00e9 slo\u017eky s koncovkou .img (Phase_ifg_IW2_VV_30Sep2020_24Sep2020.snaphu.img). V\u00fdstupn\u00ed slo\u017ekou tohoto procesu, v z\u00e1lo\u017ece Processing Parameters, bude slo\u017eka vytvo\u0159en\u00e1 v p\u0159ede\u0161l\u00e9m kroku (snaphu_export). Pokud bychom data neulo\u017eili do stejn\u00e9 slo\u017eky, dal\u0161\u00ed krok by pot\u00e9 nefungoval. Pro zobrazen\u00ed v\u00fdpo\u010dtu bylo za\u0161krtnuto pole Display execution output. Krok je pom\u011brn\u011b n\u00e1ro\u010dn\u00fd a m\u016f\u017ee zabrat i n\u011bkolik des\u00edtek minut (z\u00e1le\u017e\u00ed na hardwaru).</p> <p> </p> <p>T\u0159et\u00ed a posledn\u00ed \u010d\u00e1st\u00ed rozbalov\u00e1n\u00ed f\u00e1ze je import rozbalen\u00fdch dat (Radar \u2192 Interferometric \u2192 Unwrapping \u2192 Snaphu Import). V z\u00e1lo\u017ece 1-Read-Phase zvol\u00edme vstupn\u00ed data a to vytvo\u0159en\u00fd Subset je\u0161t\u011b P\u0158ED samotn\u00fdm rozbalen\u00edm f\u00e1z\u00ed. v druh\u00e9 z\u00e1lo\u017ece 2-Read-Unwrapped-Phase zvol\u00edme vstupn\u00ed data - rozbalen\u00fd soubor v exportovan\u00e9 slo\u017ece s koncovkou .hdr (UnwPhase_ifg_IW2_VV_30Sep2020_24Sep2020.snaphu.hdr). T\u0159et\u00ed z\u00e1lo\u017eka z\u016fstala nezm\u011bn\u011bn\u00e1 \u2013 \u010dili ponech\u00e1me neozna\u010denou volbu Do NOT save Wrapped interferogram in the target product a n\u00e1sledn\u011b ve \u010dtvrt\u00e9 z\u00e1lo\u017ece zvol\u00edme, kam v\u00fdstup ulo\u017e\u00edme. Pro p\u0159ehlednost doporu\u010duji ozna\u010dit soubor, \u017ee se jedn\u00e1 o rozbalenou f\u00e1zi, nap\u0159\u00edklad veps\u00e1n\u00edm _unw.</p> <p></p> <p> </p> <p> </p> <p>V\u00fdsledek m\u016f\u017eeme otev\u0159\u00edt v Product Explorer.</p> <p></p>"},{"location":"cviceni/cviceni11/#10-prevedeni-faze-na-vysku","title":"10) P\u0159eveden\u00ed f\u00e1ze na v\u00fd\u0161ku","text":"<p>Takto zpracovan\u00fd produkt je nutn\u00e9 p\u0159ev\u00e9st z jednotek radi\u00e1nu na absolutn\u00ed v\u00fd\u0161ku v kart\u00e9zsk\u00e9m sou\u0159adnicov\u00e9m syst\u00e9mu. Krom\u011b f\u00e1zov\u00e9ho \u0161umu a mo\u017en\u00fdch chyb p\u0159i rozbalen\u00ed f\u00e1ze je p\u0159esnost zpracov\u00e1n\u00ed z\u00e1visl\u00e1 takt\u00e9\u017e na orbit\u00e1ln\u00edch vektorech ur\u010duj\u00edc\u00edch dr\u00e1hu dru\u017eice. P\u0159evod na v\u00fd\u0161ku provedeme pomoc\u00ed funkce Phase to Elevation (Radar \u2192 Interferometric \u2192 Products). Vstupn\u00edm produktem bude produkt z minul\u00e9ho kroku (s koncovkou _unw). Zvol\u00edme, kam se produkt ulo\u017e\u00ed, a v z\u00e1lo\u017ece Processing Parameters op\u011bt zvol\u00edme pro DEM SRTM 1Sec HGT (Auto Download) a nejjednodu\u0161\u0161\u00ed interpola\u010dn\u00ed metodu pro DEM Resampling Method: Nearest Neighboor.</p> <p> </p>"},{"location":"cviceni/cviceni11/#11-korekce-terenu","title":"11) Korekce ter\u00e9nu","text":"<p>Pomoc\u00ed funkce Range-Doppler Terrain Correction (Radar \u2192 Geometric \u2192 Terrain Correction \u2192 Range-Doppler Terrain Correction) geok\u00f3dujeme sn\u00edmek \u00fapravou SAR geometrick\u00e9ho zkreslen\u00ed pomoc\u00ed digit\u00e1ln\u00edho modelu ter\u00e9nu a vytvo\u0159\u00edme sn\u00edmek projektovan\u00e9ho produktu. Vstupn\u00edm produktem je produkt z p\u0159edchoz\u00edho kroku. V Processing Parameters pot\u00e9 op\u011bt zvol\u00edme pro DEM SRTM 1Sec HGT (Auto Download) a v Source Bands ozna\u010d\u00edme p\u00e1smo elevation. Zbytek ponech\u00e1me tak, jak je.</p> <p> </p> <p>V\u00fdsledek by m\u011bl vypadat n\u011bjak takto:</p> <p></p>"},{"location":"cviceni/cviceni11/#12-export","title":"12) Export","text":"<p>Posledn\u00edm krokem je export vytvo\u0159en\u00e9ho DEM. Ozna\u010d\u00edme tedy v Product Explorer posledn\u00ed vytvo\u0159en\u00fd produkt a n\u00e1sledn\u011b p\u0159es File \u2192 Export vybereme vhodn\u00fd form\u00e1t (nap\u0159\u00edklad GeoTIFF), kter\u00fd n\u00e1sledn\u011b budeme moct otev\u0159\u00edt nap\u0159\u00edklad v ArcGIS Pro. Po exportu v n\u00e1mi zvolen\u00e9m softwaru vytvo\u0159\u00edme v\u00fdkres, kter\u00fd bude obsahovat v\u0161echny n\u00e1le\u017eitosti \u2013 tir\u00e1\u017e, m\u011b\u0159\u00edtko, legendu, sm\u011brovku, nadpis.</p> <p></p>"},{"location":"cviceni/cviceni2/","title":"Sezn\u00e1men\u00ed se softwarem SNAP, vytvo\u0159en\u00ed subsetu, barevn\u00e1 synt\u00e9za, tvorba spektr\u00e1ln\u00edch k\u0159ivek","text":""},{"location":"cviceni/cviceni2/#seznameni-se-softwarem-snap-vytvoreni-subsetu-barevna-synteza-tvorba-spektralnich-krivek","title":"Sezn\u00e1men\u00ed se softwarem SNAP, vytvo\u0159en\u00ed subsetu, barevn\u00e1 synt\u00e9za, tvorba spektr\u00e1ln\u00edch k\u0159ivek","text":""},{"location":"cviceni/cviceni2/#cil-cviceni","title":"C\u00edl cvi\u010den\u00ed","text":"<ul> <li>Nahr\u00e1n\u00ed dat do SNAP a z\u00e1kladn\u00ed orientace v softwaru</li> <li>Vytvo\u0159en\u00ed subsetu ze sta\u017een\u00fdch dat Sentinel-2</li> <li>Tvorba RGB obr\u00e1zku pomoc\u00ed kombinace jednotliv\u00fdch p\u00e1sem</li> <li>Anal\u00fdza spektr\u00e1ln\u00edch vlastnost\u00ed r\u016fzn\u00fdch povrch\u016f pomoc\u00ed spektr\u00e1ln\u00edch k\u0159ivek</li> </ul>"},{"location":"cviceni/cviceni2/#zakladni-pojmy","title":"Z\u00e1kladn\u00ed pojmy","text":"<ul> <li>Resampling (p\u0159evzorkov\u00e1n\u00ed): Zm\u011bna prostorov\u00e9ho rozli\u0161en\u00ed rastrov\u00fdch dat (zm\u011bna velikosti pixelu).</li> <li>Barevn\u00e1 synt\u00e9za: Kombinace t\u0159\u00ed r\u016fzn\u00fdch p\u00e1sem pro vytvo\u0159en\u00ed RGB sn\u00edmku. V\u00fdsledkem m\u016f\u017ee b\u00fdt sn\u00edmek v p\u0159irozen\u00fdch \u010di fale\u0161n\u00fdch barv\u00e1ch.</li> <li>Spektr\u00e1ln\u00ed k\u0159ivka: Z\u00e1vislost mezi odrazivost\u00ed a vlnovou d\u00e9lkou pro dan\u00fd objekt \u010di povrch. Tvar t\u011bchto k\u0159ivek b\u00fdv\u00e1 pro dan\u00fd objekt typick\u00fd.</li> </ul>"},{"location":"cviceni/cviceni2/#pasma-sentinel-2","title":"P\u00e1sma Sentinel-2","text":"<p>Data Sentinel-2 obasahuj\u00ed celkem 12 (v p\u0159\u00edpad\u011b L2A produkt\u016f) resp. 13 (v p\u0159\u00edpad\u011b L1C produkt\u016f) p\u00e1sem. P\u0159i pr\u00e1ci s t\u011bmito daty je dobr\u00e9 zn\u00e1t, kter\u00fdm vlnov\u00fdm d\u00e9lk\u00e1m jednotliv\u00e1 p\u00e1sma odpov\u00eddaj\u00ed (tj. v jak\u00e9 \u010d\u00e1sti spektra se nach\u00e1zej\u00ed) a jak\u00e9 maj\u00ed jednotliv\u00e1 p\u00e1sma prostorov\u00e9 rozli\u0161en\u00ed. Tyto informace p\u0159ehledn\u011b zn\u00e1zor\u0148uje n\u00e1sleduj\u00edc\u00ed obr\u00e1zek.</p> <p></p> P\u0159ehled jednotliv\u00fdch p\u00e1sem Sentinel-2"},{"location":"cviceni/cviceni2/#prace-v-softwaru-snap","title":"Pr\u00e1ce v softwaru SNAP","text":""},{"location":"cviceni/cviceni2/#nahrani-dat-do-snap","title":"Nahr\u00e1n\u00ed dat do SNAP","text":"<p>Sta\u017een\u00e1 data Sentinel-2 otev\u0159eme pomoc\u00ed File \u2192 Open Product..., p\u0159\u00edpadn\u011b kliknut\u00edm na ikonu Open Product. Data lze t\u00e9\u017e otev\u0159\u00edt jejich p\u0159eta\u017een\u00edm p\u0159\u00edmo do SNAP, nikoliv v\u0161ak do mapov\u00e9ho okna, ale do Product Explorer, kter\u00fd se nach\u00e1z\u00ed v lev\u00e9 horn\u00ed \u010d\u00e1sti prost\u0159ed\u00ed SNAP.</p> <p> </p> <p>Data Sentinel-2 pro pr\u00e1ci ve SNAP nemus\u00edme rozbalovat a otev\u0159eme tak p\u0159\u00edmo sta\u017een\u00fd ZIP soubor.</p> <p></p> <p>V lev\u00e9 \u010d\u00e1sti prost\u0159ed\u00ed SNAP v Product Explorer se pot\u00e9 objev\u00ed n\u00e1\u0161 produkt. Ten si rozbal\u00edme, v \u010d\u00e1sti Bands si vybereme jak\u00e9koliv p\u00e1smo a dvojklikem ho zobraz\u00edme v mapov\u00e9m okn\u011b.</p> <p></p> Pozn. <p>Open source software SNAP m\u00e1 ob\u010das tendence ned\u011blat zrovna to, co se po n\u011bm chce (hl\u00e1\u0161en\u00ed podivn\u00fdch chybov\u00fdch zpr\u00e1v, nereagov\u00e1n\u00ed na u\u017eivatelsk\u00e9 vstupy, atd.). V takov\u00e9m p\u0159\u00edpad\u011b doporu\u010dujeme cel\u00fd SNAP zav\u0159\u00edt (p\u0159\u00edpadn\u011b nejd\u0159\u00edv ulo\u017eit proveden\u00e9 zm\u011bny) a znovu spustit, co\u017e ve v\u011bt\u0161in\u011b p\u0159\u00edpad\u016f probl\u00e9m vy\u0159e\u0161\u00ed.</p>"},{"location":"cviceni/cviceni2/#zakladni-orientace-ve-snap","title":"Z\u00e1kladn\u00ed orientace ve SNAP","text":"<p>V lev\u00e9 doln\u00ed \u010d\u00e1sti prost\u0159ed\u00ed SNAP se nach\u00e1z\u00ed \u010dty\u0159i z\u00e1lo\u017eky, z nich\u017e t\u0159i jsou pro n\u00e1s zaj\u00edmav\u00e9. Jedn\u00e1 se o Navigation, Colour Manipulation a World View. V Navigation se zobrazuje cel\u00e1 sc\u00e9na nahran\u00e1 do aktu\u00e1ln\u00edho mapov\u00e9ho okna. P\u0159i zoomov\u00e1n\u00ed v mapov\u00e9m okn\u011b se zde rovn\u011b\u017e zobrazuje aktu\u00e1ln\u00ed poloha dan\u00e9ho v\u00fd\u0159ezu na zobrazen\u00e9 sc\u00e9n\u011b, se kter\u00fdm m\u016f\u017eeme pomoc\u00ed lev\u00e9ho tla\u010d\u00edtky my\u0161i i pohybovat. Velmi u\u017eite\u010dn\u00e9 jsou zde ikony pro synchronizaci mapov\u00fdch oken a kurzoru v p\u0159\u00edpad\u011b prohl\u00ed\u017een\u00ed v\u00edce p\u00e1sem najednou. Colour Manipulation slou\u017e\u00ed pro barevnou \u00fapravu zobrazen\u00fdch produkt\u016f v mapov\u00e9m okn\u011b. Z\u00e1lo\u017eka World View pak ukazuje, kde p\u0159esn\u011b se dan\u00e1 sc\u00e9na nach\u00e1z\u00ed na Zemi.</p> <p> </p> <p>V lev\u00e9 horn\u00ed \u010d\u00e1sti vedle z\u00e1lo\u017eky Product Explorer se nach\u00e1z\u00ed z\u00e1lo\u017eka Pixel Info. Ta se hod\u00ed v p\u0159\u00edpad\u011b, \u017ee chceme zn\u00e1t informaci o konkr\u00e9tn\u00edm pixelu, na kter\u00e9m se zrovna nach\u00e1z\u00ed n\u00e1\u0161 kurzor.</p> <p></p> <p>Do mapov\u00e9ho okna lze p\u0159idat v\u00edce ne\u017e jedno p\u00e1smo. Dvojklikem na jednotliv\u00e1 p\u00e1sma si je tam postupn\u011b m\u016f\u017eeme p\u0159id\u00e1vat a n\u00e1sledn\u011b mezi nimi p\u0159eklik\u00e1vat. Pokud si je chceme zobrazit soub\u011b\u017en\u011b vedle sebe (nap\u0159\u00edklad pro porovn\u00e1n\u00ed), lze vyu\u017e\u00edt jedn\u00e9 z funkc\u00ed: Tile Horizontally, Tile Vertically \u010di Tile Evenly.</p> <p> </p> Zobrazen\u00ed r\u016fzn\u00fdch p\u00e1sem s rozd\u00edln\u00fdm prostorov\u00fdm rozli\u0161en\u00edm vedle sebe."},{"location":"cviceni/cviceni2/#vytvoreni-rgb-snimku","title":"Vytvo\u0159en\u00ed RGB sn\u00edmku","text":"<p>Pro snadn\u011bj\u0161\u00ed orientaci je m\u00edsto prohl\u00ed\u017een\u00ed jednotliv\u00fdch sc\u00e9n, kter\u00e9 jsou v odst\u00ednech \u0161edi (pokud si je neobarv\u00edme jinak), vhodn\u00e9 vytvo\u0159it pomoc\u00ed barevn\u00e9 synt\u00e9zy RGB sn\u00edmek. To lze ud\u011blat kliknut\u00edm prav\u00fdm tla\u010d\u00edtkem my\u0161i na product v Product Explorer a n\u00e1sledn\u00fdm kliknut\u00edm na Open RGB Image Window. V nov\u011b otev\u0159en\u00e9m okn\u011b pot\u00e9 nastav\u00edme kombinaci p\u00e1sem, pomoc\u00ed kter\u00fdch bude definov\u00e1na barevn\u00e1 synt\u00e9za.</p> <p> </p> <p>V p\u0159\u00edpad\u011b dat Sentinel-2 je zde ji\u017e p\u0159ednastavena kombinace p\u00e1sem B4 - B3 - B2, co\u017e odpov\u00edd\u00e1 pr\u00e1v\u011b kombinaci \u010derven\u00e9ho, zelen\u00e9ho a modr\u00e9ho p\u00e1sma, d\u00edky \u010demu\u017e vznikne obraz v p\u0159\u00edrodn\u00edch barv\u00e1ch, ve kter\u00fdch bychom dan\u00e9 \u00fazem\u00ed vid\u011bli i my pouh\u00fdm okem. Je ale mo\u017en\u00e9 pou\u017e\u00edvat i jin\u00e9 p\u0159eddefinovan\u00e9 kombinace \u010di vytv\u00e1\u0159et sv\u00e9 vlastn\u00ed. Mus\u00ed b\u00fdt ale dodr\u017eena podm\u00ednka, \u017ee kombinovat lze p\u00e1sma pouze se stejn\u00fdm prostorov\u00fdm rozli\u0161en\u00edm. V opa\u010dn\u00e9m p\u0159\u00edpad\u011b n\u00e1m SNAP zahl\u00e1s\u00ed chybovou hl\u00e1\u0161ku poukazuj\u00edc\u00ed pr\u00e1v\u011b na tento fakt. Zvolenou barevnou synt\u00e9zu potvrd\u00edme kliknut\u00edm na tla\u010d\u00edtko OK, \u010d\u00edm\u017e se n\u00e1m vznikl\u00fd RGB sn\u00edmek p\u0159id\u00e1 do mapov\u00e9ho okna.</p> <p></p> <p>Pokud m\u00e1te \"\u0161t\u011bst\u00ed\", m\u016f\u017eete na sv\u00e9 sc\u00e9n\u011b naj\u00edt podobn\u00fd \u00fakaz jako na obr\u00e1zku v\u00fd\u0161e. Nejedn\u00e1 se o chybu senzoru, ale o zachycen\u00e9 letadlo prol\u00e9t\u00e1vaj\u00edc\u00ed v dob\u011b sn\u00edm\u00e1n\u00ed pod dru\u017eic\u00ed. O \u0161t\u011bst\u00ed lze ale mluvit opravdu jen v uvozovk\u00e1ch, proto\u017ee n\u00e1m to zan\u00e1\u0161\u00ed do dat necht\u011bn\u00fd \u0161um.</p>"},{"location":"cviceni/cviceni2/#tvorba-subsetu","title":"Tvorba subsetu","text":"<p>V r\u00e1mci cvi\u010den\u00ed nen\u00ed praktick\u00e9 p\u0159edev\u0161\u00edm z v\u00fdpo\u010detn\u00edch d\u016fvod\u016f pracovat s celou sc\u00e9nou Sentinel-2, kter\u00e1 m\u00e1 rozm\u011bry 110 km \u00d7 110 km. Proto si vytvo\u0159\u00edme subset o rozm\u011brech zhruba 30 km \u00d7 30 km. Subset lze vytvo\u0159it kliknut\u00edm v menu na Raster \u2192 Subset....</p> <p></p> <p>Takto by se ale slo\u017eit\u011b odhadoval subset o konkr\u00e9tn\u00edch rozm\u011brech, kter\u00e9 by se musely dopo\u010d\u00edt\u00e1vat ze sou\u0159adnic, co\u017e by bylo pom\u011brn\u011b pracn\u00e9. Doporu\u010dujeme proto n\u00e1sleduj\u00edc\u00ed postup.</p> <p>Nejprve si uprav\u00edme mapov\u00e9 okno do zhruba \u010dtvercov\u00e9ho tvaru a zazoomujeme do na\u0161\u00ed oblasti z\u00e1jmu.</p> <p></p> <p>Pot\u00e9 pomoc\u00ed funkce Determines the distance between two points zm\u011b\u0159\u00edme p\u0159ibli\u017en\u011b velikost mapov\u00e9ho okna. M\u011b\u0159en\u00ed se provede kliknut\u00edm na jedno m\u00edsto a n\u00e1sledn\u011b dvojklikem na m\u00edsto druh\u00e9.</p> <p> </p> <p>Pokud vzd\u00e1lenost odpov\u00edd\u00e1 zhruba 30 km, p\u0159epneme kurzor na Selection tool, a pot\u00e9 klikneme prav\u00fdm tla\u010d\u00edtkem my\u0161i do mapov\u00e9ho okna a zvol\u00edme mo\u017enost Spatial Subset from View.... </p> <p> </p> <p>Otev\u0159e se n\u00e1m nov\u00e9 okno, ve kter\u00e9m m\u016f\u017eeme pozm\u011bnit parametry subsetu. V z\u00e1lo\u017ece Spatial Subset m\u016f\u017eeme v\u0161e ponechat tak, jak je. Pokud ale chceme subset o rozm\u011brech p\u0159esb\u011b 30 km \u00d7 30 km, m\u016f\u017eeme upravit hodnoty Scene start X, Scene start Y a Scene end X, Scene end Y tak, aby v\u00fdsledn\u00e9 hodnoty Subset scene width a Subset scene height byly rovny 500. To ale plat\u00ed pouze v p\u0159\u00edpad\u011b, \u017ee je jako referen\u010dn\u00ed p\u00e1smo pou\u017eito p\u00e1smo o prostorov\u00e9m rozli\u0161en\u00ed 60 m (nap\u0159. B1). D\u016fvod je ten, \u017ee 500 \u00b7 60 m = 30 000 m. Pokud by bylo pou\u017eito jako referen\u010dn\u00ed p\u00e1smo p\u00e1smo o prostorov\u00e9m rozli\u0161en\u00ed 20 m \u010di 10 m, je pot\u0159eba hodnoty Subset scene width a Subset scene height n\u00e1le\u017eit\u011b upravit. V z\u00e1lo\u017ece Band Subset mohu zvolit, jak\u00e1 v\u0161echna p\u00e1sma budou sou\u010d\u00e1st\u00ed subsetu. I zde ponech\u00e1me v\u0161echno tak, jak je (tj. ponech\u00e1me za\u0161krtnuto Select all).</p> <p> </p> <p>Po stisknut\u00ed tla\u010d\u00edtka OK se v Product Explorer objev\u00ed nov\u011b vznikl\u00fd subset.</p> <p></p> <p>Nov\u011b vytvo\u0159en\u00fd produkt m\u016f\u017eeme pot\u00e9 ulo\u017eit na disk. To lze ud\u011blat kliknut\u00edm prav\u00fdm tla\u010d\u00edtkem my\u0161i na dan\u00fd produkt a zvolit mo\u017enost Save Product \u010di Save Product As.... SNAP n\u00e1s pot\u00e9 informuje, \u017ee produkt bude ulo\u017een do form\u00e1tu BEAM-DIMAP, co\u017e je nativn\u00ed form\u00e1t softwaru SNAP, a zept\u00e1 se n\u00e1s, jestli chceme pokra\u010dovat v konverzi produktu. Dotaz potvrd\u00edme tla\u010d\u00edtkem Yes, zvol\u00edme m\u00edsto, kam chceme produkt ulo\u017eit a d\u00e1me Save, \u010d\u00edm\u017e se na disku vytvo\u0159\u00ed DIM soubor s na\u0161\u00edm subsetem.</p> <p> </p>"},{"location":"cviceni/cviceni2/#resampling","title":"Resampling","text":"<p>P\u0159i pr\u00e1ci se Sentinel-2 daty m\u016f\u017eeme narazit na probl\u00e9m p\u0159i kombinov\u00e1n\u00ed p\u00e1sem s r\u016fzn\u00fdm prostorov\u00fdm rozli\u0161en\u00edm (jako nap\u0159. p\u0159i barevn\u00e9 synt\u00e9ze). Aby se tomuto p\u0159ede\u0161lo, je pot\u0159eba data p\u0159evzorkovat na stejn\u00e9 prostorov\u00e9 rozli\u0161en\u00ed pro v\u0161echna p\u00e1sma. Toho lze doc\u00edlit pomoc\u00ed Raster \u2192 Geometric \u2192 Resampling.</p> <p></p> <p>V z\u00e1lo\u017ece I/O Parameters zvol\u00edme produkt, kter\u00fd chceme p\u0159evzorkovat, zad\u00e1me n\u00e1zev p\u0159evzorkovan\u00e9ho produktu a p\u0159\u00edpadn\u011b za\u0161krtneme, zda chceme produkt ulo\u017eit na disk. V Resampling Parameters pot\u00e9 zvol\u00edme referen\u010dn\u00ed p\u00e1smo, podle kter\u00e9ho bude p\u0159evzorkov\u00e1n\u00ed provedeno. Zvol\u00edme tedy jedno z p\u00e1sem s prostorov\u00fdm rozli\u0161en\u00edm 10 m (tj. B2, B3, B4 nebo B8). Zbytek nech\u00e1me tak, jak je, a klikneme na Run.</p> <p> </p> Pozn. <p>Pokud jsme za\u0161krtli, \u017ee chceme produkt rovnou zapsat na disk, m\u016f\u017ee cel\u00e1 operace trvat o trochu d\u00e9le v z\u00e1vislosti na velikosti dat a v\u00fdkonu po\u010d\u00edta\u010de.</p> <p></p> <p>Kdy\u017e se nyn\u00ed pod\u00edv\u00e1me znovu do Open RGB Image Window, uvid\u00edme, \u017ee m\u00e1me na v\u00fdb\u011br mnohem v\u00edce p\u0159eddefinovan\u00fdch kombinac\u00ed p\u00e1sem.</p> <p></p>"},{"location":"cviceni/cviceni2/#ukol-tvorba-spektralnich-krivek","title":"\u00dakol - Tvorba spektr\u00e1ln\u00edch k\u0159ivek","text":""},{"location":"cviceni/cviceni2/#zadani","title":"Zad\u00e1n\u00ed","text":"<ul> <li>Vytvo\u0159it graf se spektr\u00e1ln\u00edmi k\u0159ivkami r\u016fzn\u00fdch povrch\u016f nach\u00e1zej\u00edc\u00edch se na vytvo\u0159en\u00e9m subsetu sc\u00e9ny ze Sentinel-2.</li> <li>Okomentovat, jak se r\u016fzn\u00e9 povrchy v jednotliv\u00fdch p\u00e1smech chovaj\u00ed (kde doch\u00e1z\u00ed k vysok\u00e9 odrazivosti, kde je naopak z\u00e1\u0159en\u00ed pohlcov\u00e1no, atd.)</li> </ul>"},{"location":"cviceni/cviceni2/#postup","title":"Postup","text":"<p>Spektr\u00e1ln\u00ed k\u0159ivky ve SNAP zobraz\u00edme pomoc\u00ed n\u00e1stroje Optical \u2192 Spectrum View. Pot\u00e9, pokud najedeme kurzorem na jakoukoliv sc\u00e9nu v mapov\u00e9m okn\u011b, se n\u00e1m za\u010dne zobrazovat spektr\u00e1ln\u00ed k\u0159ivka nap\u0159\u00ed\u010d v\u0161emi p\u00e1smy pro aktu\u00e1ln\u00ed pozici kurzoru. M\u016f\u017eeme tak pozorovat, jak se k\u0159ivka m\u011bn\u00ed p\u0159i pohybu kurzorem mezi r\u016fzn\u00fdmi typy povrch\u016f.</p> <p> </p> <p>C\u00edlem je ale zobrazit spektr\u00e1ln\u00ed k\u0159ivky pro v\u00edce povrch\u016f sou\u010dasn\u011b. K tomu pou\u017eijeme n\u00e1stroje View \u2192 Tool Windows \u2192 Pin Manager a Pin placing tool. Jak napov\u00eddaj\u00ed oba n\u00e1zvy, pomoc\u00ed Pin placing tool budeme vkl\u00e1dat piny do mapov\u00e9ho okna, a pomoc\u00ed Pin Manager je budeme zpravovat.</p> <p> </p> <p>Pomoc\u00ed Pin placing tool tedy naklik\u00e1me piny pro r\u016fzn\u00e9 povrchy (nejl\u00e9pe nad RGB sn\u00edmkem) a v Pin Manager je pojmenujeme a p\u0159i\u0159ad\u00edme barvy.</p> <p> </p> <p>Po naklik\u00e1n\u00ed v\u0161ech pin\u016f znovu otev\u0159eme Spectrum View a pomoc\u00ed ikony Show spectra for all pins si zobraz\u00edme spektr\u00e1ln\u00ed k\u0159ivky pro v\u0161echny naklikan\u00e9 piny.</p> <p></p> <p>My si ale vytvo\u0159\u00edme graf samostatn\u011b, a to t\u00edm, \u017ee si jednotliv\u00e1 spektra vyexportujeme do CSV. To se u\u010d\u00edn\u00ed ve Spectrum View pomoc\u00ed ikony Export spectra to text file. Tento soubor pak na\u010dteme nap\u0159\u00edklad do Excel (p\u0159\u00edpadn\u011b MATLAB \u010di Python) a vytvo\u0159\u00edme graf se v\u0161emi n\u00e1le\u017eitostmi (popisky os, legenda, atd.). V\u00fdsledn\u00fd graf pot\u00e9 okomentujeme.</p> <p> </p>"},{"location":"cviceni/cviceni3/","title":"Vegeta\u010dn\u00ed (spektr\u00e1ln\u00ed) indexy, maskov\u00e1n\u00ed, detekce vodn\u00edch ploch","text":""},{"location":"cviceni/cviceni3/#vegetacni-spektralni-indexy-maskovani-detekce-vodnich-ploch","title":"Vegeta\u010dn\u00ed (spektr\u00e1ln\u00ed) indexy, maskov\u00e1n\u00ed, detekce vodn\u00edch ploch","text":""},{"location":"cviceni/cviceni3/#cil-cviceni","title":"C\u00edl cvi\u010den\u00ed","text":"<ul> <li>Nau\u010dit se, co jsou spektr\u00e1ln\u00ed indexy za\u010d (prezentace:  PDF)</li> <li>Um\u011bt spektr\u00e1ln\u00ed indexy po\u010d\u00edtat</li> <li>Tvo\u0159it masky v softwaru SNAP</li> <li>Detekovat vodn\u00ed plochy pomoc\u00ed spektr\u00e1ln\u00edch index\u016f</li> </ul>"},{"location":"cviceni/cviceni3/#zakladni-pojmy","title":"Z\u00e1kladn\u00ed pojmy","text":"<ul> <li>Spektr\u00e1ln\u00ed index: Matematick\u00e1 kombinace dvou nebo v\u00edce p\u00e1sem s c\u00edlem z\u00edskat informace o specifick\u00fdch vlastnostech zemsk\u00e9ho povrchu jako nap\u0159. stav vegetace, kvalita vody, atd.</li> </ul> <p>V\u00edce o spektr\u00e1ln\u00edch indexech a jejich konkr\u00e9tn\u00ed uk\u00e1zky nalezneme v n\u00e1sleduj\u00edc\u00edm videu:</p>"},{"location":"cviceni/cviceni3/#pocitani-spektralnich-indexu","title":"Po\u010d\u00edt\u00e1n\u00ed spektr\u00e1ln\u00edch index\u016f","text":"<p>Spektr\u00e1ln\u00edch index\u016f existuje cel\u00e1 \u0159ada. P\u0159\u00edklady index\u016f m\u016f\u017eeme nal\u00e9zt nap\u0159.  zde nebo  zde. V r\u00e1mci tohoto cvi\u010den\u00ed se pod\u00edv\u00e1me na n\u00e1sleduj\u00edc\u00ed indexy:</p> Index N\u00e1zev Vzorec (Sentinel-2) NDMI Normalized Difference Moisture Index (NIR - SWIR<sub>1</sub>)/(NIR + SWIR<sub>1</sub>) = (B8 - B11)/(B8 + B11) NDVI Normalized Difference Vegetation Index (NIR - Red)/(NIR + Red) = (B8 - B4)/(B8 + B4) NDWI Normalized Difference Water Index (Green - NIR)/(Green + NIR) = (B3 - B8)/(B3 + B8) AWEI<sub>sh</sub> Automated Water Extraction Index Blue + 2.5\u00b7Green - 1.5\u00b7(NIR + SWIR<sub>1</sub>) - 0.25\u00b7SWIR<sub>2</sub> = B2 + 2.5\u00b7B3 - 1.5\u00b7(B8 + B11) - 0.25\u00b7B12 <p>Pokud chceme spektr\u00e1ln\u00ed indexy po\u010d\u00edtat ve SNAP, vyu\u017eijeme n\u00e1stroj Band Maths..., kter\u00fd nalezneme bu\u010f kliknut\u00edm prav\u00fdm tla\u010d\u00edtkem na vybran\u00fd produkt v Product Explorer, nebo p\u0159es menu Raster \u2192 Band Maths...</p> <p> </p> Pozn. <p>Stejn\u011b jako u barevn\u00e9 synt\u00e9zy, tak i zde plat\u00ed, \u017ee pro v\u00fdpo\u010det spektr\u00e1ln\u00edch index\u016f je pot\u0159eba, aby v\u0161echna vstupuj\u00edc\u00ed p\u00e1sma do v\u00fdpo\u010dtu m\u011bla stejn\u00e9 prostorov\u00e9 rozli\u0161en\u00ed. Proto budeme pracovat s p\u0159evzorkovan\u00fdm produktem.</p> <p>V nov\u011b otev\u0159en\u00e9m okn\u011b pot\u00e9 zad\u00e1me n\u00e1zev nov\u011b vytvo\u0159en\u00e9ho p\u00e1sma (v na\u0161em p\u0159\u00edpad\u011b indexu), zvol\u00edme, zda chceme m\u00edt p\u00e1smo pouze virtu\u00e1ln\u011b a nebo zapsan\u00e9 na disk, a klikneme na Edit Expression... Zde n\u00e1sledn\u011b zad\u00e1me vzorec pro n\u00e1\u0161 vybran\u00fd index. Vzorec m\u016f\u017eeme napsat ru\u010dn\u011b pomoc\u00ed kl\u00e1vesnice nebo si ho naklikat my\u0161\u00ed. Vyzkou\u0161\u00edme nap\u0159. NDMI = (B8 - B11)/(B8 + B11). Pot\u00e9 d\u00e1me OK a znovu OK.</p> <p> </p> <p>Vypo\u010dten\u00e9 p\u00e1smo se n\u00e1m p\u0159id\u00e1 do mapov\u00e9ho okna a tak\u00e9 do Bands. Pokud jsme v p\u0159edchoz\u00edm kroku nechali za\u0161krtnuto Virtual (save expression only, don't store data), zobrazuje se u ikony p\u00e1sma p\u00edsmeno V zna\u010d\u00edc\u00ed, \u017ee p\u00e1smo je pouze virtu\u00e1ln\u00ed. Pokud bychom ho cht\u011bli zapsat na disk, klikneme na p\u00e1smo prav\u00fdm tal\u010d\u00edtkem my\u0161i a d\u00e1me Convert Band.</p> <p> </p> <p> NDMI neboli Normalized Difference Moisture Index popisuje \u00farove\u0148 vlhkosti ve vegetaci a slou\u017e\u00ed tedy jako indik\u00e1tor vodn\u00edho stresu vegetace. Nab\u00fdv\u00e1 hodnot od -1 do 1. \u010c\u00edm vy\u0161\u0161\u00ed hodnota, t\u00edm vy\u0161\u0161\u00ed \u00farove\u0148 vlhkosti ve vegetaci. Pro lep\u0161\u00ed n\u00e1zornost p\u0159i\u0159ad\u00edme p\u00e1smu s indexem NDMI n\u011bkterou z nab\u00edzen\u00fdch barevn\u00fdch palet ve SNAP. Palety najdeme v z\u00e1lo\u017ece Colour Manipulation \u2192 Palette, kde si n\u011bjakou vybereme (nap\u0159. gradient_red_white_blue).</p> <p> </p> <p>V tomto p\u0159\u00edpad\u011b \u010derven\u00e1 barva zn\u00e1zor\u0148uje m\u00edsta s n\u00edzkou hodnotou NDMI, a tud\u00ed\u017e m\u00edsta s \u017e\u00e1dnou \u010di velmi n\u00edzkou \u00farovn\u00ed vlhkosti ve vegetaci, a naopak modr\u00e1 m\u00edsta zn\u00e1zor\u0148uj\u00ed m\u00edsta s v\u011bt\u0161\u00edm obsahem vlkosti. P\u0159i porovn\u00e1n\u00ed s RGB sn\u00edmkem tak m\u016f\u017eeme vid\u011bt, \u017ee \u010derven\u011b zn\u00e1zorn\u011bn\u00e1 m\u00edsta odpov\u00eddaj\u00ed hol\u00e9 p\u016fde a z\u00e1stavb\u011b a modr\u00e1 m\u00edsta p\u0159edev\u0161\u00edm zem\u011bd\u011blsk\u00fdm plodin\u00e1m.</p> <p></p> Porovn\u00e1n\u00ed NDMI s RGB synt\u00e9zou v p\u0159\u00edrodn\u00edch barv\u00e1ch"},{"location":"cviceni/cviceni3/#maskovani","title":"Maskov\u00e1n\u00ed","text":"<p>P\u0159\u00edklad maskov\u00e1n\u00ed si uk\u00e1\u017eeme na dal\u0161\u00edm indexu, kter\u00fd si spo\u010d\u00edt\u00e1me. C\u00edlem bude zamaskovat m\u00edsta porostl\u00e1 vegetac\u00ed. K tomu je ide\u00e1ln\u00ed pou\u017e\u00edt index  NDVI neboli Normalized Difference Vegetation Index, kter\u00fd slou\u017e\u00ed pr\u00e1v\u011b k detekci vegetace a ke zkoum\u00e1n\u00ed jej\u00edho stavu. Vzore\u010dek pro v\u00fdpo\u010det je n\u00e1sleduj\u00edc\u00ed: NDVI = (B8 - B4)/(B8 + B4), a postup v\u00fdpo\u010dtu je stejn\u00fd, jako tomu bylo u NDMI. K vytvo\u0159en\u00ed masky pou\u017eijeme n\u00e1stroj Mask Manager nach\u00e1zej\u00edc\u00ed se v pr\u00e1v\u011b \u010d\u00e1sti prost\u0159ed\u00ed SNAP. Pokud tam tento n\u00e1stroj nevid\u00edme, lze jej spustit z menu View \u2192 Tool Windows \u2192 Mask Manager. V na\u0161em p\u0159\u00edpad\u011b se zde ji\u017e nach\u00e1z\u00ed n\u011bkter\u00e9 p\u0159edpo\u010d\u00edtan\u00e9 masky, kter\u00e9 byly sou\u010d\u00e1st\u00ed produktu Sentinel-2.</p> <p> </p> <p>V Mask Manager jsou t\u0159i mo\u017enosti, jak masky tvo\u0159it. Jsou jimi: Creates a new mask based on a logical band maths expression, Creates a new mask based on a value range a Creates a new mask based on a new geometry container (lines and polygons). Vytvo\u0159en\u00e9 masky je pak mo\u017en\u00e9 d\u00e1le kombinovat pomoc\u00ed logick\u00fdch oper\u00e1tor\u016f. My nyn\u00ed pou\u017eijeme druhou mo\u017enost a vytvo\u0159\u00edme masku pomoc\u00ed rozsahu hodnot. Nejprve je ale pot\u0159eba zn\u00e1t, co hodnoty NDVI p\u0159edstavuj\u00ed. To zhruba zn\u00e1zor\u0148uje n\u00e1sleduj\u00edc\u00ed tabulka.</p> Povrch Rozsah hodnot Vodn\u00ed plocha (-1; 0) Z\u00e1stavba a hol\u00e1 p\u016fda (0; 0.2) \u0158\u00eddk\u00e1 vegetace (0.2; 0.3) St\u0159edn\u011b hust\u00e1 vegetace (0.3; 0.5) Hust\u00e1 vegetace (0.5; 1) <p>Hovo\u0159it se ale rovn\u011b\u017e d\u00e1 i o zdrav\u00e9 a nezdrav\u00e9 vegataci. Chlorofyl toti\u017e pohlcuje \u010derven\u00e9 z\u00e1\u0159en\u00ed a bun\u011b\u010dn\u00e1 struktura rostlin naopak odr\u00e1\u017e\u00ed z\u00e1\u0159en\u00ed infra\u010derven\u00e9, co\u017e ve v\u00fdsledku zp\u016fsobuje vysok\u00e9 honoty NDVI. Kdy\u017e ale nen\u00ed vegetace v dobr\u00e9m stavu a chlorofylu ub\u00fdv\u00e1, doch\u00e1z\u00ed k vy\u0161\u0161\u00edmu odrazu \u010derven\u00e9ho z\u00e1\u0159en\u00ed, co\u017e se projevuje ni\u017e\u0161\u00edmi hodnotami NDVI.</p> <p>\u0158ekn\u011bme tedy, \u017ee chceme vytvo\u0159it masku s hustou a st\u0159edn\u011b hustou vegetac\u00ed. V Mask Manager zvol\u00edme mo\u017enost Creates a new mask based on a value range a zad\u00e1me po\u017eadovan\u00fd rozsah hodnot NDVI.</p> <p> </p> <p>V Mask Manager se n\u00e1m pot\u00e9 objev\u00ed nov\u00e1 maska, kterou si m\u016f\u017eeme pojmenovat \u010di j\u00ed zm\u011bnit barvu.</p> <p></p> <p>N\u00e1sledn\u011b si masku zobraz\u00edme p\u0159es n\u011bjak\u00e9 p\u00e1smo (ide\u00e1ln\u011b p\u0159es RGB kompozit) a p\u0159esv\u011bd\u010d\u00edme se, zda opravdu maskuje to, co jsme cht\u011bli.</p> <p></p>"},{"location":"cviceni/cviceni3/#ukol-tvorba-ndvi-mapy-a-detekce-vodni-ploch","title":"\u00dakol - Tvorba NDVI mapy a detekce vodn\u00ed ploch","text":""},{"location":"cviceni/cviceni3/#zadani","title":"Zad\u00e1n\u00ed","text":"<ul> <li>Vytvo\u0159it NDVI mapu s diskr\u00e9tn\u00edmi barvami pro r\u016fzn\u00e9 druhy povrch\u016f detekovateln\u00fdch pomoc\u00ed NDVI, popsat co jak\u00e1 barva zn\u00e1zor\u0148uje</li> <li>Detekovat vodn\u00ed plochy pomoc\u00ed vybran\u00fdch index\u016f</li> <li>Zhodnotit kter\u00fd z index\u016f detekoval vodn\u00ed plochy nejl\u00e9pe, ani\u017e by doch\u00e1zelo i k z\u00e1sadn\u00edmu detekov\u00e1n\u00ed z\u00e1stavby</li> <li>Zjistit celkovou detekovanou plochu vody pro jednotliv\u00e9 indexy</li> </ul>"},{"location":"cviceni/cviceni3/#postup","title":"Postup","text":"<p>Prvn\u00ed \u010d\u00e1st \u00fakolu je snadn\u00e1. NDVI ji\u017e m\u00e1me spo\u010d\u00edtan\u00e9, tak\u017ee jen sta\u010d\u00ed p\u0159id\u011blit jednotliv\u00fdm hodnot\u00e1m NDVI barvy dle tabulky v\u00fd\u0161e. Zobraz\u00edme si tedy p\u00e1smo NDVI a p\u0159ejdeme do Colour Manipulation. Zvol\u00edme mo\u017enost Sliders a klikneme na More Options, kde za\u0161krtneme checkbox Discrete colours.</p> <p></p> <p>Slidery pot\u00e9 uprav\u00edme dle na\u0161ich pot\u0159eb. Kliknut\u00edm na hodnotu slider m\u016f\u017eeme tuto hodnotu m\u011bnit. Kliknut\u00edm na samotn\u00fd slider m\u016f\u017eeme m\u011bnit barvu dan\u00e9ho slideru (p\u0159i za\u0161krtnut\u00e9m Discrete colours bude vybran\u00e1 barva platit pro hodnoty od dan\u00e9ho slideru a\u017e po slider n\u00e1sleduj\u00edc\u00ed). Kliknut\u00edm prav\u00fdm tal\u010d\u00edtkem my\u0161i m\u016f\u017eeme slidery bu\u010f p\u0159id\u00e1van nebo odstra\u0148ovat. Nen\u00ed pot\u0159eba zad\u00e1vat slider pro nejvy\u0161\u0161\u00ed mo\u017enou hodnotu. Sta\u010d\u00ed m\u00edt slider pro po\u010d\u00e1te\u010dn\u00ed hodnotu posledn\u00edho intervalu.</p> <p> </p> <p>V\u00fdsledn\u00e1 mapa pak m\u016f\u017ee vypadat n\u011bjak takto:</p> <p></p> <p>Druh\u00e1 \u010d\u00e1st nen\u00ed o nic slo\u017eit\u011bj\u0161\u00ed. Pro detekci vody pou\u017eijeme n\u00e1sleduj\u00edc\u00ed indexy: NDVI, NDWI a AWEI<sub>sh</sub>. Jen je pot\u0159eba zn\u00e1t, kter\u00e9 hodnoty zhruba odpov\u00eddaj\u00ed vodn\u00ed hladin\u011b. Tuto informaci shrnuje n\u00e1sleduj\u00edc\u00ed tabulka.</p> Index Hodnoty pro vodn\u00ed plochu NDVI (-1; 0) NDWI (0; 1) AWEI<sub>sh</sub> &gt; 0 <p>Postup pro NDVI a NDWI je stejn\u00fd jako p\u0159i maskov\u00e1n\u00ed vegetace. U AWEI<sub>sh</sub> je postup tak\u00e9 identick\u00fd. Jen p\u0159i tvorb\u011b samotn\u00e9 masky pou\u017eijeme m\u00edsto Creates a new mask based on a value range funkci Creates a new mask based on a logical band maths expression.</p> <p></p> <p>V\u00fdsledky detekce vodn\u00edch ploch pot\u00e9 porovn\u00e1me. Hodnoty index\u016f definuj\u00edc\u00ed vodn\u00ed plochy m\u016f\u017eeme rovn\u011b\u017e trochu upravovat, dokud nen\u00ed dosa\u017eeno optim\u00e1ln\u00edch v\u00fdsledk\u016f. Nejh\u016f\u0159e pro detekci vody by m\u011bl vyj\u00edt index NDVI (na obr\u00e1zku n\u00ed\u017ee vlevo), kter\u00fd pro tento \u00fa\u010del nen\u00ed prim\u00e1rn\u011b ur\u010den.</p> <p> </p> <p>Celkovou plochu, kter\u00e9 na\u0161e masky pokr\u00fdvaj\u00ed, zjist\u00edme pomoc\u00ed Analysis \u2192 Statistics.</p> <p></p> <p>Po otev\u0159en\u00ed nov\u00e9ho okna je nejprve nutno znovu kliknout do mapov\u00e9ho okna, aby n\u00e1stroj v\u011bd\u011bl, odkud se bude statistika po\u010d\u00edtat. V pr\u00e1v\u011b \u010d\u00e1sti pot\u00e9 za\u0161krtneme mo\u017enost Use ROI mask(s): a zvol\u00edme konkr\u00e9tn\u00ed masku. N\u00e1sledn\u011b klikneme na dv\u011b modr\u00e9 \u0161ipky v prav\u00e9 horn\u00ed \u010d\u00e1sti, \u010d\u00edm\u017e se statistika spo\u010d\u00edt\u00e1. V l\u00e9v\u00e9 \u010d\u00e1sti pak najdeme hodnotu #Pixels total, kter\u00e1 v tomto p\u0159\u00edpad\u011b ud\u00e1v\u00e1 po\u010det pixel\u016f pokryt\u00fdch maskou.</p> <p></p>"},{"location":"cviceni/cviceni4/","title":"Filtrace obrazu","text":""},{"location":"cviceni/cviceni4/#filtrace-obrazu","title":"Filtrace obrazu","text":""},{"location":"cviceni/cviceni4/#cil-cviceni","title":"C\u00edl cvi\u010den\u00ed","text":"<ul> <li>Porozum\u011bt principu prostorov\u00fdch filtr\u016f</li> <li>Um\u011bt prostorov\u00e9 filtry aplikovat</li> </ul>"},{"location":"cviceni/cviceni4/#zakladni-pojmy","title":"Z\u00e1kladn\u00ed pojmy","text":"<p>Aplikace prostorov\u00fdch filtr\u016f na obrazov\u00e1 data se \u0159ad\u00ed mezi metody zv\u00fdrazn\u011bn\u00ed obrazu. S jin\u00fdmi metodami zv\u00fdrazn\u011bn\u00ed obrazu jsme se setkali ji\u017e v minul\u00fdch cvi\u010den\u00edch. P\u0159\u00edkladem byla \u00faprava (rozta\u017een\u00ed) histogramu v Colour Manipulation, \u010di vytv\u00e1\u0159en\u00ed barevn\u00fdch synt\u00e9z a po\u010d\u00edt\u00e1n\u00ed spektr\u00e1ln\u00edch index\u016f. Metody zv\u00fdrazn\u011bn\u00ed obrazu m\u016f\u017eeme tedy rozd\u011blit do n\u00e1sleduj\u00edc\u00edch skupin:</p> <ul> <li>Bodov\u00e9 (radiometrick\u00e9) zv\u00fdrazn\u011bn\u00ed - manipulace s odst\u00edny \u0161edi, prahov\u00e1n\u00ed, hustotn\u00ed \u0159ezy</li> <li>Prostorov\u00e9 zv\u00fdrazn\u011bn\u00ed - prostorov\u00e9 filtrace, Fourierovy transformace</li> <li>Spektr\u00e1ln\u00ed zv\u00fdrazn\u011bn\u00ed - sestavov\u00e1n\u00ed barevn\u00fdch synt\u00e9z, barevn\u00e1 zv\u00fdrazn\u011bn\u00ed v\u00edce p\u00e1sem (anal\u00fdza hlavn\u00edch komponent, aritmetick\u00e9 kombinace, IHS transformace)</li> </ul>"},{"location":"cviceni/cviceni4/#prostorova-frekvence","title":"Prostorov\u00e1 frekvence","text":"<p>Popisuje mno\u017estv\u00ed zm\u011bn v hodnot\u00e1ch pixel\u016f pro dan\u00e9 \u00fazem\u00ed v z\u00e1vislosti na vzd\u00e1lenosti. N\u00edzk\u00e1 prostorov\u00e1 frekvence znamen\u00e1, \u017ee jsou si hodnoty v rastru podobn\u00e9. Naopak pokud se hodnoty v rastru v\u00fdrazn\u011b li\u0161\u00ed, mluv\u00edme o vysok\u00e9 prostorov\u00e9 frekvenci.</p> <p> </p> N\u00edzk\u00e1 prostorov\u00e1 frekvence (vlevo) a vysok\u00e1 prostorov\u00e1 frekvence (vpravo)"},{"location":"cviceni/cviceni4/#konvoluce","title":"Konvoluce","text":"<ul> <li>Jedn\u00e1 se o proces, kde je pro v\u00fdpo\u010det nov\u00fdch hodnot pixel\u016f vyu\u017eito pohybliv\u00e9 okno (kernel) s p\u0159edem definovan\u00fdmi hodnotami v\u00e1h. Toto pohybliv\u00e9 okno se postupn\u011b pohybuje po cel\u00e9m rastru.</li> <li>Pohybliv\u00e9 okno je zpravidla \u010dtvercov\u00e9ho tvaru a m\u00e1 v\u011bt\u0161inou rozm\u011bry 3\u00d73, 5\u00d75 nebo 7\u00d77 pixel\u016f (je pot\u0159eba m\u00edt lich\u00fd po\u010det sloupc\u016f a \u0159\u00e1dk\u016f, proto\u017ee se po\u010d\u00edt\u00e1 hodnota prost\u0159edn\u00edho pixelu, nicm\u00e9n\u011b nemus\u00ed to b\u00fdt pravidlem).</li> <li>Nov\u00e9 hodnoty rastru se po\u010d\u00edtaj\u00ed nej\u010dast\u011bji pomoc\u00ed tzv. konvolu\u010dn\u00edho vzorce, co\u017e ale nen\u00ed nic jin\u00e9ho, ne\u017e v\u00e1\u017een\u00fd pr\u016fm\u011br hodnot pixel\u016f v pohybliv\u00e9m okn\u011b.</li> </ul>"},{"location":"cviceni/cviceni4/#deleni-filtru","title":"D\u011blen\u00ed filtr\u016f","text":"<p>Prostorov\u00e9 filtry m\u016f\u017eeme d\u011blit dv\u011bma zp\u016fsoby. Prvn\u00ed zp\u016fsob d\u011blen\u00ed je podle druhu informace, kterou dan\u00e9 filtry propou\u0161t\u00ed, a druhou metodou je pak zp\u016fsob, jak\u00fdm jsou nov\u00e9 hodnoty rastru ur\u010dov\u00e1ny.</p> <p>D\u011blen\u00ed podle propustnosti informac\u00ed</p> <ul> <li>Vysokofrekven\u010dn\u00ed (high-pass) filtry - propou\u0161t\u011bj\u00ed vysokofrekven\u010dn\u00ed informaci a zesiluj\u00ed tedy rozd\u00edly mezi hodnotami v obraze. Doch\u00e1z\u00ed tak ke zv\u00fdrazn\u011bn\u00ed obrazu. Vyu\u017e\u00edvaj\u00ed se nap\u0159\u00edklad pro detekci hran.</li> <li>N\u00edzkofrekven\u010dn\u00ed (low-pass) filtry - propou\u0161t\u011bj\u00ed pouze n\u00edzkofrekven\u010dn\u00ed informaci a potla\u010duj\u00ed tak rozd\u00edly mezi hodnotami v obraze. Doch\u00e1z\u00ed k vyhlazen\u00ed obrazu. Slou\u017e\u00ed nap\u0159\u00edklad k redukci \u0161umu.</li> </ul> <p>D\u011blen\u00ed podle zp\u016fsobu v\u00fdpo\u010dtu nov\u00fdch hodnot</p> <ul> <li>Line\u00e1rn\u00ed filtry - nov\u00e1 hodnota dan\u00e9ho pixelu je vypo\u010dtena jako line\u00e1rn\u00ed kombinace hodnot v jeho okol\u00ed (v pohybliv\u00e9m okn\u011b). Je pou\u017eito konvolu\u010dn\u00edho vzorce.</li> <li>Neline\u00e1rn\u00ed filtry - nov\u00e1 hodnota dan\u00e9ho pixelu nen\u00ed line\u00e1rn\u00ed kombinac\u00ed okoln\u00edch hodnot a k v\u00fdpo\u010dtu tedy nen\u00ed pou\u017eita konvoluce. P\u0159\u00edkladem m\u016f\u017ee b\u00fdt nap\u0159. medi\u00e1nov\u00fd filtr, \u010di filtry p\u0159i\u0159azuj\u00edc\u00ed dan\u00e9mu pixelu maxim\u00e1ln\u00ed p\u0159\u00edpadn\u011b minim\u00e1ln\u00ed hodnotu z okol\u00ed.</li> </ul>"},{"location":"cviceni/cviceni4/#vyuziti-filtru-a-shrnuti","title":"Vyu\u017eit\u00ed filtr\u016f a shrnut\u00ed","text":"<p>Filtry maj\u00ed v DPZ \u0159adu vyu\u017eit\u00ed. P\u0159\u00edklady mohou b\u00fdt n\u00e1sleduj\u00edc\u00ed:</p> <ul> <li>Vylep\u0161en\u00ed, zv\u00fdrazn\u011bn\u00ed obrazu</li> <li>Anal\u00fdza \u010di automatick\u00e9 zpracov\u00e1n\u00ed</li> <li>Odstran\u011bn\u00ed \u0161umu</li> <li>Vyhlazen\u00ed klasifika\u010dn\u00edch v\u00fdsledk\u016f</li> </ul> <p>Princip prostorov\u00fdch filtr\u016f n\u00e1zorn\u011b shrnuj\u00ed n\u00e1sleduj\u00edc\u00ed videa:</p>"},{"location":"cviceni/cviceni4/#ukazka-pouziti-filtru-ve-snap","title":"Uk\u00e1zka pou\u017eit\u00ed filtr\u016f ve SNAP","text":"<p>Ve SNAP m\u00e1me dv\u011b mo\u017enosti, jak se dostat k prostorov\u00fdm filtr\u016fm. Bu\u010f m\u016f\u017eeme kliknout prav\u00fdm tla\u010d\u00edtkem my\u0161i na n\u011bkter\u00e9 p\u00e1smo v Product Explorer a n\u00e1sledn\u011b zvolit mo\u017enost Filtered Band... nebo m\u016f\u017eeme p\u0159es menu Raster \u2192 Filtered Band... Pokud k prostorov\u00fdm filtr\u016fm p\u0159istupujeme druh\u00fdm zp\u016fsobem, je pot\u0159eba m\u00edt ozna\u010deno p\u00e1smo bu\u010f v Product Explorer nebo v mapov\u00e9m okn\u011b.</p> <p> </p> <p>V nov\u011b otev\u0159en\u00e9m okn\u011b si pak m\u016f\u017eeme vybrat jeden z nab\u00edzen\u00fdch filtr\u016f nebo si vytvo\u0159it sv\u016fj vlastn\u00ed. D\u00e1le m\u016f\u017eeme volit po\u010det iterac\u00ed nebo se pod\u00edvat na kernel jednotliv\u00fdch filtr\u016f.</p> <p> </p> Vpravo uk\u00e1zka kernelu vysokofrekven\u010dn\u00edho filtru <p>Po aplikov\u00e1n\u00ed filtru se n\u00e1m filtrovan\u00fd obraz p\u0159id\u00e1 do mapov\u00e9ho okna.</p> <p></p> Uk\u00e1zky filtr\u016f. Vlevo naho\u0159e - p\u016fvodn\u00ed p\u00e1smo B8, vpravo naho\u0159e - High-Pass filtr, vlevo dole - Low-Pass filtr, vpravo dole - Standard Deviation filtr"},{"location":"cviceni/cviceni4/#ukol-aplikace-vybranych-filtru","title":"\u00dakol - Aplikace vybran\u00fdch filtr\u016f","text":"<ul> <li>Pou\u017e\u00edt na jedno z p\u016fvodn\u00edch desetimetrov\u00fdch p\u00e1sem (tj. B2, B3, B4 nebo B8) \u010dty\u0159i r\u016fzn\u00e9 filtry (alespo\u0148 jeden n\u00edzkofrekven\u010dn\u00ed a jeden vysokofrekven\u010dn\u00ed). Popsat co se d\u011bje s obrazem pro n\u00e1sleduj\u00edc\u00ed oblasti:<ul> <li>Vodn\u00ed plocha a b\u0159ehov\u00e9 oblasti</li> <li>M\u011bsto / z\u00e1stavba</li> <li>Lesn\u00ed plocha</li> </ul> </li> <li>Ke ka\u017ed\u00e9mu popisu p\u0159idat obr\u00e1zek jako d\u016fkaz</li> <li>V z\u00e1v\u011bru zhodno\u0165te, kter\u00e9 filtry jsou v\u00fdhodn\u00e9 pro zv\u00fdrazn\u011bn\u00ed zm\u011bn mezi jednotliv\u00fdmi plochami a kter\u00e9 potla\u010duj\u00ed r\u016fznorodosti v r\u00e1mci ploch stejn\u00e9ho typu.</li> </ul>"},{"location":"cviceni/cviceni4/#nizkofrekvencni-filtry","title":"N\u00edzkofrekven\u010dn\u00ed filtry","text":"<ul> <li>Pr\u016fm\u011brov\u00fd (Mean)</li> <li>Medi\u00e1nov\u00fd</li> <li>Low-Pass</li> <li>Min/Max</li> <li>Morphological</li> </ul>"},{"location":"cviceni/cviceni4/#vysokofrekvencni-filtry","title":"Vysokofrekven\u010dn\u00ed filtry","text":"<ul> <li>Line (edge) detection</li> <li>Laplace</li> <li>High-Pass</li> <li>Emboss</li> <li>Standard Deviation</li> </ul> <p>Vysokofrekven\u010dn\u00ed filtr lze z\u00edskat i tak, kdy\u017e od p\u016fvodn\u00edho p\u00e1sma ode\u010dteme p\u00e1smo s aplikovan\u00fdm n\u00edzkofrekven\u010dn\u00edm filtrem.</p>"},{"location":"cviceni/cviceni5/","title":"Ne\u0159\u00edzen\u00e1 klasifikace","text":""},{"location":"cviceni/cviceni5/#nerizena-klasifikace","title":"Ne\u0159\u00edzen\u00e1 klasifikace","text":""},{"location":"cviceni/cviceni5/#cil-cviceni","title":"C\u00edl cvi\u010den\u00ed","text":"<ul> <li>Nau\u010dit se klasifikovat optick\u00e1 dru\u017eicov\u00e1 data pomoc\u00ed ne\u0159\u00edzen\u00e9 klasifikace s c\u00edlem vytvo\u0159it vrstvu pokryt\u00ed \u00fazem\u00ed (land cover)</li> <li>Porozum\u011bt rozd\u00edlu mezi ne\u0159\u00edzenou a \u0159\u00edzenou klasifikac\u00ed</li> <li>Pochopit princip ne\u0159\u00edzen\u00e9 klasifikace</li> </ul>"},{"location":"cviceni/cviceni5/#zakladni-pojmy","title":"Z\u00e1kladn\u00ed pojmy","text":""},{"location":"cviceni/cviceni5/#klasifikace-obecne","title":"Klasifikace obecn\u011b","text":"<ul> <li>Klasifikaci lze obecn\u011b definovat jako seskupov\u00e1n\u00ed vz\u00e1jemn\u011b si podobn\u00fdch prvk\u016f do ur\u010dit\u00fdch skupin (t\u0159\u00edd, kategori\u00ed).</li> <li>V d\u00e1lkov\u00e9m pr\u016fzkumu Zem\u011b klasifikace p\u0159edstavuje proces, p\u0159i kter\u00e9m se jednotliv\u00e9 pixely origin\u00e1ln\u00edho numerick\u00e9ho z\u00e1znamu za\u0159azuj\u00ed do t\u0159\u00edd, a vznik\u00e1 tak klasifikovan\u00fd sn\u00edmek. Origin\u00e1ln\u00ed obrazov\u00fd z\u00e1znam se tak st\u00e1v\u00e1 tematickou mapou (nej\u010dast\u011bji mapa land cover).</li> <li>P\u0159i\u0159azov\u00e1n\u00ed pixel\u016f do t\u0159\u00edd prob\u00edh\u00e1 na z\u00e1klad\u011b tzv. p\u0159\u00edznak\u016f (u optick\u00fdch dat mluv\u00edme o spektr\u00e1ln\u00edch p\u0159\u00edznac\u00edch, tj. hodnoty spektr\u00e1ln\u00ed odrazivosti r\u016fzn\u00fdch povrch\u016f).</li> <li>P\u0159\u00edznaky tvo\u0159\u00ed tzv. p\u0159\u00edznakov\u00fd prostor, kter\u00fd je definov\u00e1n v\u0161emi p\u00e1smy, v nich\u017e lze nam\u011b\u0159it nebo vypo\u010d\u00edst ur\u010ditou charakteristiku.</li> </ul> Zjednodu\u0161en\u00e9 sch\u00e9ma klasifikace, kdy se z multispektr\u00e1ln\u00edch dat tvo\u0159\u00ed tematick\u00e1 mapa"},{"location":"cviceni/cviceni5/#deleni-klasifikace","title":"D\u011blen\u00ed klasifikace","text":"<p>Klasifikaci obrazov\u00fdch dat m\u016f\u017eeme d\u011blit dv\u011bma zp\u016fsoby. Prvn\u00ed zp\u016fsob klasifikaci d\u011bl\u00ed podle toho, kdy do n\u00ed my jako\u017eto oper\u00e1tor vstupujeme. Mluv\u00edme pot\u00e9 o n\u00e1sleduj\u00edc\u00edch typech klasifikac\u00ed:</p> <ul> <li>Ne\u0159\u00edzen\u00e1 klasifikace - Na za\u010d\u00e1tku zad\u00e1v\u00e1me pouze po\u010det t\u0159\u00edd, kter\u00e9 chceme klasifikovat. Co ale dan\u00e9 t\u0159\u00eddy ve skute\u010dnosti p\u0159edstavuj\u00ed, mus\u00edme ur\u010dit a\u017e dodate\u010dn\u011b po samotn\u00e9 klasifikaci.</li> <li>\u0158\u00edzen\u00e1 klasifikace - Na za\u010d\u00e1tku ur\u010dujeme konkr\u00e9tn\u00ed t\u0159\u00eddy, kter\u00e9 chceme klasifikovat. Klasifik\u00e1toru z\u00e1rove\u0148 poskytujeme tr\u00e9novac\u00ed mno\u017einy, na kter\u00fdch se klasifik\u00e1tor jednotliv\u00e9 t\u0159\u00eddy \"u\u010d\u00ed\".</li> <li>Hybridn\u00ed klasifikace - Kombinuje dohromady ne\u0159\u00edzenou a \u0159\u00edzenou klasifikaci.</li> </ul> <p>Druh\u00fdm zp\u016fsobem je d\u011blen\u00ed klasifikace podle toho, zda do t\u0159\u00edd p\u0159i\u0159azujeme jednotliv\u00e9 pixely nebo skupiny pixel\u016f. Mluv\u00edme pak o n\u00e1sleduj\u00edc\u00edch typech klasifikac\u00ed:</p> <ul> <li>Pixelov\u00e1 (per-pixel) klasifikace - Ke konkr\u00e9tn\u00ed t\u0159\u00edd\u011b jsou postupn\u011b p\u0159i\u0159azov\u00e1ny jednotliv\u00e9 pixely.</li> <li>Objektov\u00e1 klasifikace - Do konkr\u00e9tn\u00edch t\u0159\u00edd nejsou p\u0159i\u0159azov\u00e1ny jednotliv\u00e9 pixely, ale skupiny pixel\u016f.</li> </ul>"},{"location":"cviceni/cviceni5/#princip-nerizene-klasifikace","title":"Princip ne\u0159\u00edzen\u00e9 klasifikace","text":"<p>V\u011bt\u0161ina algoritm\u016f ne\u0159\u00edzen\u00e9 klasifikace je zalo\u017eena na shlukov\u00e9 anal\u00fdze. Ta iterativn\u00edm zp\u016fsobem slu\u010duje pixely do shluk\u016f se stejn\u00fdmi \u010di podobn\u00fdmi spektr\u00e1ln\u00edmi vlastnostmi. Z\u00e1kladn\u00edm p\u0159edpokladem tedy je, \u017ee pixely, kter\u00e9 pat\u0159\u00ed do jedn\u00e9 t\u0159\u00eddy, jsou ve v\u00edcerozm\u011brn\u00e9m prostoru p\u0159irozen\u011b bl\u00edzko sebe a naopak pixely odli\u0161n\u00fdch skupin, kter\u00e9 p\u0159edstavuj\u00ed povrchy li\u0161\u00edc\u00ed se sv\u00fdm spektr\u00e1ln\u00edm chov\u00e1n\u00edm, jsou dob\u0159e separovan\u00e9. Vytvo\u0159en\u00e9 shluky se naz\u00edvaj\u00ed spektr\u00e1ln\u00ed t\u0159\u00eddy. Tyto spektr\u00e1ln\u00ed t\u0159\u00eddy ale nemaj\u00ed po\u017eadovanou informa\u010dn\u00ed hodnotu a teprve jejich interpretac\u00ed a postupn\u00fdm spojov\u00e1n\u00edm vzikaj\u00ed t\u0159\u00eddy informa\u010dn\u00ed.</p> <p>V r\u00e1mci tohoto cvi\u010den\u00ed si ve SNAP vyzkou\u0161\u00edme ne\u0159\u00edzenou klasifikaci pomoc\u00ed metody K-Means Cluster Analysis. Ta po u\u017eivateli p\u0159ed spu\u0161t\u011bn\u00edm po\u017eaduje pouze zad\u00e1n\u00ed konkr\u00e9tn\u00edho po\u010dtu shluk\u016f a po\u010det iterac\u00ed. Postup v\u00fdpo\u010dtu lze pak shrnout do n\u00e1sleduj\u00edc\u00edch krok\u016f:</p> <ol> <li>Definov\u00e1n\u00ed po\u010dtu v\u00fdsledn\u00fdch shluk\u016f a ur\u010den\u00ed po\u010dtu iterac\u00ed</li> <li>Ur\u010den\u00ed po\u010d\u00e1te\u010dn\u00ed polohy centroidu pro ka\u017ed\u00fd shluk (pokud nen\u00ed poloha explicitn\u011b zad\u00e1na, jsou centroidy rozm\u00edst\u011bny rovnom\u011brn\u011b po diagon\u00e1le p\u0159\u00edznakov\u00e9ho prostoru)</li> <li>Postupn\u00e9 p\u0159i\u0159azen\u00ed v\u0161ech pixel\u016f k tomu shluku, k n\u011bmu\u017e maj\u00ed v p\u0159\u00edznakov\u00e9m prostoru nejbl\u00ed\u017ee</li> <li>V\u00fdpo\u010det nov\u00e9 polohy centroidu pro ka\u017ed\u00fd shluk na z\u00e1klad\u011b nov\u011b p\u0159i\u0159azen\u00fdch pixel\u016f</li> <li>Opakov\u00e1n\u00ed krok\u016f 3. a 4. dokud nenastane jedna z n\u00e1sleduj\u00edc\u00edch mom\u017enost\u00ed:<ol> <li>Bylo dosa\u017eeno jednoho z krit\u00e9ri\u00ed konvergence, tj. poloha centroid\u016f \u010di po\u010det pixel\u016f za\u0159azen\u00fdch do jednotliv\u00fdch shluk\u016f se ji\u017e v\u00fdrazn\u011b nem\u011bn\u00ed</li> <li>Bylo dosa\u017eeno maxim\u00e1ln\u00edho po\u010dtu iterac\u00ed zadan\u00e9ho u\u017eivatelem</li> </ol> </li> </ol> <p></p> Princip itera\u010dn\u00edho postupu shlukov\u00e1n\u00ed <p>N\u00e1sledn\u011b pak u\u017eivatel ji\u017e samostatn\u011b prov\u00e1d\u00ed n\u00e1sleduj\u00edc\u00ed dva kroky, kter\u00e9 jsou stejn\u00e9 pro v\u0161echny metody ne\u0159\u00edzen\u00e9 klasifikace.</p> <ol> <li>P\u0159i\u0159azen\u00ed konkr\u00e9tn\u00edho v\u00fdznamu ka\u017ed\u00e9mu tzv. stabiln\u00edmu shluku (spektr\u00e1ln\u00ed t\u0159\u00edd\u011b)</li> <li>Vytvo\u0159en\u00ed informa\u010dn\u00edch t\u0159\u00edd spojov\u00e1n\u00edm t\u0159\u00edd spektr\u00e1ln\u00edch</li> </ol>"},{"location":"cviceni/cviceni5/#nerizena-klasifikace-ve-snap","title":"Ne\u0159\u00edzen\u00e1 klasifikace ve SNAP","text":"<p>Ne\u0159\u00edzenou klasifikaci ve SNAP najdeme v menu Raster \u2192 Classification \u2192 Unsupervised Classification, kde pot\u00e9 zvol\u00edme jednu ze dvou nab\u00edzen\u00fdch mo\u017enost\u00ed. V na\u0161em p\u0159\u00edpad\u011b zvol\u00edme K-Means Cluster Analysis.</p> <p></p> <p>Otev\u0159e se n\u00e1m nov\u00e9 okno, kde nejprve v z\u00e1lo\u017ece I/O Parameters zvol\u00edme Source Product, co\u017e bude n\u00e1\u0161 p\u0159evzorkovan\u00fd subset (do v\u00fdpo\u010dtu mus\u00ed vstupovat p\u00e1sma se stejn\u00fdm prostorov\u00fdm rozli\u0161en\u00edm), a d\u00e1le pak n\u00e1zev nov\u00e9ho produktu, zda ho chceme ulo\u017eit atd. V z\u00e1lo\u017ece Processing Parameters pot\u00e9 nastav\u00edme parametry algoritmu, jimi\u017e jsou po\u010det spektr\u00e1ln\u00edch t\u0159\u00edd (Number of clusters) a po\u010det iterac\u00ed (Number of iterations). Parametr Random seed m\u016f\u017eeme nechat tak, jak je. Ten pouze n\u00e1hodn\u011b generuje po\u010d\u00e1te\u010dn\u00ed shluky. V Source band names nakonec vybereme jednotliv\u00e1 p\u00e1sma, kter\u00e1 budou do klasifikace vstupovat (m\u016f\u017eeme pou\u017e\u00edt nap\u0159. i jednotliv\u00e9 spektr\u00e1ln\u00ed indexy, pokud je m\u00e1me v produktu ulo\u017eeny). Pokud bychom cht\u011bli klasifikaci prov\u00e9st jen na ur\u010dit\u00e9 \u010d\u00e1sti \u00fazem\u00ed, m\u016f\u017eeme pou\u017eit ROI-mask k vybr\u00e1n\u00ed konkr\u00e9tn\u00ed masky.</p> <p> </p> Pozn. <p>V\u00fdpo\u010det m\u016f\u017ee b\u00fdt v z\u00e1vislosti na vstupn\u00edch parametrech a velikosti \u00fazem\u00ed \u010dasov\u011b trochu n\u00e1ro\u010dn\u011bj\u0161\u00ed.</p> <p></p> <p>Po dokon\u010den\u00ed v\u00fdpo\u010dtu se do Product Explorer p\u0159id\u00e1 nov\u00fd produkt, kde v Bands najdeme na\u0161\u00ed klasifikovanou vrstvu pod n\u00e1zvem class_indices.</p> <p> </p>"},{"location":"cviceni/cviceni5/#vliv-pocatecnich-parametru-na-vysledek","title":"Vliv po\u010d\u00e1te\u010dn\u00edch parametr\u016f na v\u00fdsledek","text":"<p>Vcelku rozumn\u00e1 \u00favaha by byla nastavit Number of clusters na po\u010det t\u0159\u00edd, kter\u00e9 na sc\u00e9n\u011b doopravdy vid\u00edme. T\u011bmi mohou b\u00fdt nap\u0159\u00edklad Z\u00e1stavba, Hol\u00e1 p\u016fda, Zem\u011bd\u011blsk\u00e9 oblasti, Les a Vodn\u00ed plocha (t\u0159\u00edd je re\u00e1ln\u011b samoz\u0159ejm\u011b v\u00edc, nicm\u00e9n\u011b nap\u0159. t\u0159\u00eddu Traviny jen t\u011b\u017eko rozezn\u00e1me na datech Sentinel-2 od t\u0159\u00eddy Zem\u011bd\u011blsk\u00e9 oblasti). Zkusme tedy za\u010d\u00edt s t\u011bmito parametry:</p> <p>Prvn\u00ed pokus</p> <ul> <li>Number of clusters = 5</li> <li>Number of iterations = 1</li> </ul> <p>Druh\u00fd pokus</p> <ul> <li>Number of clusters = 5</li> <li>Number of iterations = 30</li> </ul> <p></p> Vlevo - RGB sc\u00e9na, uprost\u0159ed - 5 t\u0159\u00edd a 1 iterace, vpravo - 5 t\u0159\u00edd a 30 iterac\u00ed <p>Z v\u00fdsledk\u016f je patrn\u00e9, \u017ee p\u0159i p\u011bti t\u0159\u00edd\u00e1ch a jedn\u00e9 iteraci nedoch\u00e1z\u00ed k dobr\u00e9 separabilit\u011b t\u0159\u00edd. V tomto p\u0159\u00edpad\u011b jedna t\u0159\u00edda pokr\u00fdv\u00e1 jak vodn\u00ed plochu, tak i holou p\u016fdu a les. P\u0159i t\u0159iceti iterac\u00edch je pak u\u017e vid\u011bt, \u017ee se jednotliv\u00e9 t\u0159\u00eddy od sebe odd\u011blily ji\u017e mnohem l\u00e9pe, a n\u00e1zorn\u011b to tak ilustruje princip fungov\u00e1n\u00ed algoritmu K-Means. Nicm\u00e9n\u011b v\u00fdsledek nen\u00ed ani tak optim\u00e1ln\u00ed. Do\u0161lo sice k separov\u00e1n\u00ed jednotliv\u00fdch t\u0159\u00edd, ale ne t\u011bch, u kter\u00fdch bychom to cht\u011bli. Vodn\u00ed plocha, hol\u00e1 p\u016fda a z \u010d\u00e1sti i z\u00e1stavba v tomto p\u0159\u00edpad\u011b st\u00e1le spadaj\u00ed pod jednu spektr\u00e1ln\u00ed t\u0159\u00eddu a je tedy pot\u0159eba zv\u00fd\u0161it po\u010det klastr\u016f. M\u016f\u017eeme takto vyzkou\u0161et nap\u0159\u00edklad 10, 15 \u010di 20 t\u0159\u00edd, p\u0159\u00edpadn\u011b i navy\u0161ovat po\u010det iterac\u00ed.</p> <p></p> Vlevo - RGB sc\u00e9na, uprost\u0159ed - 10 t\u0159\u00edd a 30 iterac\u00ed, vpravo - 10 t\u0159\u00edd a 50 iterac\u00ed <p>Zv\u00fd\u0161en\u00edm po\u010dtu t\u0159\u00edd na 10 ji\u017e v\u00fdsledky vypadaj\u00ed nad\u011bjn\u011bji. Tentokr\u00e1t se ji\u017e hol\u00e1 p\u016fda z v\u011bt\u0161\u00ed \u010d\u00e1sti odseparovala od vody, a se zv\u00fd\u0161en\u00edm po\u010dtu iterac\u00ed na 50 do\u0161lo i k pom\u011brn\u011b dobr\u00e9mu separov\u00e1n\u00ed vody od z\u00e1stavby (by\u0165 ne kompletn\u011b).</p> <p></p> Vlevo - RGB sc\u00e9na, uprost\u0159ed - 15 t\u0159\u00edd a 30 iterac\u00ed, vpravo - 15 t\u0159\u00edd a 50 iterac\u00ed <p>U patn\u00e1cti t\u0159\u00edd vypadaj\u00ed v\u00fdsledky zas o n\u011bco l\u00e9pe, by\u0165 alespo\u0148 na t\u00e9to \u010d\u00e1sti sc\u00e9ny doch\u00e1z\u00ed st\u00e1le k m\u00edch\u00e1n\u00ed z\u00e1stavby a hol\u00e9 p\u016fdy jak p\u0159i 30 iterac\u00ed, tak p\u0159i 50 iterac\u00ed. Z\u00e1rove\u0148 ale s p\u0159ib\u00fdvaj\u00edc\u00edm po\u010dtem t\u0159\u00edd za\u010d\u00edn\u00e1 b\u00fdt klasifikovan\u00fd sn\u00edmek \u010d\u00edm d\u00e1l m\u00e9n\u011b p\u0159ehledn\u00fd a je pot\u0159eba p\u0159i posuzov\u00e1n\u00ed v\u00fdsledku b\u00fdt v\u00edce pe\u010dliv\u011bj\u0161\u00ed.</p>"},{"location":"cviceni/cviceni5/#ukol-nerizena-klasifikace","title":"\u00dakol - Ne\u0159\u00edzen\u00e1 klasifikace","text":"<ul> <li>Prov\u00e9st ne\u0159\u00edzenou klasifikaci na sv\u00e9m \u00fazem\u00ed</li> <li>Seskupit spektr\u00e1ln\u00ed t\u0159\u00eddy do informa\u010dn\u00edch t\u0159\u00edd (m\u00edt pokud mo\u017eno spr\u00e1vn\u011b klasifikovanou vodu, zem\u011bd\u011blsk\u00e9 oblasti, les, holou p\u016fdu a z\u00e1stavbu)</li> <li>Zhodnotit v\u00fdsledek (jakou jste pou\u017eili klasifikaci, jak\u00e9 jste nastavili parametry, kolik je ve v\u00fdsledku t\u0159\u00edd, s \u010d\u00edm a pro\u010d byly probl\u00e9my atd.)</li> </ul>"},{"location":"cviceni/cviceni5/#postup","title":"Postup","text":"<p>Ne\u0159\u00edzenou klasifikaci ve SNAP jsme si ukazovali ji\u017e v\u00fd\u0161e. SNAP bohu\u017eel neumo\u017e\u0148uje n\u011bjak\u00e9 jednoduch\u00e9 seskupov\u00e1n\u00ed t\u0159\u00edd v rastru, nicm\u00e9n\u011b pro n\u00e1\u0161 \u00fa\u010del posta\u010d\u00ed, kdy\u017e si t\u0159\u00eddy pojmenujeme, a t\u011bm t\u0159\u00edd\u00e1m, kter\u00e9 p\u0159edstavuj\u00ed stejn\u00fd povrch, p\u0159id\u011bl\u00edme stejnou barvu. Uprav\u00edme tedy tabulku v Colour Manipulation, kde se mimochodem dozv\u00edme i \u010detnost jednotliv\u00fdch spektr\u00e1ln\u00edch t\u0159\u00edd.</p> <p></p> <p>P\u0159i vy\u0161\u0161\u00edm po\u010dtu t\u0159\u00edd m\u016f\u017ee ale nastat situace, \u017ee mezi sebou za\u010dnou jednotliv\u00e9 barvy spl\u00fdvat, co\u017e zhor\u0161uje orientaci, co jak\u00e1 t\u0159\u00edda vlastn\u011b znamen\u00e1. Samoz\u0159ejm\u011b lze vyu\u017e\u00edt n\u00e1stroj Pixel Info, kter\u00fd n\u00e1m \u0159ekne, o jakou hodnotu se na konkr\u00e9tn\u00edm m\u00edst\u011b jedn\u00e1. Mnohem p\u0159ehledn\u011bj\u0161\u00ed je ale vyu\u017e\u00edt\u00ed maskov\u00e1n\u00ed s t\u00edm, \u017ee si jednotliv\u00e9 spektr\u00e1ln\u00ed t\u0159\u00eddy zobraz\u00edme p\u0159\u00edmo na RGB sc\u00e9n\u011b. K tomu ale pot\u0159ebujeme propsat klasifikovanou vrstvu do na\u0161eho produktu s p\u00e1smy Sentinel-2. To ud\u011bl\u00e1me pomoc\u00ed funkce Band Maths..., kde jako Target product zvol\u00edme produkt s p\u00e1smy Sentinel-2 a klikneme na Edit Expression... Zde pot\u00e9 p\u0159epneme produkt na produkt s klasifikovanou vrstvou, kterou n\u00e1sledn\u011b dvojklikem vlo\u017e\u00edme do Expression. Nakonec d\u00e1me OK a znovu OK, \u010d\u00edm\u017e dostaneme klasifikovanou vrstvu do na\u0161eho produktu.</p> <p> </p> <p>Kdy\u017e si tuto vrstvu pot\u00e9 zobraz\u00edme v mapov\u00e9m okn\u011b, zobrazuje se pouze v odst\u00ednech \u0161edi. Z klasifikovan\u00e9ho produktu si ale m\u016f\u017eeme ulo\u017eit barevnou paletu a nahr\u00e1t j\u00ed do klasifikovan\u00e9 vrstvy, kterou jsme si vytvo\u0159ili v p\u016fvodn\u00edm produktu. Nicm\u00e9n\u011b i tak bychom doporu\u010dovali vyu\u017e\u00edt tuto vrstvu pouze pro maskov\u00e1n\u00ed a barevn\u00e9 \u00fapravy prov\u00e1d\u011bt v klasifikovan\u00e9m produktu, u kter\u00e9ho se tabulka s hodnotami a barvami jednotliv\u00fdch spektr\u00e1ln\u00edch t\u0159\u00edd zobrazuje l\u00e9pe a p\u0159ehledn\u011bji. Masku pro konkr\u00e9tn\u00ed spektr\u00e1ln\u00ed t\u0159\u00eddu vytvo\u0159\u00edme v Mask Manager pomoc\u00ed funkce Creates a new mask based on a logical band maths expression.</p> <p> </p> <p>Pot\u00e9 se m\u016f\u017eeme pod\u00edvat, s jak\u00fdm krajinn\u00fdm prvkem se vypo\u010dten\u00e1 maska p\u0159ekr\u00fdv\u00e1. V tomto p\u0159\u00edpad\u011b lze vid\u011bt, \u017ee spektr\u00e1ln\u00ed t\u0159\u00edda s hodnotou 0 odpov\u00edd\u00e1 hol\u00e9 p\u016fd\u011b.</p> <p></p> <p>Tuto informaci n\u00e1sledn\u011b zaneseme do tabulky v Colour Manipulation u klasifikovan\u00e9ho produktu. Do tabulky nap\u00ed\u0161eme n\u00e1zev t\u0159\u00eddy a p\u0159i\u0159ad\u00edme n\u011bjakou barvu.</p> <p></p> <p>Stejn\u00fd postup provedeme pro v\u0161echny spekr\u00e1ln\u00ed t\u0159\u00eddy. Nen\u00ed ale pot\u0159eba vytv\u00e1\u0159et poka\u017ed\u00e9 novou masku. Sta\u010d\u00ed upravit tu st\u00e1vaj\u00edc\u00ed pomoc\u00ed funkce Edit the selected mask.</p> <p></p> <p>Kone\u010dn\u00fd v\u00fdsledek m\u016f\u017ee vypadat n\u011bjak takto:</p> <p> </p>"},{"location":"cviceni/cviceni6/","title":"\u0158\u00edzen\u00e1 klasifikace, validace v\u00fdsledku klasifikace","text":""},{"location":"cviceni/cviceni6/#rizena-klasifikace-validace-vysledku-klasifikace","title":"\u0158\u00edzen\u00e1 klasifikace, validace v\u00fdsledku klasifikace","text":""},{"location":"cviceni/cviceni6/#cil-cviceni","title":"C\u00edl cvi\u010den\u00ed","text":"<ul> <li>Nau\u010dit se prov\u00e1d\u011bt \u0159\u00edzenou klasifikaci na dru\u017eicov\u00fdch datech</li> <li>Porozumn\u011bt principu validov\u00e1n\u00ed land cover produkt\u016f</li> </ul>"},{"location":"cviceni/cviceni6/#zakladni-pojmy","title":"Z\u00e1kladn\u00ed pojmy","text":"<ul> <li> <p>\u0158\u00edzen\u00e1 klasifikace - Jedn\u00e1 se o proces, p\u0159i kter\u00e9m se klasifik\u00e1tor nejprve u\u010d\u00ed vlastnosti p\u0159edem zadan\u00fdch t\u0159\u00edd na poskytnut\u00fdch tr\u00e9novac\u00edch vzorc\u00edch a n\u00e1sledn\u011b tyto \"znalosti\" aplikuje na cel\u00fd dataset. V DPZ lze cel\u00fd proces rozd\u011blit do n\u00e1sleduj\u00edc\u00edch krok\u016f:</p> <ol> <li>Ur\u010den\u00ed jednotliv\u00fdch t\u0159\u00edd a definov\u00e1n\u00ed tr\u00e9novac\u00edch vzork\u016f (v DPZ \u010dasto mluv\u00edme o tr\u00e9novac\u00edch ploch\u00e1ch)</li> <li>V\u00fdpo\u010det statistick\u00fdch charakteristik (tzv. spektr\u00e1ln\u00edch p\u0159\u00edznak\u016f) pro tr\u00e9novac\u00ed plochy popisuj\u00edc\u00ed jednotliv\u00e9 t\u0159\u00eddy, editace tr\u00e9novac\u00edch ploch a v\u00fdb\u011br vhodn\u00fdch p\u00e1sem pro vlastn\u00ed klasifikaci</li> <li>Volba vhodn\u00e9ho rozhodovac\u00edho pravidla (tzv. klasifik\u00e1toru) pro za\u0159azen\u00ed v\u0161ech prvk\u016f obrazu (pixel\u016f) do jednotliv\u00fdch t\u0159\u00edd</li> <li>Zat\u0159\u00edd\u011bn\u00ed v\u0161ech obrazov\u00fdch prvk\u016f do stanoven\u00fdch t\u0159\u00edd</li> <li>\u00daprava, hodnocen\u00ed a prezentace v\u00fdsledk\u016f klasifikace</li> </ol> </li> </ul> <p></p> Sch\u00e9ma \u0159\u00edzen\u00e9 klasifikace <ul> <li>Tr\u00e9novac\u00ed plochy - Jedn\u00e1 se o reprezentativn\u00ed pixely nebo prvky ze souboru obrazov\u00fdch dat pro ka\u017edou definovanou t\u0159\u00eddu. Pro \u00fasp\u011b\u0161nost klasifikace je volba tr\u00e9novac\u00edch mno\u017ein st\u011b\u017eejn\u00ed. Je tedy pot\u0159eba m\u00edt definov\u00e1m dostate\u010dn\u00fd po\u010det t\u011bchto tr\u00e9novac\u00edch ploch a v ide\u00e1ln\u00edm p\u0159\u00edpad\u011b je m\u00edt i rovnom\u011brn\u011b rozm\u00edst\u011bn\u00e9 na obrazov\u00fdch datech (pokud to jednotliv\u00e9 t\u0159\u00eddy dovoluj\u00ed). D\u016fle\u017eit\u00e9 tak\u00e9 je, aby byly tr\u00e9novac\u00ed plochy jednotliv\u00fdch t\u0159\u00edd spektr\u00e1ln\u011b co nejv\u00edce homogenn\u00ed.</li> <li>Klasifik\u00e1tor - Algoritmus nebo metoda pou\u017eit\u00e1 k proveden\u00ed klasifikace. V sou\u010dasn\u00e9 dob\u011b jsou nejpopul\u00e1rn\u011bj\u0161\u00ed metody pat\u0159\u00edc\u00ed do strojov\u00e9ho \u010di hlubok\u00e9ho u\u010den\u00ed, p\u0159\u00edpadn\u011b metody vyu\u017e\u00edvaj\u00edc\u00ed um\u011bl\u00fdch neuronov\u00fdch s\u00edt\u00ed.</li> <li>Validace - Kontrola p\u0159esnoti v\u00fdsledku klasifikace s vyu\u017eit\u00edm tzv. testovac\u00edho datasetu. K ur\u010den\u00ed p\u0159esnosti se u\u017e\u00edv\u00e1 \u0159ada metrik. Pat\u0159\u00ed mezi n\u011b nap\u0159\u00edklad Celkov\u00e1 p\u0159esnost, U\u017eivatelsk\u00e1 p\u0159esnost \u010di Zpracovatelsk\u00e1 p\u0159esnost.</li> <li>Chybov\u00e1 matice (Kontingen\u010dn\u00ed tabulka) - \u010ctvercov\u00e1 matice, kde po\u010det sloupc\u016f i \u0159\u00e1dk\u016f odpov\u00edd\u00e1 po\u010dtu definovan\u00fdch t\u0159\u00edd. Slou\u017e\u00ed k p\u0159ehledn\u00e9mu zobrazen\u00ed z\u00e1m\u011bny mezi jednotliv\u00fdmi t\u0159\u00eddami (tj. kter\u00e9 t\u0159\u00eddy se \u0161patn\u011b klasifikovaly do jin\u00fdch t\u0159\u00edd). Spr\u00e1vn\u011b klasifikovan\u00e1 data se v t\u00e9to matici nach\u00e1z\u00ed na hlavn\u00ed diagon\u00e1le. V ide\u00e1ln\u00edm p\u0159\u00edpad\u011b by m\u011bla b\u00fdt hlavn\u00ed diagon\u00e1la tvo\u0159ena nejvy\u0161\u0161\u00edmi hodnotami v matici a hodnoty mimo diagon\u00e1lu by se m\u011bly bl\u00ed\u017eit nule.</li> <li>P\u0159etr\u00e9nov\u00e1n\u00ed (Overfitting) - P\u0159etr\u00e9nov\u00e1n\u00ed klasifik\u00e1toru je jev, kdy se klasifik\u00e1tor a\u017e p\u0159\u00edli\u0161 p\u0159izp\u016fsob\u00ed tr\u00e9novac\u00edm dat\u016fm. D\u016fsledkem pak m\u016f\u017ee b\u00fdt \u0161patn\u00e1 generalizace p\u0159i pou\u017eit\u00ed na jin\u00fdch datech, ne\u017e na kter\u00fdch byl klasifik\u00e1tor natr\u00e9nov\u00e1n.</li> <li>Land use / land cover - Jedn\u00e1 se o v\u00fdsledek klasifikace dru\u017eicov\u00fdch obrazov\u00fdch dat. Konkr\u00e9tn\u011b se jedn\u00e1 o tematick\u00e9 mapy popisuj\u00edc\u00ed zemsk\u00fd povrch. Land use povrch popisuje z hlediska jeho vyu\u017eit\u00ed lidmi. Land cover pak zn\u00e1zor\u0148uje jednotliv\u00e9 druhy povrch\u016f (voda, hol\u00e1 p\u016fda, les atd.).</li> </ul>"},{"location":"cviceni/cviceni6/#rizena-klasifikace-ve-snap","title":"\u0158\u00edzen\u00e1 klasifikace ve SNAP","text":""},{"location":"cviceni/cviceni6/#transformace-obrazovych-dat-do-wgs84","title":"Transformace obrazov\u00fdch dat do WGS84","text":"<p>Tento krok budeme pova\u017eovat za tzv. nult\u00fd krok, proto\u017ee nen\u00ed b\u011b\u017enou sou\u010d\u00e1st\u00ed \u0159\u00edzen\u00e9 klasifikace. Ve SNAP bohu\u017eel z n\u011bjak\u00e9ho d\u016fvodu \u0159\u00edzen\u00e1 klasifikace funguje pouze na Lat/Long datech v syst\u00e9mu WGS84. Je tedy pot\u0159eba si na\u0161e data p\u0159etransformovat. K tomu slou\u017e\u00ed funkce nach\u00e1zej\u00edc\u00ed se v Raster \u2192 Geometric \u2192 Reprojection.</p> <p></p> <p>V z\u00e1lo\u017ece I/O Parameters nastav\u00edme produkt, kter\u00fd chceme transformovat, n\u00e1zev transformovan\u00e9ho produktu a zda chceme v\u00fdsledn\u00fd produkt ulo\u017eit. V z\u00e1lo\u017ece Reprojection Parameters pot\u00e9 nastav\u00edme, do jak\u00e9ho syst\u00e9mu bude produkt transformov\u00e1n. V tomto p\u0159\u00edpad\u011b m\u016f\u017eeme nechat v\u0161e tak, jak je.</p> <p> </p> <p>V\u00fdsledkem je pak v z\u00e1vislosti na poloze v\u00edce \u010di m\u00e9n\u011b \"zdeformovan\u00e1\" sc\u00e9na.</p> <p></p>"},{"location":"cviceni/cviceni6/#tvorba-trenovacich-ploch","title":"Tvorba tr\u00e9novac\u00edch ploch","text":"<p>Prvn\u00edm krokem \u0159\u00edzen\u00e9 klasifikace je definov\u00e1n\u00ed jednotliv\u00fdch t\u0159\u00edd a k nim odpov\u00eddaj\u00edc\u00edch tr\u00e9novac\u00edch ploch. Pokud tr\u00e9novac\u00ed plochy nem\u00e1me odn\u011bkud p\u0159ebran\u00e9, mus\u00edme si je vytvo\u0159it sami. Tr\u00e9novac\u00ed plochy budeme vkl\u00e1dat do tzv. vektorov\u00fdch kontejner\u016f. Vektorov\u00fd kontejner vytvo\u0159\u00edme pomoc\u00ed Vector \u2192 New Vector Data Container, p\u0159\u00edpadn\u011b pomoc\u00ed ikony t\u00e9to funkce. Vektorov\u00e9 kontejnery vytvo\u0159\u00edme pro v\u0161echny klasifika\u010dn\u00ed t\u0159\u00eddy (bu\u010f v\u0161echny najednou nebo postupn\u011b po vytvo\u0159en\u00ed tr\u00e9novac\u00edch ploch pro danou t\u0159\u00eddu).</p> <p> </p> <p>Jednotliv\u00e9 vektorov\u00e9 kontejnery se n\u00e1m pak zobraz\u00ed v Layer Manager (spolu s dal\u0161\u00edmi ji\u017e existuj\u00edc\u00edmi kontejnery) a z\u00e1rove\u0148 i v Product Explorer ve slo\u017ece Vector Data.</p> <p> </p> <p>M\u00e1me-li vytvo\u0159en\u00fd vektorov\u00fd kontejner, m\u016f\u017eeme za\u010d\u00edt s tvorbou tr\u00e9novac\u00edch ploch. Ty budeme tvo\u0159it pomoc\u00ed funkce Polygon drawing tool. Pot\u00e9, kdy\u017e chceme za\u010d\u00edt kreslit polygon, se n\u00e1s SNAP zept\u00e1, do kter\u00e9ho kontejneru chceme polygon vlo\u017eit. Z nab\u00eddky tedy vybereme p\u0159\u00edslu\u0161n\u00fd n\u00e1zev kontejneru a nakresl\u00edme tr\u00e9novac\u00ed plochu. Kreslen\u00ed polygonu ukon\u010d\u00edme dvojklikem.</p> <p> </p> <p>Na to, do jak\u00e9ho vektorov\u00e9ho kontejneru chceme polygon vkl\u00e1dat, se n\u00e1s SNAP zept\u00e1 dvakr\u00e1t. N\u00e1sledn\u011b u\u017e se automaticky vol\u00ed d\u0159\u00edve zvolen\u00fd kontejner. Pokud bychom ale cht\u011bli pot\u00e9 vkl\u00e1dat polygon do jin\u00e9ho kontejneru, je pot\u0159eba p\u0159\u00edslu\u0161n\u00fd kontejner ozna\u010dit v Layer Manager.</p> <p> </p> <p>T\u00edmto zp\u016fsobem vytvo\u0159\u00edme tr\u00e9novac\u00ed plochy pro v\u0161echny t\u0159\u00eddy. Tr\u00e9novac\u00edch ploch by m\u011blo b\u00fdt dostate\u010dn\u00e9 mno\u017estv\u00ed a je ide\u00e1ln\u00ed, aby se nach\u00e1zely rovnom\u011brn\u011b po cel\u00e9 plo\u0161e obrazov\u00fdch dat.</p> <p></p> Pozn. <p>N\u011bkdy se m\u016f\u017ee st\u00e1t, \u017ee funkce Polygon drawing tool nebude z n\u011bjak\u00e9ho d\u016fvodu reagovat. V takov\u00e9m p\u0159\u00edpad\u011b je pot\u0159eba bu\u010f zkusit ulo\u017eit pr\u00e1ci a vypnout a zapnout SNAP, p\u0159\u00edpadn\u011b tvo\u0159it tr\u00e9novac\u00ed plochy pomoc\u00ed jedn\u00e9 z funkc\u00ed Rectangle drawing tool \u010di Ellipse drawing tool.</p> <p>Krom\u011b nefunk\u010dnosti Polygon drawing tool m\u016f\u017ee nastat i pon\u011bkud hor\u0161\u00ed probl\u00e9m. Po naklik\u00e1n\u00ed v\u0161ech tr\u00e9novac\u00edch ploch a ulo\u017een\u00ed produktu se m\u016f\u017eeme rozhodnout, \u017ee v pr\u00e1ci budeme pokra\u010dovat pozd\u011bji a SNAP zav\u0159eme. P\u0159i znovuotev\u0159en\u00ed produktu a snaze vytvo\u0159it RGB kompozit \u010di si zobrazit jak\u00e9koliv p\u00e1smo se zobraz\u00ed n\u00e1sleduj\u00edc\u00ed chybov\u00e9 hl\u00e1\u0161ky:</p> <p> </p> <p>Nejsp\u00ed\u0161 se jedn\u00e1 o n\u011bjak\u00fd bug a cel\u00fd transformovan\u00fd produkt je nefunk\u010dn\u00ed. Neznamen\u00e1 to ale, \u017ee jsme vytvo\u0159en\u00e9 tr\u00e9novac\u00ed plochy nadobro ztratily. Ka\u017ed\u00fd DIM soubor m\u00e1 k sob\u011b p\u0159idru\u017eenou slo\u017eku s koncovkou .data a pr\u00e1v\u011b v t\u00e9to slo\u017ece lze na\u0161e tr\u00e9novac\u00ed plochy dohledat. Ve slo\u017ece se nach\u00e1zej\u00ed soubory jednotliv\u00fdch p\u00e1sem a tak\u00e9 podslo\u017eka vector_data, ve kter\u00e9 se nach\u00e1zej\u00ed CSV soubory jednotliv\u00fdch vektorov\u00fdch dat, mezi nimi\u017e jsou i vytvo\u0159en\u00e9 tr\u00e9novac\u00ed plochy. Soubory tr\u00e9novac\u00edch ploch pot\u00e9 m\u016f\u017eeme jednodu\u0161e p\u0159ekop\u00edrovat do p\u0159\u00edslu\u0161n\u00e9 slo\u017eky nov\u011b vytvo\u0159en\u00e9ho transformovan\u00e9ho produktu.</p> <p></p>"},{"location":"cviceni/cviceni6/#kontrola-homogenity-trenovacich-ploch","title":"Kontrola homogenity tr\u00e9novac\u00edch ploch","text":"<p>Pro co nejlep\u0161\u00ed natr\u00e9nov\u00e1n\u00ed klasifik\u00e1toru je vhodn\u00e9, aby tr\u00e9novac\u00ed plochy byly pokud mo\u017eno co nejhomogenn\u011bj\u0161\u00ed a mezi sebou spektr\u00e1ln\u011b odli\u0161n\u00e9. Homogenitu t\u0159\u00edd ve SNAP m\u016f\u017eeme zkontrolovat dv\u011bma zp\u016fsoby.</p>"},{"location":"cviceni/cviceni6/#histogram","title":"Histogram","text":"<p>Funkci pro vykreslov\u00e1n\u00ed histogram\u016f najdeme v menu Analysis \u2192 Histogram, p\u0159\u00edpadn\u011b v Analysis \u2192 Statistics, kde se krom\u011b histogramu zobrazuj\u00ed i dal\u0161\u00ed informace. D\u00e1le je pot\u0159eba m\u00edt za\u0161krtnut\u00e9 Use ROI mask: a zvolit p\u0159\u00edslu\u0161nou vektorovou vrstvu obsahuj\u00edc\u00ed konkr\u00e9tn\u00ed t\u0159\u00eddu. Z\u00e1rove\u0148 je nutn\u00e9 znovu kliknout do mapov\u00e9ho okna, aby n\u00e1stroj v\u011bd\u011bl, nad jak\u00fdmi daty histogram po\u010d\u00edtat.</p> <p> </p> <p>Z histogramu lze pot\u00e9 vy\u010d\u00edst, zda je t\u0159\u00edda homogenn\u00ed a nebo je tvo\u0159ena v\u00edce t\u0159\u00eddami. V ide\u00e1ln\u00edm p\u0159\u00edpad\u011b by m\u011bl b\u00fdt histogram tvo\u0159en jedn\u00edm vrcholem. Pokud je vrchol\u016f v\u00edce, indikuje to, \u017ee je v\u00edce i t\u0159\u00edd (tj. po\u010det vrchol\u016f = po\u010det t\u0159\u00edd). Na p\u0159\u00edkladu n\u00ed\u017ee jsou zobrazeny histogramy pro vodu (vlevo), pole (uprost\u0159ed) a holou p\u016fdu (vpravo). Z histogram\u016f vypl\u00fdv\u00e1, \u017ee tr\u00e9novac\u00ed plochy pro vodu jsou homogenn\u00ed, zat\u00edmco tr\u00e9novac\u00ed plochy pro pole a holou p\u016fdu jsou ve skute\u010dnosti tvo\u0159emi dv\u011bmi, resp. a\u017e t\u0159emi spektr\u00e1ln\u00edmi t\u0159\u00eddami.</p> <p> </p> Histogramy vybran\u00fdch t\u0159\u00edd (vlevo - voda, uprost\u0159ed - pole, vpravo - hol\u00e1 p\u016fda) Pozn. <p>Histogram se v\u017edy zobrazuje pro jedno konkr\u00e9tn\u00ed p\u00e1smo (v tomto p\u0159\u00edpad\u011b B4). Pokud by bylo pou\u017eito p\u00e1smo jin\u00e9, histogramy by se zamoz\u0159ejm\u011b trochu li\u0161ily.</p>"},{"location":"cviceni/cviceni6/#rozptylogram-scatter-plot","title":"Rozptylogram (scatter plot)","text":"<p>Druhou mo\u017enost\u00ed sledovat homogenitu t\u0159\u00edd je tzv. rozptylogram, kter\u00fd najdeme v menu Analysis \u2192 Scatter Plot. Znovu je pot\u0159eba za\u0161krtnou Use ROI mask: a zvolit p\u0159\u00edslu\u0161nou vektorovou vrstvu obsahuj\u00edc\u00ed konkr\u00e9tn\u00ed t\u0159\u00eddu. D\u00e1le je pot\u0159eba vybrat p\u00e1sma, jejich\u017e hodnoty budou vyneseny na osu X a osu Y (m\u016f\u017eeme zvolit nap\u0159. p\u00e1sma B4 a B8).</p> <p> </p> <p>Rozptylogram v tomto p\u0159\u00edpad\u011b zn\u00e1zor\u0148uje ji\u017e zm\u00edn\u011bn\u00fd p\u0159\u00edznakov\u00fd prostor (v na\u0161em p\u0159\u00edpad\u011b dvourozm\u011brn\u00fd). T\u0159\u00eddy by pak m\u011bly v rozptylogramu tvo\u0159it tzv. shluky. V ide\u00e1ln\u00edm p\u0159\u00edpad\u011b by tak jedna t\u0159\u00edda m\u011bla tvo\u0159it jeden shluk. Pokud je shluk\u016f v\u00edc, indikuje to znovu i v\u00edce t\u0159\u00edd. P\u0159\u00edklady n\u00ed\u017ee ukazuj\u00ed rozptylogramy pro vodu (vlevo), pole (uprost\u0159ed) a holou p\u016fdu (vpravo). Je tedy vid\u011bt, \u017ee by bylo vhodn\u00e9 n\u011bkter\u00e9 t\u0159\u00eddy rozd\u011blit do v\u00edce podt\u0159\u00edd.</p> <p> </p> Rozptylogramy vybran\u00fdch t\u0159\u00edd (vlevo - voda, uprost\u0159ed - pole, vpravo - hol\u00e1 p\u016fda)"},{"location":"cviceni/cviceni6/#spusteni-rizene-klasifikace","title":"Spu\u0161t\u011bn\u00ed \u0159\u00edzen\u00e9 klasifikace","text":"<p>\u0158\u00edzenou klasifikaci ve SNAP najdeme v menu Raster \u2192 Classification \u2192 Supervised Classification, kde si vybereme jeden z nab\u00edzen\u00fdch algoritm\u016f. V na\u0161em p\u0159\u00edpad\u011b Random Forest Classifier.</p> <p></p> <p>Random Forest je v sou\u010dasn\u00e9 dob\u011b jedn\u00edm z nejpopul\u00e1rn\u011bj\u0161\u00edch klasifik\u00e1tor\u016f na b\u00e1zi strojov\u00e9ho u\u010den\u00ed. Vych\u00e1z\u00ed z tzv. Decision Trees (rozhodovac\u00edch strom\u016f), kde ka\u017ed\u00fd strom vezme jen ur\u010dit\u00fd a n\u00e1hodn\u00fd po\u010det p\u0159\u00edznak\u016f a z nich ur\u010d\u00ed, o jakou t\u0159\u00eddu se podle n\u011bj jedn\u00e1. V\u00fdsledn\u00e1 t\u0159\u00edda je pak ur\u010dena na z\u00e1klad\u011b p\u0159ava\u017euj\u00edc\u00edho v\u00fdsledku ze v\u0161ech strom\u016f.</p> <p></p> <p>N\u00e1stroj Random Forest Classifier se ve SNAP zkl\u00e1d\u00e1 ze t\u0159\u00ed z\u00e1lo\u017eek. V ProductSet-Reader je pot\u0159eba zvolit produkt, kter\u00fd se bude klasifikovat. Z\u00e1lo\u017eka Random-Forest-Classifier slou\u017e\u00ed k nastaven\u00ed samotn\u00e9ho klasifik\u00e1toru. Vol\u00edme zde, jestli chceme tr\u00e9novat klasifik\u00e1tor na rastru nebo na vektorech (v na\u0161em p\u0159\u00edpad\u011b chceme na vektorech). D\u00e1le jestli chceme klasifik\u00e1tor evaluovat, ale p\u0159edev\u0161\u00edm ur\u010dujeme hodnoty Number of training samples a Number of trees. V neposledn\u00ed \u0159ad\u011b je pot\u0159eba ozna\u010dit i v\u0161echny t\u0159\u00eddy, kter\u00e9 chceme klasifikovat a ozna\u010dit i v\u0161echna p\u00e1sma, kter\u00e1 chceme v klasifikaci pou\u017e\u00edt (krom\u011b p\u016fvodn\u00edch p\u00e1sem Sentinel-2 m\u016f\u017eeme pou\u017e\u00edt i vypo\u010dten\u00e9 spektr\u00e1ln\u00ed indexy atd.). V posledn\u00ed z\u00e1lo\u017ece Write zvol\u00edme, kam chceme klasifikovan\u00fd produkt ulo\u017eit.</p> <p> </p> <p>Pro prvn\u00ed pokus klasifikace m\u016f\u017eeme nechat parametry klasifik\u00e1toru tak, jak jsou. By\u0165 tedy po\u010det strom\u016f nastaven\u00fd na 10 se zd\u00e1 b\u00fdt relativn\u011b n\u00edzk\u00fd (v praxi se vyu\u017e\u00edv\u00e1 a\u017e stovky strom\u016f). D\u016fle\u017e\u00edt\u00e9 je tak\u00e9 pochopit, jak zde funguje hodnota po\u010dtu tr\u00e9novac\u00edch vzork\u016f. Krom\u011b tr\u00e9nov\u00e1n\u00ed doch\u00e1z\u00ed toti\u017e i k testov\u00e1n\u00ed klasifik\u00e1toru, tud\u00ed\u017e pokud je defaultn\u011b nastavena hodnota tr\u00e9novac\u00edch vzork\u016f na 5000, znamen\u00e1 to, \u017ee dal\u0161\u00edch 5000 vzork\u016f bude pou\u017eito na testov\u00e1n\u00ed. Tyto po\u010dty se pot\u00e9 rovnom\u011brn\u011b rozd\u011bl\u00ed mezi jednotliv\u00e9 t\u0159\u00eddy. Pokud jsme si definovali 5 t\u0159\u00edd, na jednu t\u0159\u00eddu tak p\u0159ijde 1000 tr\u00e9novac\u00edch vzork\u016f, kter\u00e9 jsou n\u00e1hodn\u011b vybr\u00e1ny z tr\u00e9novac\u00edch ploch. Toto je tedy pot\u0159eba br\u00e1t do \u00favahy, a pokud chceme vyu\u017e\u00edt co nejv\u00edce pixel\u016f z tr\u00e9novac\u00edch ploch, kter\u00e9 jsme vytv\u00e1\u0159eli, je pot\u0159eba hodnotu Number of training samples n\u00e1le\u017eit\u011b upravit. Po\u010det pixel\u016f, kter\u00e9 pokr\u00fdvaj\u00ed jednotliv\u00e9 t\u0159\u00eddy, zjist\u00edme v Analysis \u2192 Statistics. Samoz\u0159ejm\u011b je pot\u0159eba i po\u010d\u00edtat s t\u00edm, \u017ee \u010d\u00edm v\u00edce tr\u00e9novac\u00edch vzork\u016f a \u010d\u00edm v\u00edce strom\u016f, t\u00edm d\u00e9le pak samotn\u00fd v\u00fdpo\u010det trv\u00e1. N\u00e1sleduj\u00edc\u00ed tabulka zn\u00e1zor\u0148uje \u010dasovou n\u00e1ro\u010dnost v\u00fdpo\u010dtu pro r\u016fzn\u00e1 nestaven\u00ed vstupn\u00edch parametr\u016f (v tomto p\u0159\u00edpad\u011b do klasifikace vstupovalo 12 p\u00e1sem Sentinel-2 a 4 vypo\u010dten\u00e9 spektr\u00e1ln\u00ed indexy):</p> Number of training samples Number of trees \u010cas v\u00fdpo\u010dtu 5000 10 46 s 10000 10 52 s 40000 10 4 min 40000 30 11,5 min 100000 10 17 min 100000 30 50 min 200000 10 51 min <p>Z tabulky vypl\u00fdv\u00e1, \u017ee vy\u0161\u0161\u00ed \u010dasovou n\u00e1ro\u010dnost zp\u016fsobuje parametr Number of trees.</p> <p>V\u00fdsledkem klasifikace je nov\u00fd produkt obsahuj\u00edc\u00ed klasifikovanou vrstvu, kterou najdeme pod n\u00e1zvem LabeledClasses.</p> <p> </p> <p>P\u0159i podrobn\u011bj\u0161\u00edm zkoum\u00e1n\u00ed v\u00fdsledku klasifikace si m\u016f\u017eeme v\u0161imnout tmav\u011b \u0161ed\u00fdch pixel\u016f nekoresponduj\u00edc\u00edch s \u017e\u00e1dnou barvou v legend\u011b.</p> <p> </p> <p>Jedn\u00e1 se o zamaskovan\u00e9 pixely, jejich\u017e \"Confidence\" (viz vrstva Confidence v klasifikovan\u00e9m produktu) je men\u0161\u00ed ne\u017e ur\u010dit\u00e1 mez. Tuto mez lze zm\u011bnit kliknut\u00edm prav\u00fdm tla\u010d\u00edtkem na vrstvu LabeledClasses v klasifikovan\u00e9m produktu a vybr\u00e1n\u00edm mo\u017enosti Properties. Zde n\u00e1sledn\u011b zm\u011bn\u00edme hodnotu Valid-Pixel Expression z Confidence &gt;= 0.5 nap\u0159. na Confidence &gt;= 0, \u010d\u00edm\u017e se pixely odmaskuj\u00ed.</p> <p> </p> <p>Z mnou dosa\u017een\u00fdch v\u00fdsledk\u016f je ale vid\u011bt, \u017ee pom\u011brn\u011b dost oblast\u00ed s holou p\u016fdou se klasifikovalo jako z\u00e1stavba a bylo by tedy pot\u0159eba na klasifikaci d\u00e1le pracovat.</p> <p></p>"},{"location":"cviceni/cviceni6/#validace-vysledku-klasifikace","title":"Validace v\u00fdsledku klasifikace","text":"<p>Ned\u00edlnou sou\u010d\u00e1st\u00ed klasifikace obrazov\u00fdch dat je i posouzen\u00ed jej\u00ed p\u0159esnosti. Ta se posuzuje pomoc\u00ed tzv. valida\u010dn\u00edch (testovac\u00edch) dat reprezentuj\u00edc\u00edch skute\u010dnost, kter\u00fdmi mohou b\u00fdt body zam\u011b\u0159en\u00e9 v ter\u00e9nu \u010di nad ortofotem, p\u0159\u00edpadn\u011b data typu ZABAGED atd. D\u016fle\u017eit\u00e9 tak\u00e9 je, aby se jednalo o data nez\u00e1visl\u00e1 na datech tr\u00e9novac\u00edch. V opa\u010dn\u00e9m p\u0159\u00edpad\u011b by takov\u00e1 validace nebyla sm\u011brodatn\u00e1. P\u0159esnost klasifikace se nej\u010dast\u011bji posuzuje pomoc\u00ed chybov\u00e9 matice (kontingen\u010dn\u00ed tabulky), a z n\u00ed plynouc\u00edch statistick\u00fdch ukazatel\u016f, jak\u00fdmi jsou nap\u0159. u\u017eivatelsk\u00e1 p\u0159esnost, zpracovatelsk\u00e1 p\u0159esnost \u010di celkov\u00e1 p\u0159esnost.</p>"},{"location":"cviceni/cviceni6/#chybova-matice","title":"Chybov\u00e1 matice","text":"<p>Jedn\u00e1 se o \u010dtvercovou matici, kde po\u010det sloupc\u016f i \u0159\u00e1dk\u016f odpov\u00edd\u00e1 po\u010dtu definovan\u00fdch t\u0159\u00edd. \u0158\u00e1dky chybov\u00e9 matice jsou zpravidla tvo\u0159eny klasifikovan\u00fdmi daty a sloupce daty, kter\u00e9 odpov\u00eddaj\u00ed skute\u010dnosti. Spr\u00e1vn\u011b klasifikovan\u00e1 data se v t\u00e9to matici nach\u00e1z\u00ed na hlavn\u00ed diagon\u00e1le. V ide\u00e1ln\u00edm p\u0159\u00edpad\u011b by m\u011bla b\u00fdt hlavn\u00ed diagon\u00e1la tvo\u0159ena nejvy\u0161\u0161\u00edmi hodnotami v matici a hodnoty mimo diagon\u00e1lu by se m\u011bly bl\u00ed\u017eit nule.</p> <p></p>"},{"location":"cviceni/cviceni6/#celkova-presnost","title":"Celkov\u00e1 p\u0159esnost","text":"<p>Celkov\u00e1 p\u0159esnost (overall accuracy) se vztahuje k cel\u00e9 klasifikaci a ud\u00e1v\u00e1 pom\u011br sp\u00e1vn\u011b klasifikovan\u00fdch pixel\u016f ku v\u0161em pixel\u016fm vstupuj\u00edc\u00edch do validov\u00e1n\u00ed. Je to tedy suma hodnot na hlavn\u00ed diagon\u00e1le chybov\u00e9 matice ku celkov\u00e9mu po\u010dtu testovac\u00edch vzork\u016f. Dle chybov\u00e9 matice v\u00fd\u0161e by se celkov\u00e1 p\u0159esnosti rovnala: (21 + 31 + 22)/95 = 0,78. Celkov\u00e1 p\u0159esnost klasifikace nicm\u00e9n\u011b nen\u00ed nejlep\u0161\u00edm ukazatelem spr\u00e1vnosti klasifikace, proto\u017ee n\u00e1m ne\u0159\u00edk\u00e1 nic o tom, jak se klasifikovaly jednotliv\u00e9 t\u0159\u00eddy.</p>"},{"location":"cviceni/cviceni6/#uzivatelska-presnost","title":"U\u017eivatelsk\u00e1 p\u0159esnost","text":"<p>U\u017eivatelsk\u00e1 p\u0159esnost (user's accuracy), ve strojov\u00e9m u\u010den\u00ed ozna\u010dov\u00e1na tak\u00e9 jako Precision, ud\u00e1v\u00e1, s jakou pravd\u011bpodobnost\u00ed pixel za\u0159azen\u00fd do ur\u010dit\u00e9 t\u0159\u00eddy tuto t\u0159\u00eddu opravdu p\u0159edstavuje. Po\u010d\u00edt\u00e1 se pro ka\u017edou t\u0159\u00eddu zvl\u00e1\u0161\u0165, a to jako pod\u00edl spr\u00e1vn\u011b klasifikovan\u00fdch pixel\u016f ku celkov\u00e9mu po\u010dtu pixel\u016f, kter\u00e9 do dan\u00e9 t\u0159\u00eddy byly za\u0159azeny. Hodnoty u\u017eivatelsk\u00e9 p\u0159esnosti pro jednotliv\u00e9 t\u0159\u00eddy uveden\u00e9 v matici chyb v\u00fd\u0161e by byly n\u00e1sleduj\u00edc\u00ed:</p> T\u0159\u00edda U\u017eivatelsk\u00e1 p\u0159esnost Water 21/27 = 0,78 Forest 31/37 = 0,84 Urban 22/31 = 0,71"},{"location":"cviceni/cviceni6/#zpracovatelska-presnost","title":"Zpracovatelsk\u00e1 p\u0159esnost","text":"<p>Zpracovatelsk\u00e1 p\u0159esnost (producer's accuracy), ve strojov\u00e9m u\u010den\u00ed ozna\u010dov\u00e1na tak\u00e9 jako Recall, je pom\u011br spr\u00e1vn\u011b klasifikovan\u00fdch pixel\u016f ku celkov\u00e9mu po\u010dtu pixel\u016f pou\u017eit\u00fdch pro testov\u00e1n\u00ed dan\u00e9 t\u0159\u00eddy. Stejn\u011b tedy jako u u\u017eivatelsk\u00e9 p\u0159esnoti se po\u010d\u00edt\u00e1 pro ka\u017edou t\u0159\u00eddu zvl\u00e1\u0161t, a pro data z matice chyb uveden\u00e9 v\u00fd\u0161e by nab\u00fdvala n\u00e1sleduj\u00edc\u00edch hodnot:</p> T\u0159\u00edda Zpracovatelsk\u00e1 p\u0159esnost Water 21/33 = 0,64 Forest 31/39 = 0,79 Urban 22/23 = 0,96 <p>U\u017eivatelskou (precision) a zpracovatelskou (recall) p\u0159esnost n\u00e1zorn\u011b zn\u00e1zor\u0148uje n\u00e1sleduj\u00edc\u00ed obr\u00e1zek:</p> <p></p>"},{"location":"cviceni/cviceni6/#f1-score","title":"F1 score","text":"<p>Metrika kombinuj\u00edc\u00ed precision a recall pomoc\u00ed harmonick\u00e9ho pr\u016fm\u011bru. Narozd\u00edl od klasick\u00e9ho pr\u016fm\u011bru m\u00e1 harmonick\u00fd pr\u016fm\u011br tendenci p\u0159ikl\u00e1n\u011bt se k ni\u017e\u0161\u00edmu z obou hodnot. Proto pro dosa\u017een\u00ed vysok\u00e9ho F1 score je pot\u0159eba m\u00edt vysokou hodnotu jak u precision, tak u recall, co\u017e zaji\u0161\u0165uje dobrou rovnov\u00e1hu obou hodnot. Vzore\u010dek je tedy n\u00e1sleduj\u00edc\u00ed: F1 = 2 \u00b7 Precision \u00b7 Recall / (Precision + Recall).</p>"},{"location":"cviceni/cviceni6/#validace-ve-snap","title":"Validace ve SNAP","text":"<p>SNAP narozd\u00edl od jin\u00fdch softwar\u016f bohu\u017eel neumo\u017e\u0148uje n\u011bjakou automatickou validaci prov\u00e1d\u011bt. Nicm\u00e9n\u011b pro pochopen\u00ed principu validace ho v r\u00e1mci cvi\u010den\u00ed vyu\u017e\u00edt m\u016f\u017eeme. Konkr\u00e9tn\u011b pou\u017eijeme n\u00e1stroje Pin placing tool a Pin Manager a n\u00e1sledn\u011b si chybovou matici ru\u010dn\u011b vytvo\u0159\u00edme v Excelu. Pro \u00fa\u010dely cvi\u010den\u00ed budeme pro ka\u017edou t\u0159\u00eddu vkl\u00e1dat 10 pin\u016f a pro zachov\u00e1n\u00ed nez\u00e1vislosti na tr\u00e9novac\u00edch datech je budeme vkl\u00e1dat mimo d\u0159\u00edve vytvo\u0159en\u00e9 tr\u00e9novac\u00ed plochy. \u0158ekn\u011bme tedy, \u017ee nejprve budeme cht\u00edt vytvo\u0159it piny pro t\u0159\u00eddu Hol\u00e1 p\u016fda. Pomoc\u00ed n\u00e1stroje Pin placing tool vytvo\u0159\u00edme 10 pin\u016f na m\u00edstech s holou p\u016fdou a ide\u00e1ln\u011b je um\u00edst\u00edme rovnom\u011brn\u011b nap\u0159\u00ed\u010d celou sc\u00e9nou (pracujeme nad transformovan\u00fdm produktem nad RGB kompozitem). </p> <p> </p> <p>Po naklik\u00e1n\u00ed 10 pin\u016f s holou p\u016fdou si otev\u0159eme Pin Manager a p\u0159ep\u00ed\u0161eme hodnoty Label z \"Pin 1\", \"Pin 2\" atd. na n\u00e1zev t\u0159\u00eddy, kterou jsme zrovna klikali, tj. Hol\u00e1 p\u016fda. Bohu\u017eel to asi nejde n\u011bjak hromadn\u011b, tak\u017ee nezb\u00fdv\u00e1 nic jin\u00e9ho ne\u017e pou\u017e\u00edt metodu Copy - Paste.</p> <p> </p> <p>Stejn\u00fd postup ud\u011bl\u00e1me pro v\u0161echny ostatn\u00ed t\u0159\u00eddy.</p> <p></p> Pozn. <p>Pokud by se op\u011bt stalo, \u017ee by transformovan\u00fd produkt p\u0159estal fungovat, tak pro obnoven\u00ed pin\u016f lze pou\u017e\u00edt stejn\u00fd postup jako u obnoven\u00ed tr\u00e9novac\u00edch ploch.</p> <p>Kdy\u017e m\u00e1me naklikan\u00e9 v\u0161echny piny pro v\u0161echny t\u0159\u00eddy, je pot\u0159eba p\u0159ekop\u00edrovat piny vytvo\u0159en\u00e9 nad RGB kompozitem do na\u0161eho klasifikovan\u00e9ho sn\u00edmku. K tomu pou\u017eijeme v Pin Manager funkci Transfer the selected pins to other products. Je pot\u0159eba m\u00edt ale vybr\u00e1ny (selectov\u00e1ny) v\u0161echny piny, jinak se p\u0159ekop\u00edruje jen \u010d\u00e1st.</p> <p> </p> <p>V mapov\u00e9m okn\u011b se pot\u00e9 m\u016f\u017eeme pod\u00edvat, jestli v klasifikovan\u00e9m produktu piny opravdu m\u00e1me.</p> <p></p> <p>D\u00e1le je pot\u0159eba do tabulky v Pin Manager p\u0159idat sloupec s hodnotou klasifikovan\u00e9 t\u0159\u00eddy. To ud\u011bl\u00e1me pomoc\u00ed funkce Filter pixel data to be displayed in table. Z nab\u00eddky vybereme vrstvu LabeledClasses a d\u00e1me OK.</p> <p> </p> <p>Posledn\u00edm krokem je export tabulky do textov\u00e9ho souboru pomoc\u00ed funkce Export selected data to flat text file. Znovu je pot\u0159eba m\u00edt selectovan\u00e9 v\u0161echny piny.</p> <p></p> <p>N\u00e1sledn\u011b si tato data nahrajeme do Excelu (p\u0159\u00edpadn\u011b jin\u00e9ho softwaru) a vytvo\u0159\u00edme matici chyb.  Zde si m\u016f\u017eete st\u00e1hnout p\u0159edp\u0159ipravenou \u0161ablonu, do kter\u00e9 m\u016f\u017eete data postupn\u011b vkl\u00e1dat.</p> <p></p> <p>Pro spr\u00e1vn\u00e9 vypln\u011bn\u00ed matice chyb je dobr\u00e9 v\u011bd\u011bt, jak\u00e1 hodnota odpov\u00edd\u00e1 kter\u00e9 t\u0159\u00edd\u011b. To zjist\u00edme v Colour Manipulation klasifikovan\u00e9ho produktu. Matici chyb pot\u00e9 vypl\u0148ujeme po sloupc\u00edch, kde do ka\u017ed\u00e9ho \u0159\u00e1dku zap\u00ed\u0161eme po\u010det testovac\u00edch vzork\u016f z dan\u00e9 t\u0159\u00eddy, kter\u00e9 se klasifikovaly jako t\u0159\u00edda na konkr\u00e9tn\u00edm \u0159\u00e1dku matice.</p> <p></p> <p>Znovu ale p\u0159ipom\u00edn\u00e1m, \u017ee takov\u00fdto postup validace slou\u017e\u00ed jen jako n\u00e1zorn\u00e1 uk\u00e1zka. Aby byla validace v\u00edce vypov\u00eddaj\u00edc\u00ed, tak by bylo vhodn\u00e9, aby se prov\u00e1d\u011bla na v\u00edce testovac\u00edch vzorc\u00edch. Tomu i odpov\u00edd\u00e1 fakt, \u017ee se mi v tomto p\u0159\u00edpad\u011b \u010dty\u0159i z p\u011bti t\u0159\u00edd klasifikovaly se 100% p\u0159esnost\u00ed, co\u017e asi nebude \u00fapln\u011b pravda.</p>"},{"location":"cviceni/cviceni6/#ukol-rizena-klasifikace","title":"\u00dakol - \u0158\u00edzen\u00e1 klasifikace","text":"<ul> <li>Spo\u010d\u00edtat \u0159\u00edzenou klasifikaci na sv\u00e9m \u00fazem\u00ed</li> <li>Prov\u00e9st validaci v\u00fdsledku klasifikace</li> <li>Zhodnotit v\u00fdsledky (jakou jste pou\u017eili klasifikaci, jak\u00e9 jste nastavili parametry, jak\u00e9 t\u0159\u00eddy jste klasifikovali, s \u010d\u00edm byly probl\u00e9my atd.)</li> </ul>"},{"location":"cviceni/cviceni7/","title":"Segmentace a objektov\u00e1 klasifikace","text":""},{"location":"cviceni/cviceni7/#segmentace-a-objektova-klasifikace","title":"Segmentace a objektov\u00e1 klasifikace","text":""},{"location":"cviceni/cviceni7/#cil-cviceni","title":"C\u00edl cvi\u010den\u00ed","text":"<ul> <li>Nau\u010dit se exportovat data ze SNAP</li> <li>Porozumn\u011bt principu segmentace a objektov\u00e9 klasifikace</li> <li>Um\u011bt toto t\u00e9ma zpracovat v ArcGIS Pro</li> </ul>"},{"location":"cviceni/cviceni7/#zakladni-pojmy","title":"Z\u00e1kladn\u00ed pojmy","text":"<ul> <li>Segmentace - Jedn\u00e1 se o proces, p\u0159i kter\u00e9m doch\u00e1z\u00ed k seskupov\u00e1n\u00ed sousedn\u00edch pixel\u016f na samostatn\u00e9 a smyslupln\u00e9 oblasti nebo objekty na z\u00e1klad\u011b ur\u010dit\u00fdch spole\u010dn\u00fdch vlastnost\u00ed, jak\u00fdmi jsou nap\u0159\u00edklad barva, textura \u010di tvarov\u00e9 charakteristiky.</li> <li>Objektov\u00e1 klasifikace - Jedn\u00e1 se o druh klasifikace, kter\u00e1 kombinuje jak spektr\u00e1ln\u00ed, tak i prostorov\u00e9 informace pro kategorizaci obrazov\u00fdch objekt\u016f, co\u017e jsou obvykle segmenty nebo oblasti obrazu, nikoli jednotliv\u00e9 pixely.</li> </ul>"},{"location":"cviceni/cviceni7/#export-dat-ze-snap","title":"Export dat ze SNAP","text":"<p>Software SNAP nem\u00e1 n\u00e1stroje pro objektovou klasifikaci. Tu tedy budeme cht\u00edt prov\u00e9st v jin\u00e9m softwaru, v na\u0161em p\u0159\u00edpad\u011b v ArcGIS Pro. Proto si n\u00e1\u0161 d\u0159\u00edve vytvo\u0159en\u00fd a p\u0159evzorkovan\u00fd subset vyexportujeme do souboru, kter\u00fd budeme moct v ArcGIS Pro otev\u0159\u00edt. Export produktu lze prov\u00e9st z menu File \u2192 Export, kde si vybereme jeden z nab\u00edzen\u00fdch form\u00e1t\u016f. Pokud bychom ale takto exportovali rovnou n\u00e1\u0161 p\u0159evzorkovan\u00fd subset, tak by se n\u00e1m do v\u00fdsledn\u00e9ho souboru propsala ve\u0161ker\u00e1 data, kter\u00fd n\u00e1\u0161 produkt obsahuje, tj. v\u0161echna p\u00e1sma, vektorov\u00e1 data, masky, atd. V\u0161echna tato data by pot\u00e9 tvo\u0159ila jednotliv\u00e9 vrstvy, \u010d\u00edm\u017e by se exportovan\u00fd soubor stal dosti nep\u0159ehledn\u00fd a t\u011b\u017eko pou\u017e\u00edvateln\u00fd. Proto si nejprve vytvo\u0159\u00edme produkt, kter\u00fd bude obsahovat pouze ta data, kter\u00e1 opravdu budeme cht\u00edt exportovat. Pou\u017eijeme tedy funkci Raster \u2192 Bands extractor.</p> <p></p> <p>V z\u00e1lo\u017ece I/O Parameters nastav\u00edme zdrojov\u00fd produkt a n\u00e1zev exportovan\u00e9ho produktu. A z\u00e1rove\u0148 m\u016f\u017eeme rovnou zm\u011bnit typ souboru z BEAM-DIMAP na GeoTIFF. V Processing Parameters pot\u00e9 vybereme p\u00e1sma, kter\u00e1 chceme do exportovan\u00e9ho produktu zapsat. V tomto p\u0159\u00edpad\u011b n\u00e1m posta\u010d\u00ed jen p\u016fvodn\u00ed p\u00e1sma Sentinel-2.</p> <p> </p> <p>Data se n\u00e1m ulo\u017e\u00ed do jednoho TIF souboru. Jedn\u00e1 se o klasick\u00fd rastrov\u00fd form\u00e1t. V na\u0161em p\u0159\u00edpad\u011b se nav\u00edc jedn\u00e1 je\u0161t\u011b o tzv. Multiband Layer, proto\u017ee v sob\u011b obsahuje v\u00edce ne\u017e jednu vrstvu. Nyn\u00ed ji\u017e tedy m\u016f\u017eeme otev\u0159\u00edt ArcGIS Pro, vytvo\u0159it nov\u00fd Map projekt a vlo\u017eit exportovan\u00fd TIF soubor.</p>"},{"location":"cviceni/cviceni7/#zobrazeni-dat-dpz-v-arcgis-pro","title":"Zobrazen\u00ed dat DPZ v ArcGIS Pro","text":"<p>P\u0159i prvn\u00edm vlo\u017een\u00ed na\u0161eho exportovan\u00e9ho subsetu do ArcGIS Pro se mohou data zobrazit jen v jednotlit\u00e9 \u010dern\u00e9 barv\u011b, jako tomu je v n\u00e1sleduj\u00edc\u00edm obr\u00e1zku.</p> <p></p> <p>Jako prvn\u00ed by to mohlo evokovat, \u017ee je s daty n\u011bco v nepo\u0159\u00e1dku. Nen\u00ed tomu ale tak, jen nejsou spr\u00e1vn\u011b zobrazen\u00e1. P\u0159epneme se proto do z\u00e1lo\u017eky Raster Layer (je pot\u0159eba m\u00edt ozna\u010denou na\u0161\u00ed rastrovou vrstvu), zvol\u00edme mo\u017enost Symbology a vybereme RGB. Druhou mo\u017enost\u00ed je kliknout prav\u00fdm tla\u010d\u00edtkem na vrstvu v panelu Contents a zvolit znovu Symbology.</p> <p> </p> <p>Zde je pot\u00e9 pot\u0159eba zm\u011bnit parametr Stretch type, kter\u00fd je p\u0159i prvn\u00edm otev\u0159en\u00edm na\u0161eho subsetu nastaven na None. Vyzkou\u0161\u00edme tedy, co pro na\u0161e data sed\u00ed nejl\u00e9pe. Mn\u011b se nejl\u00e9pe osv\u011bd\u010dila varianta Standard Deviation.</p> <p> </p> <p>P\u0159i prvn\u00ed zm\u011bn\u011b Stretch type n\u00e1s ArcGIS Pro upozorn\u00ed, \u017ee je pot\u0159eba spo\u010d\u00edtat na datech statistiku. Pot\u00e9 ji\u017e je mo\u017en\u00e9 pou\u017e\u00edvat funkci Stretch type i z menu Raster Layer.</p> <p> </p> <p>Jsme tedy ji\u017e schopni rozeznat, co na na\u0161\u00ed sc\u00e9n\u011b vid\u00edme, nicm\u00e9n\u011b data se n\u00e1m zobrazuj\u00ed v jak\u00fdchsi fale\u0161n\u00fdch barv\u00e1ch. Je tomu tak proto, proto\u017ee ArcGIS Pro vkl\u00e1d\u00e1 automaticky do RGB kombinace prvn\u00ed t\u0159i p\u00e1sma z multiband souboru. My ale ji\u017e v\u00edme, \u017ee u dat Sentinel-2 tomu tak nen\u00ed. \u010cerven\u00e9 p\u00e1smo zde odpov\u00edd\u00e1 p\u00e1smu B4, zelen\u00e9 p\u00e1smo p\u00e1smu B3 a modr\u00e9 p\u00e1smo p\u00e1smu B2. Pokud si chceme data zobrazit ve skute\u010dn\u00fdch barv\u00e1ch, mus\u00edme kan\u00e1ly vstupuj\u00edc\u00ed do RGB kompozitu podle toho upravit. To ud\u011bl\u00e1me pomoc\u00ed znovu v Raster Layer \u2192 Symbology \u2192 RGB a nastav\u00edme zde spr\u00e1vnou RGB kombinaci. Pot\u00e9 se ji\u017e data zobraz\u00ed v p\u0159\u00edrodn\u00edch barv\u00e1ch.</p> <p> </p>"},{"location":"cviceni/cviceni7/#klasifikace-v-arcgis-pro","title":"Klasifikace v ArcGIS Pro","text":"<p>V ArcGIS Pro jsou dv\u011b mo\u017enosti jak p\u0159istupovat ke klasifikov\u00e1n\u00ed. Prvn\u00ed mo\u017enost\u00ed je, \u017ee u\u017e v\u00edme, jak\u00e9 dostupn\u00e9 n\u00e1stroje chceme pou\u017e\u00edt, a vyhled\u00e1me si je sami v panelu Geoprocessing \u010di z nab\u00eddky Classification Tools. Pokud geoprocesingov\u00fd panel nem\u00e1me ji\u017e p\u0159ipnut\u00fd u mapov\u00e9ho okna, najdeme ho v menu View \u2192 Geoprocessing.</p> <p> </p> <p>Classification Tools najdeme v menu pod z\u00e1lo\u017ekou Imagery, kter\u00e1 je ur\u010den\u00e1 pr\u00e1v\u011b pro pr\u00e1ci s daty DPZ.</p> <p></p> <p>Druhou mo\u017enost\u00ed je vyu\u017e\u00edt tzv.  Image Classification Wizard, kter\u00fd najdeme rovn\u011b\u017e v z\u00e1lo\u017ece Imagery. Tento n\u00e1stroj u\u017eivatele postupn\u011b a p\u0159ehledn\u011b provede v\u0161emi kroky klasifikace.</p> <p> </p>"},{"location":"cviceni/cviceni7/#postup-pro-objektovou-klasifikaci","title":"Postup pro objektovou klasifikaci","text":"<p>V r\u00e1mci cvi\u010den\u00ed vyu\u017eijeme prvn\u00ed mo\u017enost a jednotliv\u00e9 kroky si budeme spou\u0161t\u011bt postupn\u011b.</p>"},{"location":"cviceni/cviceni7/#segmentace","title":"Segmentace","text":"<p>Prvn\u00edm krokem objektov\u00e9 klasifikace je segmentace obrazov\u00fdch dat. Jak n\u00e1zev napov\u00edd\u00e1, v\u00fdsledkem tohoto kroku bude segmentovan\u00fd obraz. Jednotliv\u00e9 segmenty jsou tvo\u0159eny pixely, kter\u00e9 jsou si barevn\u011b podobn\u00e9. Na rozd\u00edl od pixelov\u00e9 klasifikace, kde se postupn\u011b klasifikuj\u00ed jednotliv\u00e9 pixely, tak v objektov\u00e9 klasifikaci se budou klasifikovat pr\u00e1v\u011b tyto segmenty. Segmentaci najdeme v menu Imagery \u2192 Classification Tools \u2192 Segmentation (alternativou m\u016f\u017ee b\u00fdt funkce Segment Mean Shift, kterou najdeme v geoprocesingov\u00e9m panelu, a kter\u00e1 se li\u0161\u00ed pouze v\u011bt\u0161\u00edm mno\u017estv\u00edm zad\u00e1van\u00fdch parametr\u016f). Funkce Segmentation m\u00e1 zde na vstupu t\u0159i parametry. Parametr Spectral detail ud\u00e1v\u00e1, jak moc d\u016fle\u017eit\u00e9 budou spektr\u00e1ln\u00ed rozd\u00edly jednotliv\u00fdch prvk\u016f v obrazov\u00fdch datech. \u010c\u00edm vy\u0161\u0161\u00ed je hodnota, t\u00edm v\u011bt\u0161\u00ed je separabilita spektr\u00e1ln\u011b podobn\u00fdch prvk\u016f do r\u016fzn\u00fdch segmet\u016f. Druh\u00fdm parametrem je Spatial detail, kter\u00fd nastavuje d\u016fle\u017eitost bl\u00edzkosti jednotliv\u00fdch objekt\u016f na obrazov\u00fdch datech mezi sebou. Vy\u0161\u0161\u00ed hodnoty jsou vhodn\u00e9 pro men\u0161\u00ed seskupen\u00e9 objekty. Naopak ni\u017e\u0161\u00ed hodnoty vytv\u00e1\u0159ej\u00ed v\u00edce vyhlazen\u00e9 v\u00fdstupy. Posledn\u00edm parametrem je Minimum segment size in pixels, kter\u00fd ur\u010duje, z jak\u00e9ho minim\u00e1ln\u00edho mno\u017estv\u00ed pixel\u016f mus\u00ed b\u00fdt dan\u00fd segment tvo\u0159en. Nicm\u00e9n\u011b neexistuje asi \u017e\u00e1dn\u00fd obecn\u00fd n\u00e1vod, jak jednotliv\u00e9 parametry nastavit, a je pot\u0159eba si pro zpracov\u00e1van\u00e1 data vyzkou\u0161et, jak\u00e1 kombinace n\u00e1m vyhovuje nejv\u00edce. Pro za\u010d\u00e1tek m\u016f\u017eeme zkusit segmentaci spustit s defaultn\u00edm nastaven\u00edm.</p> <p> </p> <p> Segmentation</p> <p>Po dokon\u010den\u00ed segmentace je vhodn\u00e9 v\u00fdsledek porovnat s realitou. M\u016f\u017eeme bu\u010f jednodu\u0161e zap\u00ednat a vyp\u00ednat vrstvy nebo m\u016f\u017eeme pou\u017e\u00edt funkci Swipe nach\u00e1zej\u00edc\u00ed se v menu v z\u00e1lo\u017ece Raster Layer.</p> <p> </p> <p>Z m\u00e9ho v\u00fdsledku je vid\u011bt, \u017ee p\u0159edev\u0161\u00edm v z\u00e1stavb\u011b doch\u00e1z\u00ed k rozd\u011blen\u00ed obrazu na a\u017e zbyte\u010dn\u011b moc segment\u016f, a nen\u00ed tedy od v\u011bci zkusit parametry pozm\u011bnit.</p>"},{"location":"cviceni/cviceni7/#tvorba-trenovacich-ploch","title":"Tvorba tr\u00e9novac\u00edch ploch","text":"<p>Kdy\u017e jsme s v\u00fdsledkem segmentace spokojen\u00ed, m\u016f\u017eeme p\u0159ej\u00edt k druh\u00e9mu kroku, \u010d\u00edm\u017e je tvorba tr\u00e9novac\u00edch ploch. Tr\u00e9novac\u00ed plochy budeme tvo\u0159it pomoc\u00ed n\u00e1stroje nach\u00e1zej\u00edc\u00edho se v Imagery \u2192 Classification Tools \u2192 Training Samples Manager.</p> <p> </p> <p>Training Samples Manager m\u00e1 v sob\u011b ji\u017e p\u0159eddefinovan\u00e9 klasifika\u010dn\u00ed t\u0159\u00eddy. Ty ale m\u016f\u017eeme smazat a vytvo\u0159it si sv\u00e9 vlastn\u00ed. Stejn\u011b tak m\u016f\u017eeme zm\u011bnit n\u00e1zev cel\u00e9ho klasifika\u010dn\u00edho sch\u00e9matu z defaultn\u00edho NLCD2011. P\u0159\u00edpadn\u011b m\u016f\u017eeme vytvo\u0159it sch\u00e9ma \u00fapln\u011b nov\u00e9 pomoc\u00ed funkce Create New Schema. Po vytvo\u0159en\u00ed nov\u00e9ho klasifika\u010dn\u00edho sch\u00e9matu doporu\u010duji toto sch\u00e9ma ulo\u017eit, kdybychom se pak cht\u011bli k tvorb\u011b tr\u00e9novac\u00edch ploch vr\u00e1tit (proto je dobr\u00e9 m\u00edt panel co nejv\u00edce rozta\u017een\u00fd, aby byla vid\u011bt v\u0161echna funkcionalita). Tr\u00e9novac\u00ed plochy zde pot\u00e9 m\u016f\u017eeme tvo\u0159it bu\u010f pomoc\u00ed jednotliv\u00fdch bod\u016f \u010di kreslen\u00edm r\u016fzn\u00fdch geometrick\u00fdch obrazc\u016f. Nicm\u00e9n\u011b asi jako nejjednodu\u0161\u0161\u00ed mo\u017enost se nab\u00edz\u00ed vyu\u017e\u00edt jednotliv\u00fdch segment\u016f jako tr\u00e9novac\u00edch ploch. Jednotliv\u00e9 segmenty m\u016f\u017eeme vyb\u00edrat pomoc\u00ed n\u00e1stroje Segment Picker. N\u00e1sledn\u011b si tedy ozna\u010d\u00edme t\u0159\u00eddu, pro kterou chceme tr\u00e9novac\u00ed plochy sb\u00edrat, a m\u016f\u017eeme za\u010d\u00edt klikat na jednotliv\u00e9 segmenty.</p> <p></p> <p>P\u0159i vyb\u00edr\u00e1n\u00ed segment\u016f je ale d\u016fle\u017eit\u00e9, abychom je vyb\u00edrali v dostate\u010dn\u00e9m zoom levelu. Pokud bychom byli odd\u00e1leni moc, jednotliv\u00e9 segmenty mohou b\u00fdt zjednodu\u0161en\u00e9, co\u017e m\u016f\u017ee v\u00e9st k nespr\u00e1vn\u00e9mu ozna\u010den\u00ed. Porovn\u00e1n\u00ed zjednodu\u0161en\u00e9ho a spr\u00e1v\u011b ozna\u010den\u00e9ho segmentu zn\u00e1zor\u0148uje n\u00e1sleduj\u00edc\u00ed obr\u00e1zek.</p> <p> </p> <p>Ve spodn\u00ed \u010d\u00e1sti Training Samples Manager m\u016f\u017eeme pot\u00e9 jednotliv\u00e9 plochy spravovat. Tr\u00e9novac\u00ed plochy rovn\u011b\u017e doporu\u010duji si ulo\u017eit (v tomto p\u0159\u00edpad\u011b nejl\u00e9pe do geodatab\u00e1ze vytvo\u0159en\u00e9 spolu s nov\u00fdm projektem).</p> <p></p> <p> Use Training Samples Manager</p>"},{"location":"cviceni/cviceni7/#klasifikace","title":"Klasifikace","text":"<p>Klasifikaci provedeme pomoc\u00ed n\u00e1stroje Imagery \u2192 Classification Tools \u2192 Classify. Bohu\u017eel n\u00e1stroj nen\u00ed tak intuitivn\u00ed jako Classification Wizard, kter\u00fd se n\u00e1s nejprve pt\u00e1, jak\u00fd typ klasifikace chceme prov\u00e9st. Zde ji\u017e mus\u00edme v\u011bd\u011bt, k \u010demu se jak\u00fd z nab\u00edzen\u00fdch klasifik\u00e1tor\u016f pou\u017e\u00edv\u00e1, podle \u010deho\u017e se pak i m\u011bn\u00ed nab\u00eddka vstupn\u00edch parametr\u016f. My chceme prov\u00e9st \u0159\u00edzenou objektovou klasifikaci. K tomu je tedy pot\u0159eba vybrat jak\u00fdkoliv z nab\u00edzen\u00fdch klasifik\u00e1tor\u016f krom\u011b ISO Cluster, kter\u00fd se pou\u017e\u00edv\u00e1 p\u0159i ne\u0159\u00edzen\u00e9 klasifikaci. My pou\u017eijeme klasifik\u00e1tor Random Trees, kter\u00fd by m\u011bl b\u00fdt snad to sam\u00e9, co Random Forest. D\u00e1le zad\u00e1me na\u0161e tr\u00e9novac\u00ed plochy, maxim\u00e1ln\u00ed po\u010det strom\u016f, maxim\u00e1ln\u00ed hloubku strom\u016f (co\u017e je parametr, kter\u00fd ur\u010duje, jak moc se mohou stromy v\u011btvit) a maxim\u00e1ln\u00ed po\u010det tr\u00e9novac\u00edch vzork\u016f v jednotliv\u00fdch klasifika\u010dn\u00edch t\u0159\u00edd\u00e1ch. D\u00e1le je pak d\u016fle\u017eit\u00e9 vlo\u017eit do n\u00e1stroje segmentovan\u00fd obraz, jinak by se jednalo o klasickou pixelovou klasifikaci. P\u0159i vlo\u017een\u00ed segmentovan\u00e9ho obrazu se n\u00e1m zobraz\u00ed nab\u00eddka, kter\u00e9 v\u0161echny atributy budeme cht\u00edt pro jednotliv\u00e9 segmenty pou\u017e\u00edt (m\u016f\u017eeme za\u0161krtnou v\u0161e). Co je d\u00e1le podstatn\u00e9 je to, abychom celou klasifikaci prov\u00e1d\u011bli nad na\u0161imi multispektr\u00e1ln\u00edmi daty (n\u00e1\u0161 subset). Klasifikaci lze samoz\u0159ejm\u011b prov\u00e9st i nad segmentovan\u00fdm obrazem, v\u00fdsledky by ale byly dosti neuspokojiv\u00e9.</p> <p> </p> <p>V\u00fdsledkem je pak klasifikovan\u00fd obraz. V\u00fdsledek z\u00e1vis\u00ed p\u0159edev\u0161\u00edm na tom, jak jsme p\u016fvodn\u00ed data segmentovali. Pokud segmentace byla velmi podrobn\u00e1, ale n\u011bkter\u00e9 segmenty se neza\u0159adily do spr\u00e1vn\u00e9 t\u0159\u00eddy, je pot\u0159eba p\u0159idat v\u00edce tr\u00e9novac\u00edch ploch, p\u0159\u00edpadn\u011b pozm\u011bnit parametry klasifikace.</p> <p></p> <p> Classify</p>"},{"location":"cviceni/cviceni7/#ukol-objektova-klasifikace","title":"\u00dakol - Objektov\u00e1 klasifikace","text":"<ul> <li>Prov\u00e9st objektovou klasifikaci na sv\u00e9m \u00fazem\u00ed</li> <li>Zhodnotit v\u00fdsledky (jak\u00fd byl postup objektov\u00e9 klasifikace, jak\u00e9 jste nastavili parametry, jak\u00e9 t\u0159\u00eddy jste klasifikovali, s \u010d\u00edm byly probl\u00e9my atd.)</li> </ul>"},{"location":"cviceni/cviceni8/","title":"Uk\u00e1zka VHR dat, pansharpening, \u0159\u00edzen\u00e1 klasifikace v ArcGIS Pro","text":""},{"location":"cviceni/cviceni8/#ukazka-vhr-dat-pansharpening-rizena-klasifikace-v-arcgis-pro","title":"Uk\u00e1zka VHR dat, pansharpening, \u0159\u00edzen\u00e1 klasifikace v ArcGIS Pro","text":""},{"location":"cviceni/cviceni8/#cil-cviceni","title":"C\u00edl cvi\u010den\u00ed","text":"<ul> <li>Sezn\u00e1mit se n\u011bkter\u00fdmi daty s vysok\u00fdm prostorov\u00fdm rozli\u0161en\u00edm</li> <li>Z\u00edskat pov\u011bdom\u00ed o mo\u017enosti pansharpeningu</li> <li>Prov\u00e9st \u0159\u00edzenou klasifikaci VHR dat v ArcGIS Pro</li> </ul>"},{"location":"cviceni/cviceni8/#zakladni-pojmy","title":"Z\u00e1kladn\u00ed pojmy","text":"<ul> <li>VHR data - Very High Resolution data, neboli data s vysok\u00fdm prostorov\u00fdm rozli\u0161en\u00edm</li> <li>Panchromatick\u00e9 p\u00e1smo - P\u00e1smo obsahuj\u00edc\u00ed ve\u0161ker\u00e9 viditeln\u00e9 odra\u017een\u00e9 z\u00e1\u0159en\u00ed (\u0161\u00ed\u0159ka p\u00e1sma tedy sah\u00e1 do oblasti modr\u00e9ho, zelen\u00e9ho a \u010derven\u00e9ho spektra). Takto velk\u00e1 \u0161\u00ed\u0159ka p\u00e1sma umo\u017e\u0148uje udr\u017eet vysok\u00fd pom\u011br sign\u00e1lu a \u0161umu, co\u017e d\u00e1v\u00e1 mo\u017enost m\u00edt data ve vysok\u00e9m prostorov\u00e9m rozli\u0161en\u00ed (a\u017e \u010dty\u0159ikr\u00e1t vy\u0161\u0161\u00ed oproti multispektr\u00e1ln\u00edm dat\u016fm).</li> <li>Pansharpening (panchromatic sharpening) - Jedn\u00e1 se o proces kombinuj\u00edc\u00ed panchromatick\u00e1 data s daty multispektr\u00e1ln\u00edmi, p\u0159i\u010dem\u017e doch\u00e1z\u00ed k nav\u00fd\u0161en\u00ed prostorov\u00e9ho rozli\u0161en\u00ed multispektr\u00e1ln\u00edch dat se zachov\u00e1n\u00edm specifick\u00fdch spektr\u00e1ln\u00edch atribut\u016f.</li> </ul>"},{"location":"cviceni/cviceni8/#data-pro-cviceni","title":"Data pro cvi\u010den\u00ed","text":"<p>Data pro toto cvi\u010den\u00ed si m\u016f\u017eete st\u00e1hnout  zde. Zazipovan\u00fd soubor obsahuje t\u0159i sc\u00e9ny ze stejn\u00e9ho \u00fazem\u00ed v Gr\u00f3nsku. Vyberte si tedy jednu z nich, se kterou budete v r\u00e1mci cvi\u010den\u00ed pracovat. Informace o jednotliv\u00fdch sc\u00e9n\u00e1ch shrnuje n\u00e1sleduj\u00edc\u00ed tabulka.</p> Datum sn\u00edm\u00e1n\u00ed Dru\u017eice Rozli\u0161en\u00ed multispektr\u00e1ln\u00edch p\u00e1sem Rozli\u0161en\u00ed panchromatick\u00e9ho p\u00e1sma 31. 5. 2019 WorldView-3 1,2 m 0,3 m 1. 8. 2020 GeoEye-1 1,6 m 0,4 m 30. 8. 2021 GeoEye-1 2 m 0,5 m <p>N\u00e1zvy slo\u017eek bohu\u017eel o samotn\u00fdch sc\u00e9n\u00e1ch nic ne\u0159\u00edkaj\u00ed, nicm\u00e9n\u011b jsou \u0159azeny podle roku. Prvn\u00ed slo\u017eka tedy obsahuje data pro rok 2019 a posledn\u00ed slo\u017eka data pro rok 2021. Ka\u017ed\u00e1 slo\u017eka pot\u00e9 obsahuje podslo\u017eky s n\u00e1zvem kon\u010d\u00edc\u00edm na MUL a PAN, ve kter\u00fdch naleznete TIF soubor s multispektr\u00e1ln\u00edmi, resp. panchromatick\u00fdmi daty.</p> <p> </p> <p>Multispektr\u00e1ln\u00ed data obsahuj\u00ed celkem \u010dty\u0159i p\u00e1sma, kter\u00e1 jsou \u0159azena v n\u00e1sleduj\u00edc\u00edm po\u0159ad\u00ed: modr\u00e9, zelen\u00e9, \u010derven\u00e9 a bl\u00edzk\u00e9 infra\u010derven\u00e9 (B-G-R-NIR).</p> <p></p> Cel\u00e1 sc\u00e9na z roku 2020"},{"location":"cviceni/cviceni8/#popis-oblasti","title":"Popis oblasti","text":"<p>Poskytnut\u00e1 data zachycuj\u00ed b\u00fdvalou vojenskou z\u00e1kladnu z 2. sv\u011btov\u00e9 v\u00e1lky s n\u00e1zvem Bluie East Two, na kter\u00e9 se mimo jin\u00e9 nach\u00e1z\u00ed tis\u00edce star\u00fdch barel\u016f. V roce 2019 zapo\u010dalo jejich odstra\u0148ov\u00e1n\u00ed, tud\u00ed\u017e jich je na ka\u017ed\u00e9 sc\u00e9n\u011b jin\u00e9 mno\u017estv\u00ed. Na\u0161\u00edm c\u00edlem pr\u00e1ce bude pomoc\u00ed \u0159\u00edzen\u00e9 klasifikace ur\u010dit, kolik se v oblasti nach\u00e1z\u00ed barel\u016f za p\u0159edpokladu, \u017ee na jeden metr \u010dtvere\u010dn\u00ed plochy s barely p\u0159ipad\u00e1 p\u0159ibli\u017en\u011b 2,12 barel\u016f.</p> <p></p>"},{"location":"cviceni/cviceni8/#priprava-dat-pro-klasifikaci","title":"P\u0159\u00edprava dat pro klasifikaci","text":"<p>Cvi\u010den\u00ed bude znovu prob\u00edhat v softwaru ArcGIS Pro. Za\u010dneme tedy t\u00edm, \u017ee si vytvo\u0159\u00edme nov\u00fd Map projekt, do kter\u00e9ho si vlo\u017e\u00edme multispektr\u00e1ln\u00ed a panchromatick\u00e1 data z jednoho zvolen\u00e9ho roku. U multispektr\u00e1ln\u00edch dat zvol\u00edme i n\u011bjakou vhodnou RGB kombinaci (a Stretch type) s ohledem na po\u0159ad\u00ed p\u00e1sem: B-G-R-NIR.</p> <p> </p> Uk\u00e1zka VHR dat z roku 2019 (vlevo - multispektr\u00e1ln\u00ed data, vpravo - panchromatick\u00e1 data)"},{"location":"cviceni/cviceni8/#pansharpening","title":"Pansharpening","text":"<p>Kdy\u017e u\u017e m\u00e1me k dispozici panchromatick\u00e9 p\u00e1smo, kter\u00e9 m\u00e1 v na\u0161em p\u0159\u00edpad\u011b 4\u00d7 vy\u0161\u0161\u00ed rozli\u0161en\u00ed ne\u017e multispektr\u00e1ln\u00ed data, tak ho vyu\u017eijeme pro tzv. Pansharpening. Jedn\u00e1 se o proces, kter\u00fd pomoc\u00ed panchromatick\u00e9ho p\u00e1sma nav\u00fd\u0161\u00ed prostorov\u00e9 rozli\u0161en\u00ed multispektr\u00e1ln\u00edch dat na stejnou \u00farove\u0148 jako m\u00e1 pr\u00e1v\u011b panchromatick\u00e9 p\u00e1smo. Na rozd\u00edl od oby\u010dejn\u00e9ho p\u0159evzorkov\u00e1n\u00ed (resampling) zde multispektr\u00e1ln\u00ed data p\u0159evezmou i prostorov\u00e9 detaily panchromatick\u00e9ho p\u00e1sma. Pro pansharpening pou\u017eijeme n\u00e1stroj  Create Pansharpened Raster Dataset, kter\u00fd najdeme p\u0159es panel Geoprocessing. Zde pot\u00e9 zad\u00e1me multispektr\u00e1ln\u00ed a panchromatick\u00e1 data a tak\u00e9 jeden z nab\u00edzen\u00fdch algoritm\u016f. V na\u0161em p\u0159\u00edpad\u011b bych doporu\u010dil zvolit algoritmus Gram-Schmidt, kde m\u016f\u017eete i nastavit, o jak\u00fd typ senzoru se jedn\u00e1. P\u0159\u00edpadn\u011b m\u016f\u017eete i vyzkou\u0161et, jak se budou v\u00fdsledky s r\u016fzn\u00fdmi algoritmy pro pansharpening li\u0161it.</p> <p></p> <p>V\u00fdsledkem budou pansharpovan\u00e1 data, kter\u00e1 m\u016f\u017eeme porovnat s daty p\u016fvodn\u00edmi. Tak\u00e9 je dobr\u00e9 v\u0161imnout si, \u017ee ArcGIS Pro zm\u011bnil po\u0159ad\u00ed p\u00e1sem v pansharpovan\u00fdch datech na R-G-B-NIR.</p> <p> </p>"},{"location":"cviceni/cviceni8/#oriznuti-na-zajmovou-oblast","title":"O\u0159\u00edznut\u00ed na z\u00e1jmovou oblast","text":"<p>Jeliko\u017e se barely nach\u00e1zej\u00ed jen na \u010d\u00e1sti \u00fazem\u00ed, je zbyte\u010dn\u00e9 pracovat s celou sc\u00e9nou. Proto si sc\u00e9nu o\u0159\u00edzneme jen na na\u0161e z\u00e1jmov\u00e9 \u00fazem\u00ed.  Zde si tedy st\u00e1hn\u011bte shapefile, kter\u00e9 toto z\u00e1jmov\u00e9 \u00fazem\u00ed ohrani\u010duje, a vlo\u017ete si ho do va\u0161eho projektu.</p> <p></p> Vyzna\u010den\u00e9 z\u00e1jmov\u00e9 \u00fazem\u00ed na sc\u00e9n\u011b z roku 2019 <p>Pansharpovanou sc\u00e9nu si o\u0159\u00edzneme pomoc\u00ed funkce  Clip Raster.</p> <p> </p>"},{"location":"cviceni/cviceni8/#vytvoreni-spektralnich-indexu","title":"Vytvo\u0159en\u00ed spektr\u00e1ln\u00edch index\u016f","text":"<p>Pro klasifikov\u00e1n\u00ed m\u00e1me k dispozici zat\u00edm jen 4 p\u00e1sma a nen\u00ed tedy od v\u011bci si n\u011bjak\u00e9 kan\u00e1ly dopo\u010d\u00edtat. Spo\u010d\u00edt\u00e1me si proto dva spektr\u00e1ln\u00ed indexy; NDVI a NDWI. N\u00e1stroj pro v\u00fdpo\u010det NDVI najdeme v menu Imagery \u2192 Indices \u2192 NDVI. Zde pot\u00e9 sta\u010d\u00ed zadat, kter\u00e9 p\u00e1smo odpov\u00edd\u00e1 blizk\u00e9mu infra\u010derven\u00e9mu p\u00e1smu (4), a kter\u00e9 odpov\u00edd\u00e1 \u010derven\u00e9mu p\u00e1smu (1).</p> <p> </p> <p>Index NDWI zde bohu\u017eel p\u0159eddefinov\u00e1n nen\u00ed, tak\u017ee budeme muset pou\u017e\u00edt jin\u00fd n\u00e1stroj. Konkr\u00e9tn\u011b tedy n\u00e1stroj Imagery \u2192 Raster Functions \u2192 Band Arithmetic. Zde pot\u00e9 zvol\u00edme, jakou metodu chceme pou\u017e\u00edt (vybereme tedy NDWI), a zad\u00e1me po\u0159ad\u00ed pot\u0159ebn\u00fdch p\u00e1sem NIR a Green (4 2).</p> <p> </p> <p>Takto vypo\u010dten\u00e9 NDVI a NDWI kan\u00e1ly bohu\u017eel nejsou ulo\u017een\u00e9 v na\u0161\u00ed geodatab\u00e1zi, a jedn\u00e1 se z\u0159ejm\u011b jen o do\u010dasn\u00e9 soubory. Pro jistotu si je tedy do geodatab\u00e1ze ulo\u017e\u00edme. Klikneme prav\u00fdm tla\u010d\u00edtkem my\u0161i na dan\u00fd raster v panelu Contents a zvol\u00edme mo\u017enost Data \u2192 Export Raster. Zde pot\u00e9 nastav\u00edme parametr Output Raster Dataset tak, aby se spo\u010d\u00edtan\u00fd spektr\u00e1ln\u00ed index ulo\u017eil pr\u00e1v\u011b do na\u0161\u00ed geodatab\u00e1ze. Stejn\u00fd postup provedeme pro oba indexy.</p> <p> </p>"},{"location":"cviceni/cviceni8/#spojeni-vice-pasem-do-jednoho-souboru","title":"Spojen\u00ed v\u00edce p\u00e1sem do jednoho souboru","text":"<p>Posledn\u00edm krokem p\u0159ed klasifikac\u00ed je spojen\u00ed pansharpovan\u00fdch multispektr\u00e1ln\u00edch dat a vypo\u010dten\u00fdch spektr\u00e1ln\u00edch index\u016f do jednoho multiband rastru. K tomu pou\u017eijeme n\u00e1stroj  Composite Bands. Zde pouze nastav\u00edme po\u0159ad\u00ed jednotliv\u00fdch p\u00e1sem a v\u00fdstupn\u00ed rastr, kter\u00fd nejl\u00e9pe znovu ulo\u017e\u00edme do geodatab\u00e1ze.</p> <p></p> <p>Nyn\u00ed m\u016f\u017eeme v\u0161echny ostatn\u00ed vrsty zav\u0159\u00edt, proto\u017ee d\u00e1le ji\u017e budeme pracovat pouze s t\u00edmto multiband rastrem.</p>"},{"location":"cviceni/cviceni8/#rizena-klasifikace","title":"\u0158\u00edzen\u00e1 klasifikace","text":""},{"location":"cviceni/cviceni8/#klasifikacni-tridy-a-trenovaci-plochy","title":"Klasifika\u010dn\u00ed t\u0159\u00eddy a tr\u00e9novac\u00ed plochy","text":"<p>V z\u00e1vislosti na zvolen\u00e9 sc\u00e9n\u011b budeme klasifikovat bu\u010f 4 nebo 5 t\u0159\u00edd. Konkr\u00e9tn\u011b se bude jednat o n\u00e1sleduj\u00edc\u00ed t\u0159\u00eddy:</p> <ul> <li>Barely</li> <li>Vegetace</li> <li>Hol\u00e1 p\u016fda</li> <li>Voda</li> <li>Sn\u00edh a led (pouze v roce 2019)</li> </ul> <p>Na RGB kompozitu se v tomto p\u0159\u00edpad\u011b ale velmi t\u011b\u017eko rozli\u0161uje mezi vegetac\u00ed a holou p\u016fdou. Proto doporu\u010duji si data zobrazit ve fale\u0161n\u00fdch barv\u00e1ch v kombinaci NIR-R-G. U Stretch Type nastaven\u00e9m na Standard Deviation je vhodn\u00e9 zkusit zm\u011bnit i parametr Number of standard deviations na hodnotu 1 (minim\u00e1ln\u011b na sc\u00e9n\u011b z roku 2019 toto nastaven\u00ed zv\u00fdrazn\u00ed r\u016fzn\u00e9 povrchy).</p> <p></p> <p>Pot\u00e9 ji\u017e pomoc\u00ed n\u00e1stroje Imagery \u2192 Classification Tools \u2192 Training Samples Manager m\u016f\u017eeme za\u010d\u00edt vytv\u00e1\u0159et jednotliv\u00e9 tr\u00e9novac\u00ed plochy. Zde si vytvo\u0159\u00edme nov\u00e9 klasifika\u010dn\u00ed sch\u00e9ma pomoc\u00ed funkce Create New Schema a n\u00e1sledn\u011b si ho i ulo\u017e\u00edme (doporu\u010duji za\u010d\u00edt \u010d\u00edslovat klasifika\u010dn\u00ed t\u0159\u00eddy od hodnoty 0, abychom pozd\u011bji p\u0159ede\u0161li jist\u00fdm nep\u0159\u00edjemnostem). Tr\u00e9novac\u00ed plochy jednotliv\u00fdch t\u0159\u00edd vytv\u00e1\u0159\u00edme pomoc\u00ed n\u00e1stroje Polygon.</p> <p> </p> <p>Vytvo\u0159en\u00e9 tr\u00e9novac\u00ed plochy doporu\u010duji ulo\u017eit znovu do geodatab\u00e1ze.</p> <p></p>"},{"location":"cviceni/cviceni8/#klasifikace","title":"Klasifikace","text":"<p>Klasifikaci spust\u00edme pomoc\u00ed n\u00e1stroje Imagery \u2192 Classification Tools \u2192 Classify. Zvol\u00edme klasifik\u00e1tor Random Trees a nastav\u00edme parametry. Je dobr\u00e9 se zde zam\u011b\u0159it na parametr Maximum Number of Samples per Class a zv\u00e1\u017eit, jestli je 1000 dostate\u010dn\u00fd po\u010det. Pokud se pod\u00edv\u00e1me znovu do Training Samples Manager a ve spodn\u00ed \u010d\u00e1sti najedeme my\u0161\u00ed na hodnotu Pixels u jedn\u00e9 z t\u0159\u00edd, tak se n\u00e1m zobraz\u00ed, kolik pixel\u016f je danou t\u0159\u00eddou pokryto. V m\u00e9m p\u0159\u00edpad\u011b je to 38177 pixel\u016f u nejm\u00e9n\u011b zastoupen\u00e9 t\u0159\u00eddy. Proto je tedy na zv\u00e1\u017een\u00ed, jestli by se hodnota Maximum Number of Samples per Class nem\u011bla nav\u00fd\u0161it. M\u016f\u017eeme ale nejprve vyzkou\u0161et, jak\u00fd bude v\u00fdsledek klasifikace s 1000 vzorky, a v p\u0159\u00edpad\u011b neuspokojiv\u00e9ho v\u00fdsledku po\u010det vzorku zv\u00fd\u0161it. Nicm\u00e9n\u011b v\u00fdpo\u010det se zde zd\u00e1 b\u00fdt pom\u011brn\u011b rychl\u00fd, a neb\u00e1l bych se tedy s parametry experimentovat a vlo\u017eit do Maximum Number of Samples per Class klidn\u011b i hodnotu odpov\u00eddaj\u00edc\u00ed nejv\u00edce zastoupen\u00e9 t\u0159\u00edd\u011b.</p> <p> </p> <p>V p\u0159\u00edpad\u011b, \u017ee nejsme spokojeni s v\u00fdsledkem ani po r\u016fzn\u00fdch \u00faprav\u00e1ch parametr\u016f, nezb\u00fdv\u00e1 nic jin\u00e9ho, ne\u017e upravit tr\u00e9novac\u00ed plochy. V takov\u00e9m p\u0159\u00edpad\u011b bych doporu\u010dil pod\u00edvat se, kde se jednotliv\u00e9 t\u0159\u00eddy klasifikuj\u00ed nespr\u00e1vn\u011b (zejm\u00e9na t\u0159\u00edda s barely), a na takov\u00fdch m\u00edstech p\u0159idat tr\u00e9novac\u00ed plochy pro spr\u00e1vnou t\u0159\u00eddu, co\u017e by m\u011blo v\u00fdsledku pomoci. Nicm\u00e9n\u011b pokud se jedn\u00e1 p\u0159edev\u0161\u00edm o jednotliv\u00e9 pixely, kter\u00e9 se nespr\u00e1vn\u011b za\u0159adily do t\u0159\u00eddy Barely, jako je tomu na obr\u00e1zku n\u00ed\u017ee, tak nen\u00ed pot\u0159eba nic, proto\u017ee se to vy\u0159e\u0161\u00ed v postklasifika\u010dn\u00edch \u00faprav\u00e1ch.</p> <p> </p> V\u00fdsledek klasifikace a detail na \u0161patn\u011b klasifikovan\u00e9 jednotliv\u00e9 pixely"},{"location":"cviceni/cviceni8/#postklasifikacni-upravy","title":"Postklasifika\u010dn\u00ed \u00fapravy","text":"<p>Po dokon\u010den\u00ed klasifikace je n\u011bkdy vhodn\u00e9 prov\u00e9st postklasifika\u010dn\u00ed \u00fapravy. V na\u0161em p\u0159\u00edpad\u011b budou tyto \u00fapravy zahrnovat odfiltrov\u00e1n\u00ed \u0161patn\u011b klasifikovan\u00fdch pixel\u016f \u010di drobn\u00fdch skupin pixel\u016f. K tomu se pou\u017e\u00edv\u00e1 tzv. Sieve filtr, kter\u00fd tyto pixely odstran\u00ed a klasifikovan\u00fd v\u00fdsledek vyhlad\u00ed. Tento n\u00e1stroj bohu\u017eel nativn\u011b v ArcGIS Pro nen\u00ed, nicm\u00e9n\u011b byl vytvo\u0159en jedn\u00edm z u\u017eivatel\u016f a my si ho tak do ArcGIS Pro m\u016f\u017eeme p\u0159idat. Na  tomto odkazu si jej tedy st\u00e1hn\u011bte. Sta\u017een\u00fd soubor odzipujte a n\u00e1sledn\u011b jej p\u0159es Catalog \u2192 Computer najd\u011bte. Jedn\u00e1 se o klasick\u00fd toolbox, kter\u00fd v sob\u011b obsahuje dva n\u00e1stroje. My pou\u017eijeme n\u00e1stroj Regular Sieve. Zde nastav\u00edme vstupn\u00ed a v\u00fdstupn\u00ed rastr a tak\u00e9 minim\u00e1ln\u00ed velikost shluku pixel\u016f, kdy dan\u00fd shluk nebude odfiltrov\u00e1n (velikost se ud\u00e1v\u00e1 v pixelech). M\u016f\u017eeme tak\u00e9 m\u011bnit logick\u00fd v\u00fdraz, nicm\u00e9n\u011b cokoliv jin\u00e9ho ne\u017e is less than nebo is less than or equal to v tuto chv\u00edli nem\u00e1 asi smysl. Za\u010dneme nap\u0159. s hodnotou 10 a uvid\u00edme, jak bude klasifikovan\u00fd v\u00fdsledek vypadat pot\u00e9.</p> <p> </p> <p>N\u00e1stroj Regular Sieve bohu\u017eel z n\u011bjak\u00e9ho d\u016fvodu p\u0159eklasifikov\u00e1v\u00e1 data tak, aby \u010d\u00edslov\u00e1n\u00ed t\u0159\u00edd za\u010d\u00ednalo od 0. Tak\u017ee pokud jsme si je \u010d\u00edslovali od 1, tak do\u0161lo k jejich p\u0159e\u010d\u00edslov\u00e1n\u00ed. Pokud jsme m\u011bli \u010d\u00edslov\u00e1n\u00ed od 0, ale do\u0161lo ke zm\u011bn\u011b symbologie, m\u016f\u017eeme pou\u017e\u00edt n\u00e1stroj  Apply Symbology From Layer k p\u0159ekop\u00edrov\u00e1n\u00ed symbologie z p\u016fvodn\u00edho klasifikovan\u00e9ho v\u00fdsledku (uk\u00e1zalo se ale, \u017ee moc nefunguje). Nicm\u00e9n\u011b z n\u00e1sleduj\u00edc\u00edho porovn\u00e1n\u00ed je vid\u011bt, \u017ee aplikov\u00e1n\u00ed sieve filtru v\u00fdsledku v\u00fdrazn\u011b pomohlo.</p> <p> </p> Porovn\u00e1n\u00ed v\u00fdsledku klasifikace p\u0159ed pou\u017eit\u00edm sieve filtru a po jeho aplikov\u00e1n\u00ed"},{"location":"cviceni/cviceni8/#urceni-poctu-barelu","title":"Ur\u010den\u00ed po\u010dtu barel\u016f","text":"<p>Po dokon\u010den\u00ed klasifikace chceme zjistit, jakou celkovou plochu barely zab\u00edraj\u00ed, a z toho n\u00e1sledn\u011b odhadnout, kolik se v oblasti nach\u00e1z\u00ed celkem barel\u016f. Pro ur\u010den\u00ed celkov\u00e9 plochy nejprve zjist\u00edme, kolik pixel\u016f se klasifikovalo do t\u0159\u00eddy barel\u016f. K tomu m\u016f\u017eeme pou\u017e\u00edt bu\u010f n\u00e1stroj  Summarize Categorical Raster nebo se jednodu\u0161e pod\u00edvat do atributov\u00e9 tabulky vrstvy s aplikovan\u00fdm sieve filtrem (atributov\u00e1 tabulka p\u016fvodn\u00ed klasifikovan\u00e9 vrstvy bohu\u017eel tuto informaci nenab\u00edz\u00ed, tak\u017ee u n\u00ed by bylo pot\u0159eba pou\u017e\u00edt zm\u00edn\u011bn\u00fd n\u00e1stroj).</p> <p></p> <p>Z t\u00e9to tabulky by se nyn\u00ed dala vz\u00edt hodnota 172448, co\u017e je po\u010det pixel\u016f klasifikovan\u00fdch jako barely, a ur\u010dit z n\u00ed plochu a n\u00e1sledn\u011b i po\u010det barel\u016f. Nicm\u00e9n\u011b je pot\u0159eba vz\u00edt ale v potaz, \u017ee krom\u011b barel\u016f se do stejn\u00e9 t\u0159\u00eddy klasifikovaly i poz\u016fstatky hang\u00e1ru, n\u00e1kladn\u00ed auta a dal\u0161\u00ed zrezl\u00fd materi\u00e1l.</p> <p> </p> <p>Abychom ur\u010dili spr\u00e1vnou plochu, kterou pokr\u00fdvaj\u00ed barely, je pot\u0159eba tato m\u00edsta zamaskovat. Vytvo\u0159\u00edme si tedy v geodatab\u00e1zi novou Feature Class, ve kter\u00e9 n\u00e1sledn\u011b vytvo\u0159\u00edme polygony pokr\u00fdvaj\u00edc\u00ed hang\u00e1r a dal\u0161\u00ed m\u00edsta, klasifikovn\u00e1 jako barely. Nov\u00e9 prvky do polygonov\u00e9 vrstvy vkl\u00e1d\u00e1me p\u0159es menu Edit \u2192 Create. Vytvo\u0159en\u00e9 prvky si pot\u00e9 pro jistotu i ulo\u017e\u00edme v menu Edit \u2192 Save.</p> <p> </p> <p>Po vytvo\u0159en\u00ed polygon\u016f pou\u017eijeme ji\u017e zm\u00edn\u011bn\u00fd n\u00e1stroj Summarize Categorical Raster, do kter\u00e9ho vlo\u017e\u00edme klasifikovan\u00fd rastr a vytvo\u0159enou masku. V\u00fdslednou tabulku si n\u00e1sledn\u011b otev\u0159eme a se\u010dteme hodnoty sloupce C_0 (p\u0159\u00edpadn\u011b jin\u00e9ho sloupce odpov\u00eddaj\u00edc\u00edmu barel\u016fm).</p> <p> </p> <p>V m\u00e9m p\u0159\u00edpad\u011b to d\u00e1v\u00e1 hodnotu 11633. Tu ode\u010dteme od celkov\u00e9ho po\u010dtu pixel\u016f klasifikovan\u00fdch jako barely a zjist\u00edme spr\u00e1vnou plochu. V\u00fdpo\u010det by tedy vypadal zhruba takto:</p> <p>(172448 - 11633) \u00b7 S, kde S je plocha jednoho pixelu. V m\u00e9m p\u0159\u00edpad\u011b to vych\u00e1z\u00ed na n\u011bjak\u00fdch 14473,35 m<sup>2</sup>.</p> <p>Tuto hodnotu pot\u00e9 vyn\u00e1sob\u00edme \u010d\u00edslem 2,12 (po\u010det barel\u016f na metr \u010dtvere\u010dn\u00ed) a z\u00edsk\u00e1me tak odhad celkov\u00e9ho po\u010dtu barel\u016f. V m\u00e9m p\u0159\u00edpad\u011b vy\u0161lo, \u017ee se na \u00fazem\u00ed nach\u00e1zelo p\u0159ibli\u017en\u011b 30684 barel\u016f.</p>"},{"location":"cviceni/cviceni8/#ukol-vhr-data","title":"\u00dakol - VHR data","text":"<ul> <li>Prove\u010fte klasifikaci na vybran\u00e9 sc\u00e9n\u011b s c\u00edlem ur\u010dit celkovou plochu, kterou pokr\u00fdvaj\u00ed barely</li> <li>Ur\u010dete, kolik se v oblasti nach\u00e1z\u00ed celkem barel\u016f za p\u0159edpokladu, \u017ee na jeden metr \u010dtvere\u010dn\u00ed p\u0159ipad\u00e1 2,12 barel\u016f</li> <li>Do technick\u00e9 zpr\u00e1vy popi\u0161te postup, pomoc\u00ed kter\u00e9ho jste se k v\u00fdsledn\u00e9mu \u010d\u00edslu dopracovali</li> </ul>"},{"location":"cviceni/cviceni9/","title":"Tepeln\u00e1 anal\u00fdza pomoc\u00ed dat Landsat","text":""},{"location":"cviceni/cviceni9/#tepelna-analyza-pomoci-dat-landsat","title":"Tepeln\u00e1 anal\u00fdza pomoc\u00ed dat Landsat","text":""},{"location":"cviceni/cviceni9/#cil-cviceni","title":"C\u00edl cvi\u010den\u00ed","text":"<ul> <li>Sezn\u00e1mit se s daty Landsat</li> <li>Um\u011bt spo\u010d\u00edtat povrchovou teplotu na z\u00e1klad\u011b dat Landsat</li> </ul>"},{"location":"cviceni/cviceni9/#zakladni-pojmy","title":"Z\u00e1kladn\u00ed pojmy","text":"<ul> <li>LST - Land Surface Temperature - radia\u010dn\u00ed teplota zemsk\u00e9ho povrchu m\u011b\u0159en\u00e1 ve sm\u011bru senzoru</li> <li>LSE - Land Surface Emissivity - bezrozm\u011brn\u00e1 veli\u010dina ud\u00e1vaj\u00edc\u00ed jak \u00fa\u010dinn\u011b povrch vyza\u0159uje tepeln\u00e9 infra\u010derven\u00e9 z\u00e1\u0159en\u00ed</li> </ul>"},{"location":"cviceni/cviceni9/#program-landsat","title":"Program Landsat","text":"<p>Program Landsat je nejd\u00e9le prob\u00edhaj\u00edc\u00ed projekt zam\u011b\u0159en\u00fd na pozorov\u00e1n\u00ed Zem\u011b. Sc\u00e9ny zobrazuj\u00edc\u00ed zemsk\u00fd povrch poskytuje nep\u0159etr\u017eit\u011b ji\u017e od roku 1972. B\u011bhem v\u00edce ne\u017e pades\u00e1ti let bylo postupn\u011b vypu\u0161t\u011bno dev\u011bt dru\u017eic s n\u00e1zvy Landsat 1 a\u017e Landsat 9. V sou\u010dasn\u00e9 dob\u011b jsou aktivn\u00ed dru\u017eice Landsat 8 a Landsat 9 a z \u010d\u00e1sti i Landsat 7. Program spole\u010dn\u011b \u0159\u00edd\u00ed agentury  NASA a  U.S. Geological Survey. Ve\u0161ker\u00e1 data jsou voln\u011b dostupn\u00e1. V\u00edce o historii, sou\u010dasnosti i budoucnosti programu Landsat se m\u016f\u017eete dozv\u011bd\u011bt na n\u00e1sleduj\u00edch webov\u00fdch str\u00e1nk\u00e1ch:</p> <p> Landsat Satellite Missions</p> <p></p> Mise Landsat <p> youtube.comLandsat: Celebrating 50 Years (Extended Edition)</p>"},{"location":"cviceni/cviceni9/#landsat-89","title":"Landsat 8/9","text":"<p>V r\u00e1mci tohoto cvi\u010den\u00ed budeme pracovat s daty z jedn\u00e9 z t\u011bchto dvou dru\u017eic. Ob\u011b dru\u017eice nesou t\u00e9m\u011b\u0159 identick\u00e9 vybaven\u00ed s t\u00edm, \u017ee p\u0159\u00edstroje na Landsatu 9 jsou vylep\u0161en\u00fdmi replikami p\u0159\u00edstroj\u016f dru\u017eice Landsat 8. Na obou dru\u017eic\u00edch najdeme tedy dva senzory (OLI, resp. OLI-2 a TIRS, resp. TIRS-2). OLI je zkratkou pro Operational Land Imager, kter\u00fd sn\u00edm\u00e1 8 spektr\u00e1ln\u00edch p\u00e1sem a jedno p\u00e1smo panchromatick\u00e9. TIRS je zktratkou pro Thermal Infrared Sensor, kter\u00fd m\u011b\u0159\u00ed tepeln\u00e9 z\u00e1\u0159en\u00ed vyza\u0159ovan\u00e9 zemsk\u00fdm povrchem ve dvou term\u00e1ln\u00edch infra\u010derven\u00fdch p\u00e1smech.</p> <p> youtube.comLandsat 9: Continuing the Legacy</p> <p>Jednotliv\u00e1 p\u00e1sma Landsat 8 a 9 shrnuje n\u00e1sleduj\u00edc\u00ed tabulka:</p> <p></p>"},{"location":"cviceni/cviceni9/#stazeni-dat-landsat","title":"Sta\u017een\u00ed dat Landsat","text":"<p>Data Landsat budeme stahovat z port\u00e1lu  USGS EarthExplorer, kde je pot\u0159eba se nejprve zaregistrovat. Registraci provedeme p\u0159es tla\u010d\u00edtko Login v prav\u00e9 horn\u00ed \u010d\u00e1sti webov\u00fdch str\u00e1nek (vlastn\u00ed zku\u0161enost uk\u00e1zala, \u017ee registrace zde nen\u00ed zrovna nejjednodu\u0161\u0161\u00ed proces).</p> <p></p> <p>Kdy\u017e se n\u00e1m poda\u0159ilo se zaregistrovat, m\u016f\u017eeme p\u0159ej\u00edt k vybr\u00e1n\u00ed oblasti, ze kter\u00e9 budeme cht\u00edt data st\u00e1hnout. C\u00edlem tohoto cvi\u010den\u00ed je analyzovat tepeln\u00e9 ostrovy, tak\u017ee si najdeme n\u011bjak\u00e9 v\u011bt\u0161\u00ed m\u011bsto kdekoliv na sv\u011bt\u011b. N\u00e1sledn\u011b si na\u0161e \u00fazem\u00ed vyzna\u010d\u00edme oby\u010dejn\u00fdm klik\u00e1n\u00edm do mapov\u00e9ho okna.</p> <p></p> <p>Z\u00e1rove\u0148 si ve spodn\u00ed \u010d\u00e1sti z\u00e1lo\u017eky Search Criteria nastav\u00edme Date Range na obdob\u00ed letn\u00edch m\u011bs\u00edc\u016f a Cloud Cover na n\u011bjakou rozumnou hodnotu (chceme ide\u00e1ln\u011b bezobla\u010dnou sc\u00e9nu).</p> <p> </p> <p>D\u00e1le se p\u0159epneme do z\u00e1lo\u017eky Data Sets, kde zvol\u00edme, jak\u00e1 data budeme cht\u00edt stahovat. V na\u0161em p\u0159\u00edpad\u011b zvol\u00edme Landsat \u2192 Landsat Collection 2 Level-1 \u2192 Landsat 8-9 OLI/TIRS C2 L1. Jedn\u00e1 se o data bez atmosferick\u00fdch korekc\u00ed, kter\u00e1 pro anal\u00fdzu povrchov\u00e9 teploty budeme pot\u0159ebovat.</p> <p></p> <p>Z\u00e1lo\u017eku Addittional Criteria m\u016f\u017eeme p\u0159esko\u010dit a rovnou se p\u0159epnout do z\u00e1lo\u017eky Results. Zde si ji\u017e m\u016f\u017eeme vybrat jednu z nab\u00edzen\u00fdch sc\u00e9n. Pomoc\u00ed funkce Show Browse Overlay se m\u016f\u017eeme pod\u00edvat, jak dob\u0159e se dan\u00e1 sc\u00e9na s na\u0161\u00edm uzem\u00edm p\u0159ekr\u00fdv\u00e1.</p> <p></p> <p>Pokud jsme se sc\u00e9nou spokojeni, klikneme na ikonu Download Options. Zde si zvol\u00edme, jak\u00e9 soubory chceme stahovat. V na\u0161em p\u0159\u00edpad\u011b si st\u00e1hneme v\u0161echny soubory. Klikneme tedy na Product Options a st\u00e1hneme si celou Landsat kolekci.</p> <p> </p> <p>K Level 1 produktu si nicm\u00e9n\u011b st\u00e1hneme i Level 2 produkt (pokud je k dispozici). V z\u00e1lo\u017ece Data Sets sta\u010d\u00ed jen zm\u011bnit data na Landsat \u2192 Landsat Collection 2 Level-2 \u2192 Landsat 8-9 OLI/TIRS C2 L2 a pot\u00e9 kliknout zp\u00e1tky do Results, kde si vybereme koresponduj\u00edc\u00ed sc\u00e9nu s Level 1 produktem. Level 2 produkt v sob\u011b m\u00e1 ji\u017e p\u00e1smo odpov\u00eddaj\u00edc\u00ed Land Surface Temperature. K jeho hodnot\u00e1m se ale do\u0161lo trochu jinak, ne\u017e jak k nim dojdeme my. V z\u00e1v\u011bru cvi\u010den\u00ed m\u016f\u017eeme ale na\u0161e v\u00fdsledky s ji\u017e p\u0159edzpracovan\u00fdm p\u00e1smem porovnat.</p>"},{"location":"cviceni/cviceni9/#otevreni-a-zobrazeni-dat","title":"Otev\u0159en\u00ed a zobrazen\u00ed dat","text":"<p>Pokud jsme stahovali v\u0161echna data najednou (a ne t\u0159eba jen vybran\u00e1 p\u00e1sma), tak jsme data obdr\u017eeli ve form\u00e1tu TAR. Jedn\u00e1 se o podobn\u00fd form\u00e1t jako ZIP, ale nedoch\u00e1z\u00ed zde ke kompresi. Data v tomto form\u00e1tu lze rozbalit nap\u0159. pomoc\u00ed n\u00e1stroje  7-Zip. Pokud 7-Zip v u\u010debn\u011b nen\u00ed nainstalovan\u00fd, lze pou\u017e\u00edt i Total Commander.</p> <p></p> <p>Po rozbalen\u00ed dat si do ArcGIS Pro nahrajeme p\u00e1sma B2, B3 a B4 a vytvo\u0159\u00edme si z nich RGB kompozit pomoc\u00ed funkce  Composite Bands. P\u0159ipom\u00edn\u00e1m, \u017ee pracujeme s Level 1 daty.</p> <p></p>"},{"location":"cviceni/cviceni9/#vypocet-povrchove-teploty","title":"V\u00fdpo\u010det povrchov\u00e9 teploty","text":"<p>V\u00fdpo\u010det povrchov\u00e9 teploty se bude skl\u00e1dat z celkem \u0161esti krok\u016f, kter\u00e9 si postupn\u011b projdeme. Z\u00e1kladem v\u00fdpo\u010dtu bude term\u00e1ln\u00ed p\u00e1smo B10, kter\u00e9 si nejprve tedy p\u0159id\u00e1me do ArcGIS Pro.</p>"},{"location":"cviceni/cviceni9/#1-prevod-digitalnich-hodnot-na-toa-zareni","title":"1) P\u0159evod digit\u00e1ln\u00edch hodnot na TOA z\u00e1\u0159en\u00ed","text":"<p>Prvn\u00edm krokem je, \u017ee si p\u0159evedeme digit\u00e1ln\u00ed hodnoty pixel\u016f v p\u00e1smu B10 na hodnoty z\u00e1\u0159en\u00ed na vrcholu atmosf\u00e9ry (TOA = Top of Atmospheric). Vzore\u010dek pro tento p\u0159evod je n\u00e1sleduj\u00edc\u00ed:</p> <p>TOA = M<sub>L</sub>\u00b7B<sub>10</sub> + A<sub>L</sub></p> <p>kde:</p> <p>M<sub>L</sub> je multiplikativn\u00ed p\u0159e\u0161k\u00e1lovac\u00ed faktor, jeho\u017e hodnotu najdeme v metadatech dan\u00e9ho Landsat produktu. Metada nalezneme v textov\u00e9m souboru kon\u010d\u00edc\u00edm na _MTL.txt. Konkr\u00e9tn\u011b se pak jedn\u00e1 o hodnotu RADIANCE_MULT_BAND_10</p> <p>B<sub>10</sub> je term\u00e1ln\u00ed p\u00e1smo B10</p> <p>A<sub>L</sub> je aditivn\u00ed p\u0159e\u0161k\u00e1lovac\u00ed faktor, kter\u00fd rovn\u011b\u017e najdeme v metadatech, kde nese n\u00e1zev RADIANCE_ADD_BAND_10</p> <p>K v\u00fdpo\u010dtu pou\u017eijeme n\u00e1stroj  Raster Calculator.</p> <p></p>"},{"location":"cviceni/cviceni9/#2-prevod-toa-zareni-na-jasovou-teplotu","title":"2) P\u0159evod TOA z\u00e1\u0159en\u00ed na jasovou teplotu","text":"<p>Pro v\u00fdpo\u010det jasov\u00e9 teploty (Brightness Temperature) pou\u017eijeme n\u00e1sleduj\u00edc\u00ed vzorec:</p> <p>BT = K<sub>2</sub> / ln(K<sub>1</sub>/TOA + 1) \u2212 273.15</p> <p>kde:</p> <p>K<sub>2</sub> a K<sub>1</sub> jsou konstanty tepeln\u00e9 konverze, kter\u00e9 najdeme v metadatech pod n\u00e1zvy K1_CONSTANT_BAND_10 a K2_CONSTANT_BAND_10</p> <p></p>"},{"location":"cviceni/cviceni9/#3-vypocet-ndvi","title":"3) V\u00fdpo\u010det NDVI","text":"<p>V dal\u0161\u00edm kroku vypo\u010dteme index NDVI. Ten bude n\u00e1sledn\u011b slou\u017eit k ur\u010den\u00ed emisivity povrchu. Vzore\u010dek pro NDVI ji\u017e v\u0161ichi zn\u00e1me. Pokud ne, tak jeho podoba je n\u00e1sleduj\u00edc\u00ed (pozor na jin\u00e9 po\u0159ad\u00ed p\u00e1sem oproti Sentinel-2):</p> <p>NDVI = (NIR - Red)/(NIR + Red) = (B5 - B4)/(B5 + B4)</p> <p>A jeliko\u017e m\u00e1me p\u00e1sma jednotliv\u011b a ne v jedn\u00e9 vrstv\u011b, pou\u017eijeme znovu Raster Calculator.</p> <p></p>"},{"location":"cviceni/cviceni9/#4-zjisteni-podilu-vegetace","title":"4) Zji\u0161t\u011bn\u00ed pod\u00edlu vegetace","text":"<p>Vzorec pro ur\u010den\u00ed pod\u00edlu vegetace m\u00e1 n\u00e1sleduj\u00edc\u00ed tvar:</p> <p>P<sub>V</sub> = ((NDVI - NDVI<sub>min</sub>)/(NDVI<sub>max</sub> - NDVI<sub>min</sub>))<sup>2</sup></p> <p>Hodnoty NDVI<sub>min</sub> a NDVI<sub>max</sub> zjist\u00edme nap\u0159. p\u0159\u00edmo z panelu Contents.</p> <p> </p>"},{"location":"cviceni/cviceni9/#5-vypocet-emisivity-povrchu","title":"5) V\u00fdpo\u010det emisivity povrchu","text":"<p>V p\u0159edposledn\u00edm kroku pomoc\u00ed NDVI vypo\u010dteme emisivitu zemsk\u00e9ho povrchu. Vzore\u010dek je n\u00e1sleduj\u00edc\u00ed:</p> <p>e = 0,004 \u00b7 P<sub>V</sub> + 0,986</p> <p></p>"},{"location":"cviceni/cviceni9/#6-vypocet-teploty-povrchu","title":"6) V\u00fdpo\u010det teploty povrchu","text":"<p>Posledn\u00edm krokem je ji\u017e v\u00fdpo\u010det samotn\u00e9 teploty povrchu.</p> <p>LST = BT / (1 + (\u03bb\u00b7BT/14388)\u00b7ln(e))</p> <p>kde:</p> <p>\u03bb je vlnov\u00e1 d\u00e9lka vyza\u0159ovan\u00e9ho z\u00e1\u0159en\u00ed p\u00e1sma B10. Pou\u017eijeme pr\u016fm\u011brnou hodnotu z intervalu 10,6 - 11,19 \u2192 tedy 10,895 (hodnota je v mikrometrech, ale nemus\u00edme ji p\u0159ev\u00e1d\u011bt, proto\u017ee konstanta 14388 je rovn\u011b\u017e v mikrometrech).</p> <p></p>"},{"location":"cviceni/cviceni9/#zhodnoceni-vysledku","title":"Zhodnocen\u00ed v\u00fdsledk\u016f","text":"<p>Takto vypo\u010dtenou teplotu povrchu jsme obdr\u017eeli rovnou ve \u00b0C. Pokud jsme nikde neud\u011blali chybu, tak vid\u00edme, \u017ee v\u00fdsledky jsou realistick\u00e9. Je ale dobr\u00e9 si uv\u011bdomit, \u017ee se nejedn\u00e1 o stejnou teplotu jako je teplota vzduchu.</p> <p></p> <p>D\u00e1le je vhodn\u00e9 si data obarvit n\u011bjak\u00fdm rozumn\u00fdm barevn\u00fdm sch\u00e9matem, kter\u00e9 bude pro zobrazen\u00ed teploty ituitivn\u011bj\u0161\u00ed. V m\u00e9m p\u0159\u00edpad\u011b barevnou \u0161k\u00e1lu trochu zkresluje drobn\u00e1 obla\u010dnost v severn\u00ed \u010d\u00e1sti sc\u00e9ny a pro lep\u0161\u00ed vyzualizaci teplot ve m\u011bst\u011b by st\u00e1lo za to sc\u00e9nu o\u0159\u00edznout.</p> <p></p> <p>P\u0159i porovn\u00e1n\u00ed s NDVI m\u016f\u017eeme vid\u011bt, \u017ee ni\u017e\u0161\u00ed teploty odpov\u00eddaj\u00ed m\u00edst\u016fm se zelen\u00ed a naopak m\u00edsta bez zelen\u011b maj\u00ed teplotu o pozn\u00e1n\u00ed vy\u0161\u0161\u00ed (co\u017e samoz\u0159ejm\u011b d\u00e1v\u00e1 smysl, ale je v\u017edy dobr\u00e9 m\u00edt to \u010d\u00edm podpo\u0159it).</p> <p> </p> Vlevo - RGB sc\u00e9na, uprost\u0159ed - povrchov\u00e1 teplota, vpravo - NDVI"},{"location":"cviceni/cviceni9/#porovnani-s-level-2-produktem","title":"Porovn\u00e1n\u00ed s Level 2 produktem","text":"<p>Level 2 Landsat produkt nab\u00edz\u00ed ji\u017e p\u0159edzpracovan\u00e9 term\u00e1ln\u00ed p\u00e1smo, a pro zji\u0161t\u011bn\u00ed povrchov\u00e9 teploty ho lze pouze p\u0159e\u0161k\u00e1lovat pomoc\u00ed spr\u00e1vn\u00fdch koeficient\u016f. P\u0159id\u00e1me si tedy do ArcGIS Pro p\u00e1smo B10 z Level 2 produktu a pomoc\u00ed n\u00e1sleduj\u00edc\u00edho vzorce ho p\u0159e\u0161k\u00e1lujeme:</p> <p>LST = M<sub>T</sub>\u00b7B<sub>10</sub> + A<sub>T</sub> - 273,15</p> <p>kde:</p> <p>M<sub>T</sub> je multiplikativn\u00ed p\u0159e\u0161k\u00e1lovac\u00ed faktor, kter\u00fd nalezneme v metadatech (textov\u00fd soubor s koncovkou _MTL.txt) pod n\u00e1zvem TEMPERATURE_MULT_BAND_ST_B10</p> <p>A<sub>T</sub> je aditivn\u00ed p\u0159e\u0161k\u00e1lovac\u00ed faktor, kter\u00fd nalezneme v metadatech pod n\u00e1zvem TEMPERATURE_ADD_BAND_ST_B10</p> <p></p> <p>V m\u00e9m p\u0159\u00edpad\u011b se v\u00fdsledky trochu li\u0161\u00ed. V z\u00e1stavb\u011b byl rozd\u00edl a\u017e 10 \u00b0C, v oblastech s vegetac\u00ed se zji\u0161t\u011bn\u00e1 teplota li\u0161ila zhruba o 5 \u00b0C a na vodn\u00edch ploch\u00e1ch byl rozd\u00edl p\u0159ibli\u017en\u011b 3 \u00b0C. Ot\u00e1zkou tak z\u016fst\u00e1v\u00e1, pro\u010d se v\u00fdsledky takto li\u0161\u00ed, a kter\u00fd v\u00fdsledek je p\u0159esn\u011bj\u0161\u00ed.</p> <p></p> <p>Pro zaj\u00edmavost zde p\u0159id\u00e1v\u00e1m odstavec z ofici\u00e1ln\u00ed  p\u0159\u00edru\u010dky Landsat 8-9:</p> <p>\"The Landsat 8-9 Surface Temperature (ST) product is generated from the single channel algorithm version 1.3.0 (derived from June 2017 version of RIT ST code). The Landsat 8-9 Collection 2 ST is derived from the Collection 2 Level 1 Thermal Infrared Sensor (TIRS) band 10 using Top of Atmosphere (TOA) Reflectance, TOA Brightness Temperature (BT), Advanced Spaceborne Thermal Emission and Reflection Radiometer (ASTER) Global Emissivity Dataset (GED) data, ASTER Normalized Difference Vegetation Index (NDVI) data, and atmospheric profiles of geopotential height, specific humidity, and air temperature extracted from reanalysis data.\"</p>"},{"location":"cviceni/cviceni9/#ukol-vypocet-povrchove-teploty","title":"\u00dakol - V\u00fdpo\u010det povrchov\u00e9 teploty","text":"<ul> <li>St\u00e1hn\u011bte si data Landsat 8/9 z doby letn\u00edch m\u011bs\u00edc\u016f pro n\u011bjak\u00e9 v\u011bt\u0161\u00ed m\u011bsto</li> <li>Spo\u010dt\u011bte povrchovou teplotu jak z Level 1, tak i z Level 2 dat</li> <li>V\u00fdsledky vizualizujte pomoc\u00ed vhodn\u00e9 barevn\u00e9 \u0161k\u00e1ly</li> </ul>"}]}